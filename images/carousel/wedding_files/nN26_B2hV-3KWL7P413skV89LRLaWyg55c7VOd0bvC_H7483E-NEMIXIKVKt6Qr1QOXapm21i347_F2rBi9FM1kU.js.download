if (self.CavalryLogger) { CavalryLogger.start_js(["X3Wb3"]); }

__d("VideoPlayerFormatsMap",[],(function(a,b,c,d,e,f){e.exports={topic_live:"inline",live_map:"inline",live_map_sidebar:"inline",live_map_listview:"inline",live_map_tooltip:"inline",live_map_tooltip_from_listview:"inline",live_map_tooltip_from_map:"inline",video_home_inline:"inline",inline:"inline",chained:"inline",page_live_video_module:"inline",chained_suggestion:"inline",embedded_video:"inline",embedded_video_preview:"inline",embedded_video_from_ufi:"inline",ufi_comment_attachment:"inline",media_collage:"inline",media_viewer:"inline",channel:"channel",watch:"watch",permalink:"permalink",snowlift:"snowlift",tv:"tv",watch_scroll:"watch_scroll",continue_watching_recommendation:"inline",tahoe:"tahoe",search_live_video_module:"inline",videohub_live:"inline",camera_post:"fb_stories",pages_cover:"inline",video_page_spotlight_unit:"inline",pages_cover_hover:"inline",pages_messaging_video:"inline",profile_overview:"inline",profile_cover:"inline",memory_leak_test:"inline",games_video_home_streamer_hub:"inline",games_video_live_recommendation:"inline",games_video_search_unit:"inline",games_video_streamer_unit:"inline",trivia_game_admin_dashboard:"misc",games_streamer_dashboard:"inline",games_video_clips_home:"inline",games_video_clips_home_immersive_player:"inline",ads_preview:"inline",discover:"inline",business_feed:"inline",sotto_consideration_page:"inline",series_card:"inline",video_list:"inline",video_home_thumbnail_preview:"inline",work_captions_review:"inline",live_pyml:"inline",serp_thumbnail_preview:"inline",linear_channel:"inline",events_cover:"inline",fundraiser_cover:"inline",video_wall:"inline",live_clips_creator:"inline",live_evergreen_qp:"inline",messenger_cowatch:"inline",ads:null,animated_image_share:null,asset:null,aymt:null,ballot:null,biz_art:null,broadcast_request_attachment:null,candidate_videos:null,catalog_manager:null,channel_tab:null,commerce_manager:null,corporate_card_application:null,cricket_matches_aggregation:null,creator_studio_stars_cue_insertion_preview:null,dim_sum:null,embedded:null,embedded_page_plugin:null,entry_point:null,events_live_cta:null,events_live_video_section:null,gameroom_live_video_hero_banner:null,gameroom_live_video_tab:null,gameroom_live_video_thumbnail:null,games_arena_hero:null,games_arena_videos_tab:null,games_feed_story_header:null,games_verse_destination:null,games_video_clips_home_top_clips:null,games_video_clips_home_my_clips:null,games_video_community_feed:null,games_video_explore_home:null,games_video_home:null,games_video_home_hero:null,games_video_single_game:null,games_video_top_weekly_clips_streamer_page:null,games_video_highlighted_clips_streamer_page:null,games_video_social_plugin:null,games_video_hub:null,games_video_hub_redirect_notification:null,games_video_hub_redirect_unknown:null,games_video_qp_recommended_live:null,games_video_qp_us_recommended_live:null,games_video_mixer_us_qp_recommended_live:null,games_video_home_left_rail:null,games_video_home_see_all:null,games_video_home_streamer_hub_hero:null,group_live_video_module:null,groups_cover:null,goodwill_product_system:null,html5:null,inline_end_screen:null,insights:null,intern_crm_call_recording:null,intern_curation:null,intern_example:null,issues_module:null,live_beeper:null,live_control_panel:null,live_hero:null,live_linear:null,live_map_tooltip_from_webgl:null,live_page_upcoming_next_unit:null,live_producer:null,live_rhc:null,live_shopping:null,live_gaming_rhc:null,live_video_broadcast:null,live_video_preview:null,live_msite:null,living_room:null,living_room_commentating:null,living_room_recap_fullscreen:null,living_room_recap_inline:null,lookback:null,messaging:null,messenger_thread:null,misc:null,mobile:null,movies_recommended_movies_qp:null,not_specified_please_fix:null,offers_detail:null,oculus_games:null,oculus_hub:null,oculus_recommended_video_unit:null,page_live_tab:null,page_roles:null,page_timeline_live_card:null,pages_finch_main_video:null,pages_finch_thumbnail_video:null,pages_finch_trailer:null,pages_video_set:null,pages_timeline_pages_cover:null,pages_home_hero:null,video_page_video_list:null,pages_home_pmv_unit:null,people_portal:null,pmv_top_chart_cta:null,profile_video:null,profile_video_hovercard:null,profile_video_thumb:null,profile_plus_video_tab:null,profile_plus_videos_card:null,profile_plus_live_card:null,profile_plus_popular_video_card:null,proton:null,report_flow:null,review:null,robotics_rtc_page:null,robotics_tour_guide_page:null,serp_videos_tab:null,slideshow:null,stories_video_preview:null,srt_review:null,topic_channel_living_room:null,topic_gaming:null,trailer_og_attachment:null,trailer_timeline_collections:null,trailer_timeline_unit:null,user_video_tab:null,video_copyright_preview:null,video_home_catalog:null,topic_sports:null,topic_cricket:null,explore:null,video_home_channel:null,watchlist:null,video_home_cricket:null,video_home_rainbow_qp:null,video_inline_chaining:null,videohub_featured:null,videohub_playlist:null,live_autoplay_watch_and_scroll:null,video_page_unspecified:null,spotlight_live:null,spotlight_featured:null,spotlight_popular:null,spotlight_unknown:null,videos_card:null,videos_tab:null,playlists_tab:null,playlists_card:null,playlist_page:null,redirected_watch_serp:null,shows_catalog:null,sotto_catalog:null,results:null,watch_history:null,serp_inline_player:null,music_home:null,music_home_deeplink:null,music_home_entry_aggregation:null,music_home_internal_bookmark:null,music_home_newsfeed_attachment:null,music_home_newsfeed_attachment_trending:null,music_home_notification:null,music_home_qp:null,music_home_qp_overlay_header:null,music_home_search_shortcut:null,music_home_serp:null,music_home_springboard_unit:null,music_home_stations_qp:null,music_home_tappable_edge_header:null,music_home_third_party_pivot:null,music_home_unknown:null,music_home_watch_cue:null,music_home_watch_cue_artist:null,music_home_watch_cue_trending:null,music_home_watch_pill:null,music_home_watch_search:null,music_home_watch_stations_unit:null,music_home_watch_surface_promotion_pill:null,music_videos_playlists_card:null,music_videos_featuring_artist_card:null,music_weekly_chart:null,media_match_service:null,morc_console:null,workplace_insights:null,work_video_qp:null,work_top_of_feed_unit:null,watch_casting_qp:null}}),null);
__d("VideoViewabilityKeyEvents",[],(function(a,b,c,d,e,f){e.exports={Events:["entered_fs","exited_fs","finished_playing","paused","player_format_changed","started_playing","unpaused"]}}),null);
__d("LiveVideoCopyrightActionSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"LiveVideoCopyrightActionSubscribeResponsePayload",kind:"LinkedField",name:"live_video_copyright_action_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LiveVideoCopyrightActionSubscription",selections:b,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LiveVideoCopyrightActionSubscription",selections:b},params:{id:"2024168130980964",metadata:{subscriptionName:"live_video_copyright_action_subscribe"},name:"LiveVideoCopyrightActionSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("VideoComponentContextMenuQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"videoID"}],b=[{kind:"Variable",name:"id",variableName:"videoID"}],c={kind:"InlineFragment",selections:[{alias:"permalinkUrl",args:null,kind:"ScalarField",name:"permalink_url",storageKey:null}],type:"Video",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoComponentContextMenuQuery",selections:[{alias:"video",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoComponentContextMenuQuery",selections:[{alias:"video",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c],storageKey:null}]},params:{id:"1670532989662600",metadata:{},name:"VideoComponentContextMenuQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PopoverAsyncMenu",["Bootloader","Event","KeyStatus","PopoverMenu","VirtualCursorStatus","setImmediate"],(function(a,b,c,d,e,f){var g={},h=0;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,i,j){c=a.call(this,c,d,null,i)||this;c._endpoint=f;c._endpointData=j||{};c._loadingMenu=e;c._instanceId=h++;g[c._instanceId]=babelHelpers.assertThisInitialized(c);c._mouseoverListener=b("Event").listen(d,"mouseover",c.fetchMenu.bind(babelHelpers.assertThisInitialized(c)));return c}var d=c.prototype;d._onLayerInit=function(){var a=this;!this._menu&&this._loadingMenu&&this.setMenu(this._loadingMenu);this._popover.getLayer().subscribe("key",this._handleKeyEvent.bind(this));this._triggerInfo={isKeyDown:b("KeyStatus").isKeyDown(),isVirtualCursorTriggered:b("VirtualCursorStatus").isVirtualCursorTriggered()};b("setImmediate")(function(){return a.fetchMenu()})};d._onPopoverHide=function(){a.prototype._onPopoverHide.call(this),this._triggerInfo=null};d._refetchMenu=function(){this._menu&&(this._menu.destroy(),this._fetched=!1,this._mouseoverListener=b("Event").listen(this.getTriggerElem(),"mouseover",this.fetchMenu.bind(this)))};d.fetchMenu=function(){var a=this;if(this._fetched)return;b("Bootloader").loadModules(["AsyncRequest"],function(b){new b().setURI(a._endpoint).setData(Object.assign({pmid:a._instanceId},a._endpointData)).send()},"PopoverAsyncMenu");this._fetched=!0;this._mouseoverListener&&(this._mouseoverListener.remove(),this._mouseoverListener=null)};d._setFocus=function(a){var b=this._triggerInfo||{},c=b.isKeyDown;b=b.isVirtualCursorTriggered;this.setInitialFocus(a,c||b);this._triggerInfo=null};c.setMenu=function(a,b){a=g[a];a.setMenu(b);a._setFocus(b)};c.disableTypeaheadActivationForInstance=function(a){a=g[a];a._isTypeaheadActivationDisabled=!0};c.getInstance=function(a){return g[a]};c.getInstanceByTriggerElem=function(a){var b=null;Object.keys(g).forEach(function(c){g[c]._triggerElem==a&&(b=g[c])});return b};return c}(b("PopoverMenu"));e.exports=a}),null);
__d("PopoverAsyncMenu.react",["cx","CSS","InlineBlock.react","MenuTheme","Popover","PopoverAsyncMenu","PopoverLoadingMenu","PopoverMenu.react","React","ReactDOM","URI","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){var h,i=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getPopoverMenu=function(){return d.$2},d.$3=function(){var a=b("ReactDOM").findDOMNode(d.refs.root);a=a.firstChild;return new(b("PopoverAsyncMenu"))(d.$1,a,d.props.loadingMenu,d.props.endpoint,d.props.behaviors,d.props.endpointData)},d.getMenu=function(){return d.$2.getMenu()},d.showPopover=function(a){d.$1.showLayer();if(a){var b=d.$2.getMenu();b.blur();b.focusAnItem(a)}},d.hidePopover=function(){var a=d.$1;a&&a.isShown()&&a.hideLayer()},d.getFocusedItem=function(){var a=d.$2.getMenu();return a.getFocusedItem()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;a=b("ReactDOM").findDOMNode(this.refs.root);var c=a.firstChild;b("CSS").addClass(c,"_p");this.$1=new(b("Popover"))(a,c,this.props.layerBehaviors,{alignh:this.props.alignh,position:this.props.position,disabled:this.props.disabled});this.props.onShow&&this.$1.subscribe("show",this.props.onShow);this.props.onHide&&this.$1.subscribe("hide",this.props.onHide);this.$2=this.$3()};d.componentDidUpdate=function(a){this.props.alignh!==a.alignh&&this.$2.getPopover().getLayer().setAlignment(this.props.alignh),this.props.disabled!==a.disabled&&(this.props.disabled?this.$2.disable():this.$2.enable()),this.props.endpoint.toString()!==a.endpoint.toString()&&(this.hidePopover(),this.$2=this.$3())};d.render=function(){var a=i.Children.map(this.props.children,function(a,c){if(c===0)return i.cloneElement(a,{className:b("joinClasses")(a.props.className,"_p")});else return a});return i.jsx(b("InlineBlock.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"uiPopover"),ref:"root",disabled:null,children:a}))};d.componentWillUnmount=function(){this.hidePopover()};return c}(i.Component);a.getButtonSize=b("PopoverMenu.react").getButtonSize;a.propTypes={alignh:(c=b("prop-types")).oneOf(["left","center","right"]),alignv:c.oneOf(["baseline","bottom","middle","top"]),position:c.oneOf(["above","below","left","right"]),layerBehaviors:c.array,loadingMenu:c.instanceOf(b("PopoverLoadingMenu")),disabled:c.bool,endpoint:c.oneOfType([c.string.isRequired,c.instanceOf(h||(h=b("URI"))).isRequired]),endpointData:b("prop-types").object,onShow:b("prop-types").func,onHide:b("prop-types").func};a.defaultProps={alignv:"middle",loadingMenu:new(b("PopoverLoadingMenu"))({theme:b("MenuTheme")})};e.exports=a}),null);
__d("SparkMD5",[],(function(a,b,c,d,e,f){"use strict";var g=function(a,b){return a+b&4294967295},h=function(a,b,c,d,e,f){b=g(g(b,a),g(d,f));return g(b<<e|b>>>32-e,c)},i=function(a,b,c,d,e,f,g){return h(b&c|~b&d,a,b,e,f,g)},j=function(a,b,c,d,e,f,g){return h(b&d|c&~d,a,b,e,f,g)},k=function(a,b,c,d,e,f,g){return h(b^c^d,a,b,e,f,g)},l=function(a,b,c,d,e,f,g){return h(c^(b|~d),a,b,e,f,g)},m=function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3];c=i(c,d,e,f,b[0],7,-680876936);f=i(f,c,d,e,b[1],12,-389564586);e=i(e,f,c,d,b[2],17,606105819);d=i(d,e,f,c,b[3],22,-1044525330);c=i(c,d,e,f,b[4],7,-176418897);f=i(f,c,d,e,b[5],12,1200080426);e=i(e,f,c,d,b[6],17,-1473231341);d=i(d,e,f,c,b[7],22,-45705983);c=i(c,d,e,f,b[8],7,1770035416);f=i(f,c,d,e,b[9],12,-1958414417);e=i(e,f,c,d,b[10],17,-42063);d=i(d,e,f,c,b[11],22,-1990404162);c=i(c,d,e,f,b[12],7,1804603682);f=i(f,c,d,e,b[13],12,-40341101);e=i(e,f,c,d,b[14],17,-1502002290);d=i(d,e,f,c,b[15],22,1236535329);c=j(c,d,e,f,b[1],5,-165796510);f=j(f,c,d,e,b[6],9,-1069501632);e=j(e,f,c,d,b[11],14,643717713);d=j(d,e,f,c,b[0],20,-373897302);c=j(c,d,e,f,b[5],5,-701558691);f=j(f,c,d,e,b[10],9,38016083);e=j(e,f,c,d,b[15],14,-660478335);d=j(d,e,f,c,b[4],20,-405537848);c=j(c,d,e,f,b[9],5,568446438);f=j(f,c,d,e,b[14],9,-1019803690);e=j(e,f,c,d,b[3],14,-187363961);d=j(d,e,f,c,b[8],20,1163531501);c=j(c,d,e,f,b[13],5,-1444681467);f=j(f,c,d,e,b[2],9,-51403784);e=j(e,f,c,d,b[7],14,1735328473);d=j(d,e,f,c,b[12],20,-1926607734);c=k(c,d,e,f,b[5],4,-378558);f=k(f,c,d,e,b[8],11,-2022574463);e=k(e,f,c,d,b[11],16,1839030562);d=k(d,e,f,c,b[14],23,-35309556);c=k(c,d,e,f,b[1],4,-1530992060);f=k(f,c,d,e,b[4],11,1272893353);e=k(e,f,c,d,b[7],16,-155497632);d=k(d,e,f,c,b[10],23,-1094730640);c=k(c,d,e,f,b[13],4,681279174);f=k(f,c,d,e,b[0],11,-358537222);e=k(e,f,c,d,b[3],16,-722521979);d=k(d,e,f,c,b[6],23,76029189);c=k(c,d,e,f,b[9],4,-640364487);f=k(f,c,d,e,b[12],11,-421815835);e=k(e,f,c,d,b[15],16,530742520);d=k(d,e,f,c,b[2],23,-995338651);c=l(c,d,e,f,b[0],6,-198630844);f=l(f,c,d,e,b[7],10,1126891415);e=l(e,f,c,d,b[14],15,-1416354905);d=l(d,e,f,c,b[5],21,-57434055);c=l(c,d,e,f,b[12],6,1700485571);f=l(f,c,d,e,b[3],10,-1894986606);e=l(e,f,c,d,b[10],15,-1051523);d=l(d,e,f,c,b[1],21,-2054922799);c=l(c,d,e,f,b[8],6,1873313359);f=l(f,c,d,e,b[15],10,-30611744);e=l(e,f,c,d,b[6],15,-1560198380);d=l(d,e,f,c,b[13],21,1309151649);c=l(c,d,e,f,b[4],6,-145523070);f=l(f,c,d,e,b[11],10,-1120210379);e=l(e,f,c,d,b[2],15,718787259);d=l(d,e,f,c,b[9],21,-343485551);a[0]=g(c,a[0]);a[1]=g(d,a[1]);a[2]=g(e,a[2]);a[3]=g(f,a[3])},n=function(a){var b=[],c;for(c=0;c<64;c+=4)b[c>>2]=a.charCodeAt(c)+(a.charCodeAt(c+1)<<8)+(a.charCodeAt(c+2)<<16)+(a.charCodeAt(c+3)<<24);return b},o=function(a){var b=[],c;for(c=0;c<64;c+=4)b[c>>2]=a[c]+(a[c+1]<<8)+(a[c+2]<<16)+(a[c+3]<<24);return b},p=function(a){var b=a.length,c=[1732584193,-271733879,-1732584194,271733878],d,e,f;for(d=64;d<=b;d+=64)m(c,n(a.substring(d-64,d)));a=a.substring(d-64);e=a.length;f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<e;d+=1)f[d>>2]|=a.charCodeAt(d)<<(d%4<<3);f[d>>2]|=128<<(d%4<<3);if(d>55){m(c,f);for(d=0;d<16;d+=1)f[d]=0}e=b*8;e=e.toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(e[2],16);d=parseInt(e[1],16)||0;f[14]=a;f[15]=d;m(c,f);return c},q=function(a){var b=a.length,c=[1732584193,-271733879,-1732584194,271733878],d,e,f;for(d=64;d<=b;d+=64)m(c,o(a.subarray(d-64,d)));a=d-64<b?a.subarray(d-64):new Uint8Array(0);e=a.length;f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<e;d+=1)f[d>>2]|=a[d]<<(d%4<<3);f[d>>2]|=128<<(d%4<<3);if(d>55){m(c,f);for(d=0;d<16;d+=1)f[d]=0}a=b*8;a=a.toString(16).match(/(.*?)(.{0,8})$/);e=parseInt(a[2],16);d=parseInt(a[1],16)||0;f[14]=e;f[15]=d;m(c,f);return c},r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],s=function(a){var b="",c;for(c=0;c<4;c+=1)b+=r[a>>c*8+4&15]+r[a>>c*8&15];return b},t=function(a){var b;for(b=0;b<a.length;b+=1)a[b]=s(a[b]);return a.join("")};a=function(a){return t(p(a))};b=function(){this.reset()};a("hello")!=="5d41402abc4b2a76b9719d911017c592"&&(g=function(a,b){var c=(a&65535)+(b&65535);a=(a>>16)+(b>>16)+(c>>16);return a<<16|c&65535});b.prototype.append=function(a){/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a)));this.appendBinary(a);return this};b.prototype.appendBinary=function(a){this._buff+=a;this._length+=a.length;a=this._buff.length;var b;for(b=64;b<=a;b+=64)m(this._state,n(this._buff.substring(b-64,b)));this._buff=this._buff.substr(b-64);return this};b.prototype.end=function(a){var b=this._buff,c=b.length,d,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<c;d+=1)e[d>>2]|=b.charCodeAt(d)<<(d%4<<3);this._finish(e,c);b=a?this._state:t(this._state);this.reset();return b};b.prototype._finish=function(a,b){b=b;var c;a[b>>2]|=128<<(b%4<<3);if(b>55){m(this._state,a);for(b=0;b<16;b+=1)a[b]=0}b=this._length*8;b=b.toString(16).match(/(.*?)(.{0,8})$/);c=parseInt(b[2],16);b=parseInt(b[1],16)||0;a[14]=c;a[15]=b;m(this._state,a)};b.prototype.reset=function(){this._buff="";this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};b.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length};b.hash=function(a,b){/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a)));a=p(a);return b?a:t(a)};b.hashBinary=function(a,b){a=p(a);return b?a:t(a)};b.ArrayBuffer=function(){this.reset()};b.ArrayBuffer.prototype.append=function(a){var b=this._concatArrayBuffer(this._buff,a),c=b.length;this._length+=a.byteLength;for(a=64;a<=c;a+=64)m(this._state,o(b.subarray(a-64,a)));this._buff=a-64<c?b.subarray(a-64):new Uint8Array(0);return this};b.ArrayBuffer.prototype.end=function(a){var b=this._buff,c=b.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e;for(e=0;e<c;e+=1)d[e>>2]|=b[e]<<(e%4<<3);this._finish(d,c);b=a?this._state:t(this._state);this.reset();return b};b.ArrayBuffer.prototype._finish=b.prototype._finish;b.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};b.ArrayBuffer.prototype.destroy=b.prototype.destroy;b.ArrayBuffer.prototype._concatArrayBuffer=function(a,b){var c=a.length,d=new Uint8Array(c+b.byteLength);d.set(a);d.set(new Uint8Array(b),c);return d};b.ArrayBuffer.hash=function(a,b){a=q(new Uint8Array(a));return b?a:t(a)};e.exports=b}),null);
__d("LiveVideoCopyrightActionSubscription",["BaseGraphQLSubscription","relay-runtime","LiveVideoCopyrightActionSubscription.graphql"],(function(a,b,c,d,e,f){var g;b("relay-runtime").graphql;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getTopic=function(a){return"gqls/"+this.getSubscriptionName()+"/video_id_"+a};d.getQuery=function(){return g!==void 0?g:g=b("LiveVideoCopyrightActionSubscription.graphql")};d.getQueryParameters=function(a){return{input:{video_id:a}}};return c}(b("BaseGraphQLSubscription"));e.exports=a}),null);
__d("SRTVideoData",[],(function(a,b,c,d,e,f){"use strict";var g=null;a=function(){function a(){this.$1=null,this.$2=null}a.getInstance=function(){g||(g=new a());return g};var b=a.prototype;b.setJobID=function(a){this.$1=a};b.setJobTrackingID=function(a){this.$2=a};b.unsetJobID=function(){this.$1=null};b.getJobID=function(){return this.$1};b.getJobTrackingID=function(){return this.$2};return a}();e.exports=a}),null);
__d("VideoVisibilityObserver",["EventEmitter","IntersectionObserver","VideoPlayerExperiments","intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f){var g=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1];a=44;var h="-"+a+"px 0px 0px";c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$VideoVisibilityObserver4=function(a){a=a[a.length-1];var c=d.$VideoVisibilityObserver1,e=d.$VideoVisibilityObserver2;d.$VideoVisibilityObserver1=a.intersectionRatio;d.$VideoVisibilityObserver2=b("intersectionObserverEntryIsIntersecting")(a);(c!==d.$VideoVisibilityObserver1||e!==d.$VideoVisibilityObserver2)&&d.emit("visibilityChanged",d.$VideoVisibilityObserver1)};d.$VideoVisibilityObserver1=0;d.$VideoVisibilityObserver2=!1;var e=g,f=b("VideoPlayerExperiments").videoVisibilityObserverUseMinimumThreshold;f&&(e=[.5]);d.$VideoVisibilityObserver3=new(b("IntersectionObserver"))(d.$VideoVisibilityObserver4,{threshold:e,rootMargin:h});d.$VideoVisibilityObserver3.observe(c);return d}var d=c.prototype;d.destroy=function(){this.$VideoVisibilityObserver3&&(this.$VideoVisibilityObserver3.disconnect(),this.$VideoVisibilityObserver3=null)};d.getIsIntersecting=function(){return this.$VideoVisibilityObserver2};d.getCurrentIntersectionRatio=function(){return this.$VideoVisibilityObserver1};return c}(b("EventEmitter"));e.exports=c}),null);
__d("VideoPlayerApiEvents",[],(function(a,b,c,d,e,f){a=["buffered","buffering","bufferingProgress","beginPlayback","updateStatus","logEvent","pausePlayback","playbackNotAllowed","clickVideo","clickForTracking","finishPlayback","unmuteVideo","muteVideo","changeVolume","turnOffAutoplay","updateBuffer","updateMetadata","qualityChange","updateViewportBegin","updateViewportMove","updateViewportEnd","dimensionsChange","viewportChange","wheelScroll","error","loadedSubtitles","toggleSubtitles","captionsAvailabilityChanged","toggleFullscreen","seekEnd","seekRangeChanged","streamInterrupted","streamResumed","networkInterrupted","networkResumed","debug/dashPlayerEvent","abortedLoading","restoringAfterAbort","restoredAfterAbort","sphericalOrientationChange","videoNodeStaled","replicaSwitch","initialLiveManifestRequestFailure"];e.exports=a}),null);
__d("MountedContextMenu.react",["cx","ContextualLayer.react","DOMQuery","Event","Focus","LayerHideOnEscape","PopoverMenu.react","PopoverMenuInterface","React","ReactDOM","SubscriptionsHandler","prop-types","isNode","getContextualLayerCursorOffset"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=Object.prototype.hasOwnProperty;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shown:!1,lastOpenedX:0,lastOpenedY:0,offsetX:0,offsetY:0},d.refs_fakeTrigger=null,d.menuLayerRefHandler=function(a){d.refs_menuLayer=a},d.$6=function(a){var b=a.clientX,c=a.clientY;a.preventDefault();a.stopPropagation();d.showAt(b,c)},d.$7=function(a){var c=d.$3();c=c&&b("DOMQuery").contains(c,a.target);a=a.button===0;c&&a||d.hide()},d.$8=function(){d.props.disableFocusOutline&&b("Focus").setWithoutOutline(d.$2())},d.$9=function(){var a=d.$2();d.props.disableFocusOutline?b("Focus").setWithoutOutline(a):b("Focus").set(a);d.state.shown&&d.hide()},d.$10=function(){d.hide()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(){return this.props.mountedTriggerElem};d.$3=function(){var a=this.refs_popover.getMenu();return a&&a.getRoot()};d.$4=function(){return this.refs_menuLayer.layer};d.renderLayers=function(){var a=this;return h.jsx(b("ContextualLayer.react"),{alignment:"right",behaviors:[b("LayerHideOnEscape")],contextRef:function(){return a.$2()},offsetX:this.state.offsetX,offsetY:this.state.offsetY,position:"below",ref:this.menuLayerRefHandler,shown:this.state.shown,children:h.jsx(b("PopoverMenu.react"),{alignh:"left",menu:this.props.menu,position:"below",ref:function(b){return a.refs_popover=b},children:h.jsx("div",{className:"_4345",ref:function(b){return a.refs_fakeTrigger=b}})})},"menu")};d.render=function(){return this.props.mountedTriggerElem?h.jsx("span",{children:this.renderLayers()}):null};d.$5=function(a,c){var d=this.$4();a=b("getContextualLayerCursorOffset")(d,a,c);c=a.offsetX;a=a.offsetY;d.setOffsetX(c).setOffsetY(a);this.setState({offsetX:c,offsetY:a})};d.componentDidMount=function(){var a=this,c,d=this.$2(),e=b("ReactDOM").findDOMNode(this.refs_fakeTrigger),f=this.$4(),g=this.refs_popover;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions((c=b("Event")).listen(d,"contextmenu",this.$6),c.listen(document.body,"mousedown",this.$7),c.listen(d,"focus",this.$8),c.listen(e,"focus",this.$9),c.listen(window,"blur",this.$10),f.subscribe("show",function(){var b=a.state.lastOpenedX,c=a.state.lastOpenedY;a.$5(b,c);g.showPopover()}),f.subscribe("hide",function(){g.hidePopover()}))};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.show=function(){this.setState({shown:!0})};d.showAt=function(a,b){this.setState({lastOpenedX:a,lastOpenedY:b}),this.show()};d.hide=function(){this.setState({shown:!1})};return c}(h.Component);a.propTypes={disableFocusOutline:b("prop-types").bool,menu:function(a,c,d){if(!i.call(a,c))return new Error(d+"."+c+" is required");d=a[c];a=d&&d.type;return!(a&&a.prototype instanceof b("PopoverMenuInterface"))?new Error(c+" must implement PopoverMenuInterface"):null},mountedTriggerElem:function(a,c,d){if(!i.call(a,c))return new Error(d+"."+c+" is required");else if(!b("isNode")(a[c]))return new Error(d+"."+c+" must be a raw DOM node");return null}};e.exports=a}),null);
__d("XVideoUnifiedCVCController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/unified_cvc/",{})}),null);
__d("CVCv3VideoControllerHelper",["AsyncRequest","CVCv3DisabledPlayerOrigins","CVCv3DisabledPlayerSubOrigins","CVCv3SubscriptionHelper","DateConsts","Run","SubscriptionsHandler","XVideoUnifiedCVCController","clearTimeout","gkx","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=b("DateConsts").MS_PER_SEC,h=10,i=Object.values(b("CVCv3DisabledPlayerOrigins")),j=Object.values(b("CVCv3DisabledPlayerSubOrigins"));a=function(){function a(a){var c=this;this.$23=function(){c.$11=null,c.$22(),c.$20(0)};this.$3=new(b("CVCv3SubscriptionHelper"))(a.getVideoID(),a.getPlayerOrigin(),a.getPlayerSuborigin());this.$2=a;this.$4=null;this.$5=!1;this.$7=null;this.$8=null;this.$1=null;this.$12=!this.$3.isValidSubscription();this.$6=new(b("SubscriptionsHandler"))();this.$6.addSubscriptions(a.addListener("beginPlayback",this.$14.bind(this)),a.addListener("pausePlayback",this.$15.bind(this)),a.addListener("finishPlayback",this.$16.bind(this)),a.addListener("updateStatus",this.$17.bind(this)));a.registerOption("UnifiedCVC","cvcData",function(){return c.$13});b("Run").onLeave(function(){return c.leave()})}var c=a.prototype;c.leave=function(){this.$6.release(),this.$2.hasOption("UnifiedCVC","cvcData")&&this.$2.unregisterOption("UnifiedCVC","cvcData")};c.$14=function(){if(!this.$2.isState("playing"))return;this.$4=null;this.$5=!1};c.$15=function(){this.$4=null,this.$5=!1};c.$16=function(){this.$4=null,this.$5=!1};c.$17=function(a){this.$2.isState("playing")&&(this.$4==null&&(this.$4=a.position),!this.$5&&this.$4+3<a.position&&(this.$2.logEvent("played_for_three_seconds"),this.$5=!0))};c.setLinearChannelID=function(a){this.$7=a};c.setLivingRoomSessionID=function(a){this.$8=a};c.startUnifiedCVC=function(){if(this.$18()||this.$19())return;var a=!1;this.$8!=null&&(a=!0);a||(a=this.$2.isLiveVideo()?!0:!b("gkx")("1353007"));if(!a)return;this.$20(0)};c.stopUnifiedCVC=function(){this.$21()};c.$18=function(){return i.includes(this.$2.getPlayerOrigin())};c.$19=function(){return j.includes(this.$2.getPlayerSuborigin())};c.$21=function(){b("clearTimeout")(this.$10),b("clearTimeout")(this.$9),this.$10=null,this.$9=null,this.$3.clearAnyPreviousContext(),this.$11!=null&&(this.$11.abandon(),this.$11=null)};c.$22=function(){b("clearTimeout")(this.$9),this.$9=null};c.$20=function(a){var c=this;if(this.$10!=null||this.$11!=null||this.$12)return;this.$10=b("setTimeout")(function(){c.$10=null;var a=c.$24();a.setHandler(function(a){c.$25(a)});c.$11=a;a.send();c.$9=b("setTimeout")(c.$23,h*g)},a)};c.$25=function(a){if(a.getRequest()!==this.$11)return;this.$11=null;a=this.$3.processUnifiedResponse(a.payload);if(a!=null){this.$22();this.$13=a.d;a.d!=null&&this.$2.emit("unifiedCVC/update",a.d);if(a.a!=null){var b=a.a.t;switch(b){case"p":b=a.a.pi;b==null&&(b=h);this.$20(b*g);break;case"s":this.$12=!0;break}}}};c.$24=function(){var a={};this.$7!=null&&(a.lc=this.$7);this.$8!=null&&(a.lr=this.$8);this.$2.isLiveVideo()&&(a.ls=!0,a.pc=!0);var c=0,d=0;this.$4!=null&&(c=this.$4,d=this.$2.getCurrentTimePosition());c=this.$3.makeUnifiedVideoCVCUpdate(c,d,this.$2.getVideoState(),this.$2.isMuted(),a);d={};d.d=JSON.stringify(c);this.$1!=null&&(d.access_token=this.$1);return new(b("AsyncRequest"))().setMethod("POST").setURI(b("XVideoUnifiedCVCController").getURIBuilder().getURI()).setReadOnly(!0).setData(d)};c.setAccessToken=function(a){this.$1=a};return a}();e.exports=a}),null);
__d("VideoContextMenuGK",["gkx"],(function(a,b,c,d,e,f){"use strict";e.exports={menuRedesign:b("gkx")("971964")}}),null);
__d("VideoPlayerHTML5ContextMenu.react",["cx","fbt","BanzaiODS","ContextualLayer.react","DOMQuery","Event","FBClipboardLink.react","Focus","FullScreen","Keys","LayerAutoFocus","LayerHideOnEscape","MountedContextMenu.react","React","ReactDOM","ReactXUIMenu","SubscriptionsHandler","URI","VideoContextMenuGK","VideoPermalinkURI","VideoPlayerExperiments","getFullScreenElement"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k=b("ReactXUIMenu").Item,l=.35,m=6,n=60;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={permalinkVisible:!1,fullscreened:!1,screenWidth:screen.width,screenHeight:screen.height},d.refs_permalinkMenuItem=null,d.refs_copyPermalinkMenuItem=null,d.refs_menu=null,d.$2=function(){var a=b("getFullScreenElement")(),c=d.props.rootContainer;a=!!(b("FullScreen").isFullScreen()&&a&&c&&b("DOMQuery").contains(a,c));d.setState({fullscreened:a})},d.$7=function(){d.props.onTogglePause&&d.props.onTogglePause()},d.$8=function(){d.props.onToggleMute&&d.props.onToggleMute()},d.$4=function(){b("Focus").set(b("ReactDOM").findDOMNode(d.refs_permalinkText)),d.setState({permalinkVisible:!0})},d.$3=function(){d.setState({permalinkVisible:!1})},d.$9=function(){b("ReactDOM").findDOMNode(d.refs_permalinkText).select()},d.$10=function(a){b("Event").getKeyCode(a)==b("Keys").ESC&&d.setState({permalinkVisible:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.refs_permalinkLayer.layer;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("FullScreen").subscribe("changed",this.$2),a.subscribe("hide",this.$3),a.subscribe("show",this.$4));this.props.initialPosition&&this.refs_menu.showAt(this.props.initialPosition.x,this.props.initialPosition.y)};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.$5=function(){if(this.props.paused)return h._("Play");else return h._("Pause")};d.$6=function(){if(this.props.muted)return h._("Unmute");else return h._("Mute")};d.hidePermalinkOverlay=function(){this.$3()};d.$11=function(a){a.preventDefault()};d.$12=function(){var a,b;if(this.state.fullscreened)a=this.state.screenWidth,b=this.state.screenHeight;else{var c=this.props.rootContainer.getBoundingClientRect();a=c.width;b=c.height}return{width:a,height:b}};d.$13=function(a){var b=this,c=this.props.permalinkURL;if(c){a={width:a+"px"};return j.jsxs("div",{className:"_26oo",style:a,children:[j.jsx("input",{className:"_26op autofocus",onFocus:this.$9,onKeyDown:this.$10,onMouseUp:this.$11,readOnly:!0,ref:function(a){return b.refs_permalinkText=a},type:"text",value:c}),j.jsx("button",{className:"_26oq",onClick:this.$3,children:h._("Close")})]})}return null};d.renderLayers=function(){var a=this,c=this.props.permalinkURL&&this.state.permalinkVisible,d=0,e=0,f=null,g=this.$12(),h=g.width;g=g.height;var i=h*l;d=h/2-i/2;e=-g+m;this.state.fullscreened&&(e+=n);f=this.$13(i);return j.jsx(b("ContextualLayer.react"),{alignment:"left",behaviors:[b("LayerHideOnEscape"),b("LayerAutoFocus")],contextRef:function(){return a.props.videoContainer},offsetX:d,offsetY:e,position:"below",ref:function(b){return a.refs_permalinkLayer=b},shown:c,children:f},"permalinkOverlay")};d.$14=function(){b("BanzaiODS").bumpEntityKey(2079,"videos","copy_video_url.click")};d.$15=function(){var a=this;if(!this.props.permalinkURL)return null;var c=new(i||(i=b("URI")))(this.props.permalinkURL);if(b("VideoPermalinkURI").isValid(c)){c.addQueryData("t",this.props.getVideoCurrentTimePosition());return j.jsx(k,{ref:function(b){return a.refs_copyPermalinkMenuItem=b},children:j.jsx(b("FBClipboardLink.react"),{onComplete:this.$14,tooltip:null,tooltipSuccess:null,value:c.toString(),children:h._("Copy video URL at current time")})})}return null};d.$16=function(){var a=this;if(this.props.permalinkURL)if(b("VideoPlayerExperiments").copyLinkInContextMenu)return j.jsx(k,{ref:function(b){return a.refs_copyPermalinkMenuItem=b},children:j.jsx(b("FBClipboardLink.react"),{onComplete:this.$14,tooltip:null,tooltipSuccess:null,value:this.props.permalinkURL,children:h._("Copy Video URL")})});else return j.jsx(k,{onclick:this.$4,ref:function(b){return a.refs_permalinkMenuItem=b},children:h._("Show video URL")});return null};d.render=function(){var a=this,c=this.props.paused!==null&&j.jsx(k,{onclick:this.$7,children:this.$5()}),d=this.props.isLive?null:this.$15();c=j.jsxs(b("ReactXUIMenu"),{className:b("VideoContextMenuGK").menuRedesign?"_45di":"",children:[c,j.jsx(k,{onclick:this.$8,children:this.$6()}),this.$16(),d,this.props.children]});return j.jsxs("span",{children:[j.jsx(b("MountedContextMenu.react"),{mountedTriggerElem:this.props.videoContainer,menu:c,ref:function(b){return a.refs_menu=b}}),this.renderLayers()]})};return c}(j.Component);e.exports=a}),null);
__d("VideoContextMenu",["Bootloader","CurrentUser","EventListener","React","ReactDOM","URI","UserAgent","VideoPlayerHTML5ContextMenu.react","isFacebookURI"],(function(a,b,c,d,e,f){var g,h=b("React"),i=/(instagram)/g;a=function(){"use strict";function a(a,c,d){var e=this;this.$10=function(){for(var a in e.$8){var b=e.$8[a].name,c=e.$8[a].option,d=e.$8[a].description,f=e.$8[a].closeMessage;e.$2.hasOption(b,c)?e.$13(b,c,d,f):e.$12(b,c)}e.$9()};this.$9=function(){e.$6&&e.$14()};this.$11=function(a){var c=/^a$/i.test(a.target.nodeName||"");c=c||b("CurrentUser").isEmployee()&&(b("UserAgent").isPlatform("Mac OS X")?a.getModifiers().meta:a.getModifiers().ctrl);c&&e.$6?(b("ReactDOM").unmountComponentAtNode(e.$4),delete e.$6):!c&&!e.$6&&(a.preventDefault(),e.$14(a))};this.$8={debugOverlay:{name:"DebugOverlay",option:"hidden",description:"Employee Debug Info",closeMessage:"Hide Debug Information"},statsForNerds:{name:"StatsForNerds",option:"hidden",description:"Show video stats",closeMessage:"Hide video stats"}};this.$2=a;this.$3=d;this.$4=c;this.$1={};this.$5=null;if(this.$3.permalinkURL){d=new(g||(g=b("URI")))(this.$3.permalinkURL).getQualifiedURI();(!b("isFacebookURI")(d)||d.getSubdomain()==="developers"||d.getSubdomain()==="ai"||d.getSubdomain()==="sparkar")&&(d.setSubdomain("www"),d.setDomain(d.getDomain().replace(i,"facebook")));this.$5=d.toString()}c=["muteVideo","unmuteVideo","changeVolume","beginPlayback","pausePlayback","finishPlayback","adBreakIndicatorShowing"];["enterWatchAndScroll","exitWatchAndScroll"].forEach(function(b){return a.addListener(b,function(){e.$6&&e.$6.hidePermalinkOverlay(),e.$9()})});a.addListener("optionsChange",this.$10);this.$10();c.forEach(function(b){return a.addListener(b,e.$9)});b("EventListener").listen(this.$2.getRootNode(),"contextmenu",this.$11)}var c=a.prototype;c.setPermalinkURL=function(a){this.$5=a,this.$9()};c.$12=function(a,b){this.$7&&this.$7.removeMenuItem(a,b)};c.$13=function(a,c,d,e){var f=this;b("Bootloader").loadModules(["VideoComponentOptionMenuItems"],function(b){f.$7||(f.$7=new b(f.$2,f.$9)),f.$7.addComponentOptionMenuItem(a,c,d,e)},"VideoContextMenu")};c.$15=function(a,b){return!this.$7?void 0:this.$7.getComponentOptionMenuItem(a,b)};c.$14=function(a){var c=this,d=this.$15(this.$8.debugOverlay.name,this.$8.debugOverlay.option),e=this.$15(this.$8.statsForNerds.name,this.$8.statsForNerds.option),f=this.$2.getRootNode(),g=this.$2.getContainerNode(),i=function(){return Math.round(c.$2.getCurrentTimePosition())};this.$6=b("ReactDOM").render(h.jsxs(b("VideoPlayerHTML5ContextMenu.react"),{rootContainer:f,videoContainer:g,paused:this.$16()?null:!this.$2.isState("playing"),muted:this.$2.isMuted(),permalinkURL:this.$5,initialPosition:a?{x:a.clientX,y:a.clientY}:void 0,getVideoCurrentTimePosition:i,onTogglePause:function(){return c.$17()},onToggleMute:function(){return c.$18()},isLive:this.$2.isLiveVideo(),children:[d,e]}),this.$4)};c.$16=function(){if(this.$2.getOption("VideoContextMenu","disablePlayPauseMenuItem"))return!0;if(this.$2.getOption("VideoContextMenu","disablePauseMenuItem")&&!this.$2.isState("paused"))return!0;var a=this.$2.getOption("VideoWithCommercialBreak","controller");return a&&a.getIsDuringTransition()?!0:!1};c.$18=function(){this.$2.isMuted()?this.$2.unmute():this.$2.mute()};c.$17=function(){!this.$2.isState("playing")?this.$2.play("user_initiated"):this.$2.pause("user_initiated")};return a}();e.exports=a}),null);
__d("VideoComponentContextMenu.react",["React","RelayModern","VideoComponent","VideoContextMenu","VideoPlayerHTML5Experiments","VideoComponentContextMenuQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){var b=this.contextMenu;b&&a.video&&a.video!==this.props.video&&b.setPermalinkURL(a.video.permalinkUrl)};d.enable=function(a){if(!this.refs.container)return;a.isHtml5Player()&&(this.contextMenu=new(b("VideoContextMenu"))(a,this.refs.container,{permalinkURL:""}))};d.disable=function(){};d.render=function(){return h.jsx("div",{ref:"container"})};return c}(h.Component);e.exports=b("VideoComponent").createContainer(a,{suppressMount:function(){return!b("VideoPlayerHTML5Experiments").useCustomContextMenu},videoGraphQLQuery:g!==void 0?g:g=b("VideoComponentContextMenuQuery.graphql")})}),null);
__d("VideoAsyncLoggerHelper",["SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e,f=new(b("SubscriptionsHandler"))(),g=!1,h=function(){g||(a(),g=!0),e&&(clearTimeout(e),e=null),f.release()};e=setTimeout(h,0);c.forEach(function(a){f.addSubscriptions(d.addListener(a,h))})}e.exports={operateAsync:a}}),null);
__d("DelegatedVideoPriorityAdjuster",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=function(){},this.$2=0}var b=a.prototype;b.setOnPriorityChanged=function(a){this.$1=a};b.getPriorityAdjustment=function(){return this.$2};b.notifyAdjustment=function(a){if(this.$2===a)return;this.$2=a;this.$1(this.$2)};b.cleanup=function(){this.$1=function(){}};return a}();e.exports=a}),null);
__d("LiveVideoCopyrightActionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2145232792194057"};b.getQueryID=function(){return"2180375868916621"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MediaController",["EventEmitter","Style"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getRootNode=function(){return this.$MediaController1};d.setDimensions=function(a,c){var d=this.getRootNode();b("Style").apply(d,{width:a+"px",height:c+"px"})};d.getMediaID=function(){return this.$MediaController2};d.isLiveVideo=function(){return!1};d.isVideo=function(){return!1};return c}(b("EventEmitter"));e.exports=a}),null);
__d("VideoChannelViewChainLengthManager",["guid"],(function(a,b,c,d,e,f){var g=function(){"use strict";function a(a){this.$1=b("guid")(),this.$2=0,this.$3=a,this.$4={},this.$4[a]=0,this.$5=a}var c=a.prototype;c.registerVideoID=function(a){this.$4[a]===void 0&&(this.$2++,this.$4[a]=this.$2),this.$5=a};c.getSessionID=function(){return this.$1};c.getCurrentChainLength=function(){return this.$4[this.$5]!==void 0?this.$4[this.$5]:null};return a}(),h={};a={_ensureSessionID:function(a){a=a.toString(),h[a]||(h[a]=new g(a))},getLoggingData:function(a){a&&(a=a.toString());a=h&&h[a];return!a?{video_chaining_depth_level:null,video_chaining_session_id:null}:{video_chaining_depth_level:a.getCurrentChainLength(),video_chaining_session_id:a.getSessionID()}},registerChainingInfos:function(a,b){var c=a;if(b){b=b.decode();b.root_id&&(c=b.root_id)}c&&(c=c.toString());this.registerVideoID(c,a)},registerVideoID:function(a,b){a=a.toString(),this._ensureSessionID(a),h[a].registerVideoID(b)}};e.exports=a}),null);
__d("VideoControllerPlayingStateEmitter",["EventEmitter","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$VideoControllerPlayingStateEmitter2=null;c.$VideoControllerPlayingStateEmitter3=b;return c}var d=c.prototype;d.enable=function(){var a=this;this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.$VideoControllerPlayingStateEmitter3.addListener("stateChange",function(){var b=a.$VideoControllerPlayingStateEmitter2;a.$VideoControllerPlayingStateEmitter2=a.$VideoControllerPlayingStateEmitter3.getState();if(a.$VideoControllerPlayingStateEmitter2===b)return;a.$VideoControllerPlayingStateEmitter5(a.$VideoControllerPlayingStateEmitter2)}));this.$VideoControllerPlayingStateEmitter2=this.$VideoControllerPlayingStateEmitter3.getState();this.$VideoControllerPlayingStateEmitter5(this.$VideoControllerPlayingStateEmitter2)};d.setOnPlaying=function(a){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.addListener("play",a))};d.setOnPaused=function(a){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.addListener("pause",a))};d.disable=function(){this.$VideoControllerPlayingStateEmitter2=null,this.$VideoControllerPlayingStateEmitter1&&(this.$VideoControllerPlayingStateEmitter1.release(),this.$VideoControllerPlayingStateEmitter1=null)};d.$VideoControllerPlayingStateEmitter4=function(){this.$VideoControllerPlayingStateEmitter1||(this.$VideoControllerPlayingStateEmitter1=new(b("SubscriptionsHandler"))());return this.$VideoControllerPlayingStateEmitter1};d.$VideoControllerPlayingStateEmitter5=function(a){a==="playing"?this.emit("play"):a==="paused"&&this.emit("pause")};return c}(b("EventEmitter"));e.exports=a}),null);
__d("VideoPlayerABRQualityTracker",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.$1=a,this.$2=null}var b=a.prototype;b.setLastQualitySwitchReason=function(a){this.$2=a};b.getABREvaluation=function(){var a=[];this.$1&&(a=this.$1.flushABREvaluationSet());var b=0,c=0,d=0,e=0,f=this.$2;for(var g=0;g<a.length;g++)switch(a[g]){case"ideal":b++;break;case"conservative":c++;break;case"aggressive":d++;break;case"conservative_resolution_constrained":e++;break}return{idealSamples:b,conservativeSamples:c,aggressiveSamples:d,conservativeResolutionConstrainedSamples:e,lastQualitySwitchReason:f}};return a}();e.exports=a}),null);
__d("R2D2VideoMetadata",["getVideoBrowserTabId","uuid"],(function(a,b,c,d,e,f){var g=1e3,h=10;a=function(){"use strict";function a(a){this.$1=a.video_id,this.$2=a.ad_client_token,this.$3=a.player_origin,this.$4=a.player_instance_key,this.$6=parseInt(a.playback_duration*g,h),this.$5=b("uuid")()}var c=a.prototype;c.toJSON=function(){return{video_id:this.$1,ad_client_token:this.$2,player_origin:this.$3,player_instance_key:this.$4,r2d2_session_id:this.$5,duration_ms:this.getDurationMs(),browser_tab_id:b("getVideoBrowserTabId")()}};c.getVideoId=function(){return this.$1};c.getDurationMs=function(){return parseInt(this.$6,h)};c.setDurationMs=function(a){this.$6=a};return a}();e.exports=a}),null);
__d("R2D2VideoEventValidationSummary",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){this.$2=0,this.$1=new Map()}var b=a.prototype;b.addEvent=function(a){this.$1.has(a)||this.$1.set(a,0);var b=this.$1.get(a);this.$1.set(a,b+1);this.$2++};b.getEvents=function(){return this.$1};b.getEventsCount=function(){return this.$2};b.toJSON=function(){var a={},b=[];this.$1.forEach(function(c,d){a[d]=c,b.push(d)});return{events_count:JSON.stringify(a),events_name:"['"+b.join("','")+"']"}};return a}();e.exports=a}),null);
__d("R2D2VideoWatchTimeSegment",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getStartTimeMs=function(){return this.$1};b.getEndTimeMs=function(){return this.$2};return a}();e.exports=a}),null);
__d("R2D2VideoState",["R2D2VideoWatchTimeSegment"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,b){this.$1=a,this.$2=b,this.reset()}var c=a.prototype;c.startPlaying=function(a){this.$3||(this.$3=!0,this.$6=a,this.$4||(this.$7=a))};c.stopPlaying=function(a){this.$3&&(this.$3=!1,this.addPlaySegment(this.$6,a),this.$4||this.addPlaySegmentWithSound(this.$7,a))};c.addPlaySegmentHelper=function(a,c,d){if(c>=d)return;d=new(b("R2D2VideoWatchTimeSegment"))(c,d);var e=!1;for(var f=0;f<a.length;f++)if(a[f].getStartTimeMs()>c){a.splice(f,0,d);e=!0;break}e||a.push(d)};c.addPlaySegment=function(a,b){this.addPlaySegmentHelper(this.$8,a,b)};c.addPlaySegmentWithSound=function(a,b){this.addPlaySegmentHelper(this.$9,a,b)};c.setFinishedPlaying=function(){this.$5=!0};c.getFinishedPlaying=function(){return this.$5};c.setMuted=function(a){this.$4||(this.$4=!0,this.$3&&this.addPlaySegmentWithSound(this.$7,a))};c.setUnmuted=function(a){this.$4&&(this.$4=!1,this.$7=a)};c.getVideoId=function(){return this.$1};c.getDurationMs=function(){return this.$2};c.setDurationMs=function(a){this.$2=a};c.getWatchedSegments=function(){return this.$8};c.getWatchedSegmentsWithSound=function(){return this.$9};c.reset=function(){this.$3=!1,this.$4=!0,this.$5=!1,this.$6=0,this.$7=0,this.$8=[],this.$9=[]};return a}();e.exports=a}),null);
__d("R2D2VideoSession",["R2D2VideoState","R2D2VideoEventValidationSummary"],(function(a,b,c,d,e,f){var g=1e3,h=90*60*1e3;a=function(){"use strict";function a(a,c,d){this.$4=new(b("R2D2VideoState"))(a.getVideoId(),a.getDurationMs()),this.$5=c,this.$6=d,this.$7=a,this.$8=[],this.$3=!1,this.$9=new(b("R2D2VideoEventValidationSummary"))()}var c=a.prototype;c.addEvent=function(a,b){if(this.$10(a,b))return;this.$11(b);this.$5.processEvent(a,b,this.$4);this.$2=new Date();this.$3=!0;this.$9.addEvent(a);this.$12(a,b)};c.$11=function(a){a=a.playback_duration*g;this.$7.setDurationMs(a);this.$4.setDurationMs(a)};c.$12=function(a,b){var c={};c.Name=a;c.ClientTime=new Date();c.seq_num=b.seq_num;c.video_time_position=b.video_time_position;b.video_last_start_time_position!==void 0&&(c.video_last_start_time_position=b.video_last_start_time_position);this.$8.push(c)};c.$10=function(a,b){if(this.$8.length<1)return!1;var c=this.$8[this.$8.length-1];return c.Name===a&&c.video_time_position==b.video_time_position};c.hasUpdates=function(){return this.$3};c.hasExpired=function(){return this.$2.getTime()<=Date.now()-h};c.recalculateDelta=function(){var a=this.$6.getVideoStateSummary(this.$4),b=this.$6.calculateDelta(a,this.$1);this.$8.forEach(function(a){b.addDebugInfo(a)});this.$8=[];this.$1=a;this.$3=!1;return b};c.getMetadata=function(){return this.$7};c.getDebugInfo=function(){return this.$8};c.getEventValidationSummary=function(){return this.$9};c.getStateVideoDurationMsForTesting=function(){return this.$4.getDurationMs()};return a}();e.exports=a}),null);
__d("R2D2VideoStateMachine",[],(function(a,b,c,d,e,f){var g=1e3;a=function(){"use strict";function a(){}var b=a.prototype;b.processEvent=function(a,b,c){switch(a){case"started_playing":case"unpaused":c.startPlaying(b.video_time_position*g);break;case"finished_playing":c.stopPlaying(b.video_time_position*g);c.setFinishedPlaying();break;case"paused":c.stopPlaying(b.video_time_position*g);break;case"muted":c.setMuted(b.video_time_position*g);break;case"unmuted":c.setUnmuted(b.video_time_position*g);break}};return a}();e.exports=a}),null);
__d("R2D2FinishCountMetric",[],(function(a,b,c,d,e,f){var g="finish_count";a=function(){"use strict";function a(){}var b=a.prototype;b.compute=function(a){return a.getFinishedPlaying()?1:0};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2UniqueTimeSpentMetric",[],(function(a,b,c,d,e,f){var g="unique_time_spent_ms";a=function(){"use strict";function a(){}var b=a.prototype;b.compute=function(a){return this.$1(a)};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};b.$1=function(a){var b=0,c=0;a=a.getWatchedSegments();for(var d=0;d<a.length;d++){var e=a[d],f=e.getEndTimeMs();if(f>b){f=Math.max(b,e.getStartTimeMs());c+=e.getEndTimeMs()-f;b=e.getEndTimeMs()}}f=10;return parseInt(c,f)};return a}();e.exports=a}),null);
__d("R2D2PlayCountMetric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){var g="play_count";a=function(){"use strict";function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentMetric"))();return a.getWatchedSegments().length>0&&c.compute(a)>0?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2VideoPlayRetention0to15s",[],(function(a,b,c,d,e,f){var g="video_play_retention_0_to_15s",h=15,i=0,j=1e3;a=function(){"use strict";function a(){}var b=a.prototype;b.compute=function(a){var b=new Array(h-i+1);b.fill(0);a=a.getWatchedSegments();var c=10;for(var d=0;d<a.length;d++){var e=parseInt(a[d].getStartTimeMs()/j,c),f=parseInt(a[d].getEndTimeMs()/j,c);for(var e=e;e<=f;e++)if(e>=i&&e<=h)b[e-i]=1;else if(e>h)break}return b};b.computeDelta=function(a,b){var c=[];if(a.length!==b.length)return c;for(var d=0;d<a.length;d++)c.push(a[d]-b[d]);return c};b.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2VideoStateSummary",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){this.$2=[],this.$1=new Map()}var b=a.prototype;b.getMetricValue=function(a){a=this.$1.get(a);return a===null||a===void 0?null:a};b.setMetricValue=function(a,b){b!==null&&this.$1.set(a,b)};b.toJSON=function(){var a=this,b={};this.$1.forEach(function(c,d){b[d]=a.$3(c)});if(this.$2.length>0){var c="debug_details";b[c]=JSON.stringify(this.$2)}return b};b.addDebugInfo=function(a){this.$2.push(a)};b.$3=function(a){return Array.isArray(a)?"["+a.toString()+"]":a};return a}();e.exports=a}),null);
__d("R2D2MetricsHelper",[],(function(a,b,c,d,e,f){a={isPercentageCovered:function(a,b,c){if(b===0)return!1;for(var d=0;d<c.length;d++){var e=c[d];if(e.getStartTimeMs()<=b*a&&e.getEndTimeMs()>=b*a)return!0}return!1}};e.exports=a}),null);
__d("R2D2ViewCountPercentage",["R2D2MetricsHelper"],(function(a,b,c,d,e,f){var g="view_count_";a=function(){"use strict";function a(a){this.percentFactor=a}var c=a.prototype;c.compute=function(a){return b("R2D2MetricsHelper").isPercentageCovered(this.percentFactor/100,a.getDurationMs(),a.getWatchedSegments())?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g+this.percentFactor};return a}();e.exports=a}),null);
__d("R2D2ViewCount100Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=100;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount10Metric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){var g="true_view_count",h=10*1e3,i=.97;a=function(){"use strict";function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2ViewCount25Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=25;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount50Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=50;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount75Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=75;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount95Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=95;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCountMetric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){var g="view_count",h=3e3,i=.97;a=function(){"use strict";function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2ViewCountRetentionGraphMetric",["R2D2ViewCountMetric"],(function(a,b,c,d,e,f){var g="retention_graph",h=4,i=40,j=1e3,k=10;a=function(){"use strict";function a(){}var c=a.prototype;c.computeDelta=function(a,b){if(a.length!==b.length)return[];var c=[];for(var d=0;d<a.length;d++)c.push(a[d]-b[d]);return c};c.getMetricName=function(){return g};c.compute=function(a){var c=a.getDurationMs();if(!isFinite(c)||c<=0)return[];c=new(b("R2D2ViewCountMetric"))().compute(a);var d=a.getDurationMs(),e=parseInt(((d-1)/(j*h)+1)*h,k);e=Math.min(e,i);var f=new Array(e+1);f.fill(0);if(c==0)return f;c=a.getWatchedSegments();for(var a=0;a<c.length;a++){var g=c[a],l=parseInt(e*g.getStartTimeMs()/d,k);g=parseInt(e*g.getEndTimeMs()/d,k);if(l<=g&&l>=0&&g<=e)for(var l=l;l<=g;l++)f[l]=1}return f};return a}();e.exports=a}),null);
__d("R2D2UniqueTimeSpentWithSoundMetric",[],(function(a,b,c,d,e,f){var g="unique_time_spent_with_sound_ms";a=function(){"use strict";function a(){}var b=a.prototype;b.compute=function(a){return this.$1(a)};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};b.$1=function(a){var b=0,c=0;a=a.getWatchedSegmentsWithSound();for(var d=0;d<a.length;d++){var e=a[d],f=e.getEndTimeMs();if(f>b){f=Math.max(b,e.getStartTimeMs());c+=e.getEndTimeMs()-f;b=e.getEndTimeMs()}}f=10;return parseInt(c,f)};return a}();e.exports=a}),null);
__d("R2D2ViewCountWithSoundMetric",["R2D2UniqueTimeSpentWithSoundMetric"],(function(a,b,c,d,e,f){var g="view_count_with_sound_on",h=3e3,i=.97;a=function(){"use strict";function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentWithSoundMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2VideoStateSummaryCalculator",["R2D2FinishCountMetric","R2D2PlayCountMetric","R2D2UniqueTimeSpentMetric","R2D2VideoPlayRetention0to15s","R2D2VideoStateSummary","R2D2ViewCount100Metric","R2D2ViewCount10Metric","R2D2ViewCount25Metric","R2D2ViewCount50Metric","R2D2ViewCount75Metric","R2D2ViewCount95Metric","R2D2ViewCountMetric","R2D2ViewCountRetentionGraphMetric","R2D2ViewCountWithSoundMetric"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){this.$1=[new(b("R2D2UniqueTimeSpentMetric"))(),new(b("R2D2PlayCountMetric"))(),new(b("R2D2ViewCountMetric"))(),new(b("R2D2VideoPlayRetention0to15s"))(),new(b("R2D2FinishCountMetric"))(),new(b("R2D2ViewCountRetentionGraphMetric"))(),new(b("R2D2ViewCount25Metric"))(),new(b("R2D2ViewCount50Metric"))(),new(b("R2D2ViewCount75Metric"))(),new(b("R2D2ViewCount95Metric"))(),new(b("R2D2ViewCount100Metric"))(),new(b("R2D2ViewCountWithSoundMetric"))(),new(b("R2D2ViewCount10Metric"))()]}var c=a.prototype;c.getVideoStateSummary=function(a){var c=new(b("R2D2VideoStateSummary"))();this.$1.forEach(function(b){return c.setMetricValue(b.getMetricName(),b.compute(a))});return c};c.calculateDelta=function(a,c){var d=new(b("R2D2VideoStateSummary"))();this.$1.forEach(function(b){var e=a.getMetricValue(b.getMetricName());if(c!==void 0){var f=c.getMetricValue(b.getMetricName());e=b.computeDelta(e,f)}d.setMetricValue(b.getMetricName(),e)});return d};return a}();e.exports=a}),null);
__d("R2D2Logger",["Banzai","R2D2VideoMetadata","R2D2VideoSession","R2D2VideoStateMachine","R2D2VideoStateSummaryCalculator","VideoPlayerStateBasedLoggingEvents","gkx"],(function(a,b,c,d,e,f){var g=10*1e3,h="video_player",i="r2d2_summary",j="r2d2_event_validation";a=function(){"use strict";function a(a){this.$4=a,this.$2=new(b("R2D2VideoStateSummaryCalculator"))(),this.$1=new Map()}var c=a.prototype;c.setScriptPath=function(a){this.$3=a};c.$5=function(a,b){return a+":"+b};c.addEvent=function(a,c){var d=this;if(this.shouldNotLogEvent(a))return;var e=this.$5(c.player_instance_key,c.video_id),f=this.$1.get(e);f==null&&(f=new(b("R2D2VideoSession"))(new(b("R2D2VideoMetadata"))(c),new(b("R2D2VideoStateMachine"))(),this.$2),this.$1.set(e,f));f.addEvent(a,c);setTimeout(function(){return d.$6()},g)};c.$6=function(){var a=this,c=[];this.$1.forEach(function(d,e){var f=null;d.hasUpdates()?f=a.createR2D2SummaryLoggingData(d.getMetadata(),d.recalculateDelta(),i):d.hasExpired()&&(c.push(e),f=a.createR2D2SummaryLoggingData(d.getMetadata(),d.getEventValidationSummary(),j));f!==null&&b("Banzai").post(h,f)});c.forEach(function(b){a.$1["delete"](b)})};c.createR2D2SummaryLoggingData=function(a,b,c){a=Object.assign(a.toJSON(),b.toJSON());return{event:c,logData:a,scriptPath:this.$3,source:this.$4}};c.shouldLogForR2D2=function(){return b("gkx")("676938")};c.shouldNotLogEvent=function(a){var c=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);return!c.has(a)};return a}();e.exports=a}),null);
__d("VideoPlayerLoggerErrorStates",[],(function(a,b,c,d,e,f){e.exports={PLAYBACK_FAILURE:"playback_failure",PLAYER_FAILURE:"player_failure"}}),null);
__d("VideoPlayerLoggerErrors",[],(function(a,b,c,d,e,f){e.exports={ENTERED_FALLBACK:"entered_fallback",ERROR_CALLING_FLASH:"error_calling_flash"}}),null);
__d("VideoPlayerLoggerFallbackReasons",[],(function(a,b,c,d,e,f){e.exports={TIMEOUT:"timeout",FLASH_ERROR:"flash_error",FLASH_UNAVAILABLE:"flash_unavailable"}}),null);
__d("VideoPlayerLoggerSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADS:"ads",ANIMATED_IMAGE_SHARE:"animated_image_share",ASSET:"asset",AYMT:"aymt",BALLOT:"ballot",BIZ_ART:"biz_art",BROADCAST_REQUEST_ATTACHMENT:"broadcast_request_attachment",CAMERA_POST:"camera_post",CANDIDATE_VIDEOS:"candidate_videos",CATALOG_MANAGER:"catalog_manager",CHAINED:"chained",CHAINED_SUGGESTION:"chained_suggestion",CHANNEL:"channel",CHANNEL_TAB:"channel_tab",COMMERCE_MANAGER:"commerce_manager",CONTINUE_WATCHING_RECOMMENDATION:"continue_watching_recommendation",CORPORATE_CARD_APPLICATION:"corporate_card_application",CRICKET_MATCHES_AGGREGATION:"cricket_matches_aggregation",CREATOR_STUDIO_STARS_CUE_INSERTION_PREVIEW:"creator_studio_stars_cue_insertion_preview",DIM_SUM:"dim_sum",EMBEDDED:"embedded",EMBEDDED_PAGE_PLUGIN:"embedded_page_plugin",EMBEDDED_VIDEO:"embedded_video",EMBEDDED_VIDEO_FROM_UFI:"embedded_video_from_ufi",EMBEDDED_VIDEO_PREVIEW:"embedded_video_preview",ENTRY_POINT:"entry_point",EVENTS_COVER:"events_cover",EVENTS_LIVE_CTA:"events_live_cta",EVENTS_LIVE_VIDEO_SECTION:"events_live_video_section",FUNDRAISER_COVER:"fundraiser_cover",GAMEROOM_LIVE_VIDEO_HERO_BANNER:"gameroom_live_video_hero_banner",GAMEROOM_LIVE_VIDEO_TAB:"gameroom_live_video_tab",GAMEROOM_LIVE_VIDEO_THUMBNAIL:"gameroom_live_video_thumbnail",GAMES_ARENA_HERO:"games_arena_hero",GAMES_ARENA_VIDEOS_TAB:"games_arena_videos_tab",GAMES_FEED_STORY_HEADER:"games_feed_story_header",GAMES_VERSE_DESTINATION:"games_verse_destination",GAMES_VIDEO_LIVE_RECOMMENDATION:"games_video_live_recommendation",GAMES_VIDEO_CLIPS_HOME:"games_video_clips_home",GAMES_VIDEO_CLIPS_HOME_IMMERSIVE_PLAYER:"games_video_clips_home_immersive_player",GAMES_VIDEO_CLIPS_HOME_TOP_CLIPS:"games_video_clips_home_top_clips",GAMES_VIDEO_CLIPS_HOME_MY_CLIPS:"games_video_clips_home_my_clips",GAMES_VIDEO_COMMUNITY_FEED:"games_video_community_feed",GAMES_VIDEO_EXPLORE_HOME:"games_video_explore_home",GAMES_VIDEO_HOME:"games_video_home",GAMES_VIDEO_HOME_HERO:"games_video_home_hero",GAMES_VIDEO_HOME_STREAMER_HUB:"games_video_home_streamer_hub",GAMES_VIDEO_SINGLE_GAME:"games_video_single_game",GAMES_VIDEO_TOP_WEEKLY_CLIPS_STREAMER_PAGE:"games_video_top_weekly_clips_streamer_page",GAMES_VIDEO_HIGHLIGHTED_CLIPS_STREAMER_PAGE:"games_video_highlighted_clips_streamer_page",GAMES_VIDEO_SEARCH_UNIT:"games_video_search_unit",GAMES_VIDEO_SOCIAL_PLUGIN:"games_video_social_plugin",GAMES_VIDEO_HUB:"games_video_hub",GAMES_VIDEO_HUB_REDIRECT_NOTIFICATION:"games_video_hub_redirect_notification",GAMES_VIDEO_HUB_REDIRECT_UNKNOWN:"games_video_hub_redirect_unknown",GAMES_VIDEO_QP_RECOMMENDED_LIVE:"games_video_qp_recommended_live",GAMES_VIDEO_QP_US_RECOMMENDED_LIVE:"games_video_qp_us_recommended_live",GAMES_VIDEO_MIXER_US_QP_RECOMMENDED_LIVE:"games_video_mixer_us_qp_recommended_live",GAMES_VIDEO_HOME_LEFT_RAIL:"games_video_home_left_rail",GAMES_VIDEO_HOME_SEE_ALL:"games_video_home_see_all",GAMES_VIDEO_HOME_STREAMER_HUB_HERO:"games_video_home_streamer_hub_hero",GROUP_LIVE_VIDEO_MODULE:"group_live_video_module",GROUPS_COVER:"groups_cover",GOODWILL_PRODUCT_SYSTEM:"goodwill_product_system",HTML5:"html5",INLINE:"inline",INLINE_END_SCREEN:"inline_end_screen",INSIGHTS:"insights",INTERN_CRM_CALL_RECORDING:"intern_crm_call_recording",INTERN_CURATION:"intern_curation",INTERN_EXAMPLE:"intern_example",ISSUES_MODULE:"issues_module",LIVE_BEEPER:"live_beeper",LIVE_CONTROL_PANEL:"live_control_panel",LIVE_CLIPS_CREATOR:"live_clips_creator",LIVE_HERO:"live_hero",LIVE_LINEAR:"live_linear",LIVE_MAP:"live_map",LIVE_MAP_LISTVIEW:"live_map_listview",LIVE_MAP_SIDEBAR:"live_map_sidebar",LIVE_MAP_TOOLTIP:"live_map_tooltip",LIVE_MAP_TOOLTIP_FROM_LISTVIEW:"live_map_tooltip_from_listview",LIVE_MAP_TOOLTIP_FROM_MAP:"live_map_tooltip_from_map",LIVE_MAP_TOOLTIP_FROM_WEBGL:"live_map_tooltip_from_webgl",LIVE_PAGE_UPCOMING_NEXT_UNIT:"live_page_upcoming_next_unit",LIVE_PRODUCER:"live_producer",LIVE_PYML:"live_pyml",LIVE_RHC:"live_rhc",LIVE_SHOPPING:"live_shopping",LIVE_GAMING_RHC:"live_gaming_rhc",LIVE_VIDEO_BROADCAST:"live_video_broadcast",LIVE_VIDEO_PREVIEW:"live_video_preview",LIVE_MSITE:"live_msite",LIVE_EVERGREEN_QP:"live_evergreen_qp",LIVING_ROOM:"living_room",LIVING_ROOM_COMMENTATING:"living_room_commentating",LIVING_ROOM_RECAP_FULLSCREEN:"living_room_recap_fullscreen",LIVING_ROOM_RECAP_INLINE:"living_room_recap_inline",LOOKBACK:"lookback",MEDIA_COLLAGE:"media_collage",MEDIA_VIEWER:"media_viewer",MEMORY_LEAK_TEST:"memory_leak_test",MESSAGING:"messaging",MESSENGER_THREAD:"messenger_thread",MESSENGER_COWATCH:"messenger_cowatch",MISC:"misc",MOBILE:"mobile",MOVIES_RECOMMENDED_MOVIES_QP:"movies_recommended_movies_qp",NOT_SPECIFIED_PLEASE_FIX:"not_specified_please_fix",OFFERS_DETAIL:"offers_detail",OCULUS_GAMES:"oculus_games",OCULUS_HUB:"oculus_hub",OCULUS_RECOMMENDED_VIDEO_UNIT:"oculus_recommended_video_unit",PAGE_LIVE_TAB:"page_live_tab",PAGE_LIVE_VIDEO_MODULE:"page_live_video_module",PAGE_ROLES:"page_roles",PAGE_TIMELINE_LIVE_CARD:"page_timeline_live_card",PAGES_FINCH_MAIN_VIDEO:"pages_finch_main_video",PAGES_FINCH_THUMBNAIL_VIDEO:"pages_finch_thumbnail_video",PAGES_FINCH_TRAILER:"pages_finch_trailer",PAGES_VIDEO_SET:"pages_video_set",PAGES_MESSAGING_VIDEO:"pages_messaging_video",PAGES_COVER:"pages_cover",PAGES_TIMELINE_PAGES_COVER:"pages_timeline_pages_cover",PAGES_COVER_HOVER:"pages_cover_hover",PAGES_HOME_HERO:"pages_home_hero",VIDEO_PAGE_SPOTLIGHT_UNIT:"video_page_spotlight_unit",VIDEO_PAGE_VIDEO_LIST:"video_page_video_list",PAGES_HOME_PMV_UNIT:"pages_home_pmv_unit",PEOPLE_PORTAL:"people_portal",PERMALINK:"permalink",PMV_TOP_CHART_CTA:"pmv_top_chart_cta",PROFILE_OVERVIEW:"profile_overview",PROFILE_COVER:"profile_cover",PROFILE_VIDEO:"profile_video",PROFILE_VIDEO_HOVERCARD:"profile_video_hovercard",PROFILE_VIDEO_THUMB:"profile_video_thumb",PROFILE_PLUS_VIDEO_TAB:"profile_plus_video_tab",PROFILE_PLUS_VIDEOS_CARD:"profile_plus_videos_card",PROFILE_PLUS_LIVE_CARD:"profile_plus_live_card",PROFILE_PLUS_POPULAR_VIDEO_CARD:"profile_plus_popular_video_card",PROTON:"proton",REPORT_FLOW:"report_flow",REVIEW:"review",ROBOTICS_RTC_PAGE:"robotics_rtc_page",ROBOTICS_TOUR_GUIDE_PAGE:"robotics_tour_guide_page",SEARCH_LIVE_VIDEO_MODULE:"search_live_video_module",SERP_VIDEOS_TAB:"serp_videos_tab",SLIDESHOW:"slideshow",SNOWLIFT:"snowlift",STORIES_VIDEO_PREVIEW:"stories_video_preview",SRT_REVIEW:"srt_review",TAHOE:"tahoe",TOPIC_CHANNEL_LIVING_ROOM:"topic_channel_living_room",TOPIC_GAMING:"topic_gaming",TRAILER_OG_ATTACHMENT:"trailer_og_attachment",TRAILER_TIMELINE_COLLECTIONS:"trailer_timeline_collections",TRAILER_TIMELINE_UNIT:"trailer_timeline_unit",TRIVIA_GAME_ADMIN_DASHBOARD:"trivia_game_admin_dashboard",TV:"tv",USER_VIDEO_TAB:"user_video_tab",VIDEO_COPYRIGHT_PREVIEW:"video_copyright_preview",VIDEO_HOME_INLINE:"video_home_inline",VIDEO_HOME_CATALOG:"video_home_catalog",TOPIC_SPORTS:"topic_sports",TOPIC_CRICKET:"topic_cricket",TOPIC_LIVE:"topic_live",VIDEO_HOME_EXPLORE:"discover",VIDEO_HOME_EXPLORE_TAB:"explore",VIDEO_HOME_CHANNEL:"video_home_channel",VIDEO_HOME_WATCHLIST:"watchlist",VIDEO_HOME_CRICKET:"video_home_cricket",VIDEO_HOME_RAINBOW_QP:"video_home_rainbow_qp",VIDEO_INLINE_CHAINING:"video_inline_chaining",VIDEOHUB_FEATURED:"videohub_featured",VIDEOHUB_LIVE:"videohub_live",VIDEOHUB_PLAYLIST:"videohub_playlist",WATCH_SCROLL:"watch_scroll",UFI_COMMENT_ATTACHMENT:"ufi_comment_attachment",LIVE_AUTOPLAY_WATCH_AND_SCROLL:"live_autoplay_watch_and_scroll",GAMES_VIDEO_STREAMER_SEARCH_UNIT:"games_video_streamer_unit",GAMES_STREAMER_DASHBOARD:"games_streamer_dashboard",ADS_PREVIEW:"ads_preview",VIDEO_PAGE_UNSPECIFIED:"video_page_unspecified",SPOTLIGHT_LIVE:"spotlight_live",SPOTLIGHT_FEATURED:"spotlight_featured",SPOTLIGHT_POPULAR:"spotlight_popular",SPOTLIGHT_UNKNOWN:"spotlight_unknown",VIDEOS_CARD:"videos_card",VIDEOS_TAB:"videos_tab",PLAYLISTS_TAB:"playlists_tab",PLAYLISTS_CARD:"playlists_card",PLAYLIST_PAGE:"playlist_page",BUSINESS_FEED:"business_feed",REDIRECTED_WATCH_SERP:"redirected_watch_serp",SHOWS_CATALOG:"shows_catalog",SOTTO_CATALOG:"sotto_catalog",SOTTO_CONSIDERATION_PAGE:"sotto_consideration_page",RESULTS:"results",SERIES_CARD:"series_card",WATCH_HISTORY:"watch_history",WATCH:"watch",SERP_THUMBNAIL_PREVIEW:"serp_thumbnail_preview",SERP_INLINE_PLAYER:"serp_inline_player",VIDEO_LIST:"video_list",VIDEO_HOME_THUMBNAIL_PREVIEW:"video_home_thumbnail_preview",WORK_CAPTIONS_REVIEW:"work_captions_review",MUSIC_HOME:"music_home",MUSIC_HOME_DEEPLINK:"music_home_deeplink",MUSIC_HOME_ENTRY_AGGREGATION:"music_home_entry_aggregation",MUSIC_HOME_INTERNAL_BOOKMARK:"music_home_internal_bookmark",MUSIC_HOME_NEWSFEED_ATTACHMENT:"music_home_newsfeed_attachment",MUSIC_HOME_NEWSFEED_ATTACHMENT_TRENDING:"music_home_newsfeed_attachment_trending",MUSIC_HOME_NOTIFICATION:"music_home_notification",MUSIC_HOME_QP:"music_home_qp",MUSIC_HOME_QP_OVERLAY_HEADER:"music_home_qp_overlay_header",MUSIC_HOME_SEARCH_SHORTCUT:"music_home_search_shortcut",MUSIC_HOME_SERP:"music_home_serp",MUSIC_HOME_SPRINGBOARD_UNIT:"music_home_springboard_unit",MUSIC_HOME_STATIONS_QP:"music_home_stations_qp",MUSIC_HOME_TAPPABLE_EDGE_HEADER:"music_home_tappable_edge_header",MUSIC_HOME_THIRD_PARTY_PIVOT:"music_home_third_party_pivot",MUSIC_HOME_UNKNOWN:"music_home_unknown",MUSIC_HOME_WATCH_CUE:"music_home_watch_cue",MUSIC_HOME_WATCH_CUE_ARTIST:"music_home_watch_cue_artist",MUSIC_HOME_WATCH_CUE_TRENDING:"music_home_watch_cue_trending",MUSIC_HOME_WATCH_PILL:"music_home_watch_pill",MUSIC_HOME_WATCH_SEARCH:"music_home_watch_search",MUSIC_HOME_WATCH_STATIONS_UNIT:"music_home_watch_stations_unit",MUSIC_HOME_WATCH_SURFACE_PROMOTION_PILL:"music_home_watch_surface_promotion_pill",MUSIC_VIDEOS_PLAYLISTS_CARD:"music_videos_playlists_card",MUSIC_VIDEOS_FEATURING_ARTIST_CARD:"music_videos_featuring_artist_card",MUSIC_WEEKLY_CHART:"music_weekly_chart",MEDIA_MATCH_SERVICE:"media_match_service",LINEAR_CHANNEL:"linear_channel",VIDEO_WALL:"video_wall",MORC_CONSOLE:"morc_console",WORKPLACE_INSIGHTS:"workplace_insights",WORK_VIDEO_QP:"work_video_qp",WORK_TOP_OF_FEED_UNIT:"work_top_of_feed_unit",WATCH_CASTING_QP:"watch_casting_qp"})}),null);
__d("VideoPlayerLogger",["invariant","Banzai","FBLogger","R2D2Logger","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerPlayerStates","VideoPlayerLoggerSource","getVideoBrowserTabId","gkx","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=200,j=b("VideoPlayerHTML5Experiments").useBanzaiVitalForLive,k=b("VideoPlayerHTML5Experiments").discerningAbandonStallLogging,l="video_player",m=5e3,n=function(){return b("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?(h||(h=b("performanceAbsoluteNow")))():Date.now()};a=function(){function a(a,c){this.$29=[],this.$30=null,this.$31=0,this.$2=a,this.$3=null,this.$5={},this.$4=c,this.$7=0,this.$8=0,this.$9=0,this.$10=0,this.$6=[],this.$19=0,this.$20=0,this.$11=0,this.$27=!1,this.$16=!1,this.$32(),this.$33(),this.$28=new(b("R2D2Logger"))(this.$2)}var c=a.prototype;c.updateSource=function(a){this.$2=a};c.getSource=function(){return this.$2};c.logEvent=function(a,c){c=babelHelpers["extends"]({},c,this.$4);c.initial_event=!Object.prototype.hasOwnProperty.call(this.$5,a);Object.prototype.hasOwnProperty.call(c,"time_ms")||(c.time_ms=n());Object.prototype.hasOwnProperty.call(c,"browser_tab_id")||(c.browser_tab_id=b("getVideoBrowserTabId")());Object.prototype.hasOwnProperty.call(c,"time")||(c.time=Math.round(c.time_ms/1e3));c.is_stalling=this.$34();c.error_user_info=this.$35(c.error_user_info);this.$3&&Object.assign(c,this.$3);b("VideoPlayerExperiments").logVideoFramesInfo&&this.$36();switch(a){case"paused":case"finished_playing":if(this.$24){var d=this.$24,e=d.getABREvaluation();c.ideal_samples=e.idealSamples;c.conservative_samples=e.conservativeSamples;c.aggressive_samples=e.aggressiveSamples;c.conservative_resolution_constrained_samples=e.conservativeResolutionConstrainedSamples;c.last_quality_switch_reason=e.lastQualitySwitchReason;c.reason&&d.setLastQualitySwitchReason(c.reason)}e=typeof this.$25==="function"&&this.$25();d=typeof this.$26==="function"&&this.$26();typeof d==="number"&&typeof e==="number"&&(c.dropped_frame_count=e,c.total_frame_count=d);break}switch(a){case"started_playing":case"unpaused":this.$27=!0;break;case"finished_playing":case"error":case"paused":this.$27=!1;break}switch(a){case"requested_playing":this.$32();this.$37();this.$5.started_playing?c.state=b("VideoPlayerLoggerPlayerStates").UNPAUSED:c.state=b("VideoPlayerLoggerPlayerStates").STARTED;break;case"started_playing":case"unpaused":case"finished_playing":case"cancelled_requested_playing":case"error":case"paused":case"representation_ended":case"heart_beat":if(a==="error"&&b("VideoPlayerExperiments").disableStallLoggingForError)break;if(a=="representation_ended"&&!this.$5.started_playing)break;if(a==="heart_beat"&&(!this.$5.started_playing||!b("VideoPlayerHTML5Experiments").heartbeatUpdateWatchTimeV2||this.$34()))break;a==="heart_beat"&&(c.v2_heart_beat=!0);(a==="started_playing"||a==="unpaused")&&(this.$11=c.time_ms,this.$38());if(a==="error"&&c.state!==b("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE)break;a==="cancelled_requested_playing"&&(this.$5.started_playing?c.state=b("VideoPlayerLoggerPlayerStates").UNPAUSED:c.state=b("VideoPlayerLoggerPlayerStates").STARTED);this.$39();this.$40();(a==="paused"||a==="finished_playing")&&(k&&a==="finished_playing"&&this.$38(),c.recent_stalls_count=this.$41());this.$42();this.$43(c);this.$44(c);this.$33();k&&this.$38();this.$32();break}if(b("VideoPlayerExperiments").logVideoFramesInfo)switch(a){case"started_playing":case"unpaused":case"finished_playing":case"paused":case"heart_beat":e=this.$45();e&&(c.video_frames_info=e);break}d={logData:c,event:a,scriptPath:this.$1,source:this.$2};a||b("FBLogger")("video").warn("Missing event name");this.$5[a]=!0;if(this.$2==="animated_image_share")return null;e=b("gkx")("1426867")?{batch:1500,delay:b("Banzai").VITAL_WAIT}:{delay:b("Banzai").VITAL_WAIT};c.ad_client_token||b("VideoPlayerHTML5Experiments").useVitalForEverything||j&&c.playback_is_live_streaming||b("VideoPlayerHTML5Experiments").useVitalForClosing&&(a==="paused"||a==="finished_playing"||a==="heart_beat")||b("VideoPlayerHTML5Experiments").useVitalForOpening&&(a==="unpaused"||a==="started_playing")?b("Banzai").post(l,d,b("Banzai").VITAL):(e.delay=b("Banzai").BASIC_WAIT,b("Banzai").post(l,d,e));this.$28.shouldLogForR2D2()&&this.$28.addEvent(a,c);return d};c.setScriptPath=function(a){this.$1=a,this.$28.setScriptPath(a)};c.setFTData=function(a){this.$3=a};c.setABRQualityTracker=function(a){this.$24=a};c.setFrameCountGetters=function(a,b){this.$25=a,this.$26=b};c.startBuffering=function(a){if(b("VideoPlayerHTML5Experiments").disableBufferingBeforeStartedPlaying&&!this.$5.started_playing)return;this.$37(a)};c.endBuffering=function(){if(b("VideoPlayerHTML5Experiments").disableBufferingBeforeStartedPlaying&&!this.$5.started_playing)return;this.$40();this.$46();this.$39();this.$42()};c.startInterrupt=function(){this.$47()};c.endInterrupt=function(){this.$40(),this.$46()};c.$34=function(){return this.$15>0};c.$37=function(a){if(this.$34())return;this.$16=this.$27;this.$15=Date.now();a!==void 0&&this.$5.started_playing&&(this.$17=a)};c.$47=function(){if(this.$48())return;this.$21=Date.now()};c.$48=function(){return this.$21>0};c.$49=function(){return!this.$48()?0:Date.now()-this.$21};c.$50=function(){return this.$34()?Date.now()-this.$15:0};c.$40=function(){if(this.$48()){var a=this.$49();this.$22+=a;this.$20+=a;this.$23+=1;this.$19+=1}};c.$46=function(){this.$48()&&(this.$21=0)};c.$33=function(){this.$22=0,this.$23=0,this.$46()};c.$39=function(){if(this.$34()){var a=this.$50();this.$17!==null&&(this.$18=a);this.$14+=a;this.$8+=a;this.$12++;a>200&&this.$13++;this.$7++;this.$16&&(this.$10+=a,this.$9++,this.$16=!1);k&&this.$6.push(n())}};c.$42=function(){this.$34()&&(this.$15=0)};c.$35=function(a){return a&&typeof a==="object"?JSON.stringify(a):a};c.$36=function(){var a=this;this.$30||(this.$30=setInterval(function(){return a.$51()},i))};c.$51=function(){var a=typeof this.$26==="function"&&this.$26(),b=typeof this.$25==="function"&&this.$25();typeof a==="number"&&typeof b==="number"&&(a!==this.$31||b!==0)&&(this.$29.push({time_stamp:n(),total_frames:a,dropped_frames:b}),this.$31=a)};c.$45=function(){if(!this.$29.length)return null;var a=[];for(var b=this.$29,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;a.push([e.time_stamp,e.total_frames,e.dropped_frames])}this.$29=[];return JSON.stringify(a)};c.stopCollectingVideoFramesInfo=function(){clearInterval(this.$30),this.$30=null,this.$29=[]};c.getCumulativeStallCount=function(){return this.$7};c.getCumulativeInPlayStallCount=function(){return this.$9};c.getStallCount=function(){return this.$12};c.getCumulativeStallTime=function(){return this.$8+this.$50()};c.getCumulativeInPlayStallTime=function(){return this.$10+(this.$16?this.$50():0)};c.getCumulativeInterruptCount=function(){return this.$19};c.getCumulativeInterruptTime=function(){return this.$20+this.$49()};c.$43=function(a){a.stall_time=Math.max(0,this.$14),a.stall_count=this.$12,a.stall_count_200_ms=this.$13,this.$18&&(a.first_stall_time=this.$18,a.first_stall_start_position=this.$17)};c.$44=function(a){a.interrupt_time=Math.max(0,this.$22),a.interrupt_count=this.$23};c.$41=function(){var a=n(),b=a-m;this.$6=this.$6.filter(function(a){return a>=b});k||this.$12>0&&this.$6.push(a);return this.$6.length};c.$32=function(){this.$14=0,this.$15=0,this.$12=0,this.$13=0,this.$17=null,this.$18=0};c.$38=function(){this.$6=[]};c.getFTdata=function(){return this.$3};return a}();a.Sources=b("VideoPlayerLoggerSource");a.Errors=b("VideoPlayerLoggerErrors");a.FallbackReasons=b("VideoPlayerLoggerFallbackReasons");a.ErrorStates=b("VideoPlayerLoggerErrorStates");a.PlayerStates=b("VideoPlayerLoggerPlayerStates");e.exports=a}),null);
__d("VideoPlayerUIComponentDrawerController",["VideoPlayerUIComponentDrawer"],(function(a,b,c,d,e,f){"use strict";var g=function(a,b){return a.getPriority()-b.getPriority()};a=function(){function a(){this.$1=[]}var c=a.prototype;c.register=function(a,c){var d=this;c=new(b("VideoPlayerUIComponentDrawer"))(a,c);c.addListener("reserve",function(){return d.$2(a)});c.addListener("release",function(){return d.$2(a)});c.addListener("heightChange",function(){return d.$2(a)});this.$1.push(c);this.$1.sort(g);return c};c.$2=function(a){var b=0;this.$1.forEach(function(c){c.getPriority()>a&&c.emit("reposition",b),c.isReserved()&&(b+=c.getHeight())})};return a}();e.exports=a}),null);
__d("VideoPlayerVolumeSettings",["WebStorage"],(function(a,b,c,d,e,f){var g;a=function(){"use strict";function a(){this.$1=1,this.$2=1}var c=a.prototype;c.getVolume=function(){var a=(g||(g=b("WebStorage"))).getLocalStorage();if(a){a=a.getItem("videoPlayerControllerVolume");return a===null||isNaN(+a)?1:+a}return this.$1};c.getSessionVolume=function(){return this.$1};c.setSessionVolume=function(a){this.$1=a};c.saveVolume=function(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();c&&c.setItem("videoPlayerControllerVolume",a);this.$1=a};c.getLastVolumeBeforeMute=function(){var a=(g||(g=b("WebStorage"))).getLocalStorage();if(a){a=a.getItem("videoPlayerControllerLastVolumeBeforeMute");return a===null||isNaN(+a)?1:+a}return this.$2};c.saveLastVolumeBeforeMute=function(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();c&&c.setItem("videoPlayerControllerLastVolumeBeforeMute",a);this.$2=a};return a}();c=new a();e.exports=c}),null);
__d("ViewabilityVideoElement",["UITinyViewportAction","getElementPosition","getViewportDimensions"],(function(a,b,c,d,e,f){var g=42;a=function(){"use strict";function a(a,b,c,d){d===void 0&&(d=!1),this.$1=a,this.$2=b,this.$3=c,this.$4=d}var c=a.prototype;c.feedViewabilityPercentage=function(){var a=b("UITinyViewportAction").isTinyHeight();return this.$5(!a)};c.viewabilityPercentage=function(){return this.$5(!1)};c.isTopElement=function(a,b,c){b=document.elementFromPoint(b,c);return b===a||!!a&&a.contains(b)||!!b&&b.contains(a)};c.$5=function(a){var c=b("getViewportDimensions")(),d=c.width;c=c.height;var e=this.$4&&this.$3?this.$3:this.$1;e=b("getElementPosition")(e);if(e.width===0||e.height===0)return 0;var f=e.x,h=e.x+e.width,i=e.y,j=e.y+e.height;a=a?g:0;if(h<=0||f>=d||j<=a||i>=c)return 0;h=Math.min(h,d)-Math.max(f,0);d=Math.min(j,c)-Math.max(i,a);f=h*d*100/(e.width*e.height);return f};return a}();e.exports=a}),null);
__d("VideoViewabilityLogging",["VideoPlayerExperiments","ViewabilityVideoElement","performanceNow"],(function(a,b,c,d,e,f){var g,h=b("VideoPlayerExperiments").viewabilityPollingRate,i=new Map([[0,0],[25,25],[50,50],[75,75],[100,100]]);a=function(){"use strict";function a(a,c,d,e){var f=this;this.$14=function(a){if(!f.$8())return;a=(g||(g=b("performanceNow")))();a-f.$1>h&&(f.$12(),f.$1=a);f.$13()};this.$11=function(){f.$16()};this.$10=function(){f.setLastLoggedViewability(f.getViewability()),f.$15()};this.$1=0;this.$5=a;this.$6=new(b("ViewabilityVideoElement"))(c,d,e,this.$5.isSpherical());this.$7()}var c=a.prototype;c.getViewability=function(){var a;this.$5.isInline()?a=this.$6.feedViewabilityPercentage():a=this.$6.viewabilityPercentage();b("VideoPlayerExperiments").pauseVideosOnViewability&&a<50&&this.$8()&&this.$5.pause();return this.$9(a)};c.setLastLoggedViewability=function(a){this.$4=a};c.$7=function(){this.$5.addListener("beginPlayback",this.$10),this.$5.addListener("pausePlayback",this.$11)};c.$12=function(){var a=this.getViewability();a!=this.$4&&(this.$5.logEvent("viewability_changed",{current_viewability_percentage:a,last_viewability_percentage:this.$4}),this.$4=a)};c.$13=function(){var a=this,c=b("VideoPlayerExperiments").organicViewabilityLoggingUseSetTimeout,d=b("VideoPlayerExperiments").organicViewabilityLoggingPollingTimeMs;c=!this.$5.isAd()&&c?function(){a.$3=window.setTimeout(function(){return a.$14((g||(g=b("performanceNow")))())},d)}:function(){a.$2=window.requestAnimationFrame(a.$14)};c()};c.$15=function(){this.$13()};c.$16=function(){this.$17()};c.$17=function(){var a=this,c=b("VideoPlayerExperiments").organicViewabilityLoggingUseSetTimeout;c=!this.$5.isAd()&&c?function(){return window.clearTimeout(a.$3)}:function(){return window.cancelAnimationFrame(a.$2)};c()};c.$8=function(){return this.$5.getVideoAPI().isPaused()!==void 0?!this.$5.getVideoAPI().isPaused():this.$5.getState()==="playing"};c.$9=function(a){var b=-2;if(a<=0)return b;for(var c=i,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];a>=g&&(b=f)}return b};return a}();e.exports=a}),null);
__d("VideosRenderingInstrumentation",["DataStore","VideoPlayerHTML5Experiments","performanceAbsoluteNow"],(function(a,b,c,d,e,f){var g,h={storeRenderTime:function(a){var c=b("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?(g||(g=b("performanceAbsoluteNow")))():Date.now();b("DataStore").set(a,"videos_rendering_instrumentation",c);return c},retrieveRenderTime:function(a){var c=b("DataStore").get(a,"videos_rendering_instrumentation",NaN);Number.isNaN(c)&&(c=h.storeRenderTime(a));return c}};e.exports=h}),null);
__d("XVideoDataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/video_data/",{video_id:{type:"String",required:!0},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"},source:{type:"String"},preferred_projection:{type:"Enum",enumType:1},supports_html5_video:{type:"Bool",defaultValue:!0},is_ad:{type:"Bool",defaultValue:!1},force_flash:{type:"Bool",defaultValue:!1},is_omnistab_preview_select_revert:{type:"Bool",defaultValue:!1}})}),null);
__d("canVideoPlayType",["DOM"],(function(a,b,c,d,e,f){var g=null;function a(a){g=g||b("DOM").create("video");return!("canPlayType"in g)?"":g.canPlayType(a)}e.exports=a}),null);
__d("enumerate",[],(function(a,b,c,d,e,f){"use strict";e.exports=function(b){return b.FB_enumerate}(a)}),null);
__d("getVideoComponentName",[],(function(a,b,c,d,e,f){function a(a){if(a!=null){var b=null;a.prototype&&a.prototype.constructor?b=a.prototype.constructor:a.constructor&&(b=a.constructor);if(b&&b.name)return b.name;if(typeof a.toString==="function")return a.toString()}return null}e.exports=a}),null);
__d("logVideosClickTracking",["clickRefAction"],(function(a,b,c,d,e,f){function a(a){b("clickRefAction")("click",a,null,"FORCE")}e.exports=a}),null);
__d("VideoPlayerController",["csx","cx","invariant","Promise","Arbiter","Banzai","Bootloader","CSS","CurrentUser","CVCv3VideoControllerHelper","DelegatedVideoPriorityAdjuster","DOM","DOMDimensions","DOMQuery","ErrorUtils","EventEmitter","FBLogger","FullScreen","LiveVideoCopyrightActionQueryWebGraphQLQuery","LiveVideoCopyrightActionSubscription","MediaController","Parent","Run","ScriptPath","SparkMD5","SphericalVideoPlayerEvents","SRTVideoData","SubscriptionsHandler","TahoeVariables","URI","VideoAsyncLoggerHelper","VideoChannelViewChainLengthManager","VideoControllerPlayingStateEmitter","VideoLiveTrace","VideoMimeTypes","VideoPermalinkURI","VideoPlaybackQuality","VideoPlayerABRQualityTracker","VideoPlayerApiEvents","VideoPlayerConnectionQuality","VideoPlayerExperiments","VideoPlayerFormatsMap","VideoPlayerHTML5Experiments","VideoPlayerLogger","VideoPlayerLoggerErrorStates","VideoPlayerLoggerFallbackReasons","VideoPlayerQualitiesArray","VideoPlayerReasonTransitionHelper","VideoPlayerResizeSettings","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaConfig","VideoPlayerStateBasedLoggingEvents","VideoPlayerUIComponentDrawer","VideoPlayerUIComponentDrawerController","VideoPlayerVolumeSettings","VideosRenderingInstrumentation","VideoViewabilityKeyEvents","VideoViewabilityLogging","VideoVisibilityObserver","ViewportTrackingHelper","Visibility","WebGraphQL","WebSessionExtender","XVideoDataController","canVideoPlayType","clearInterval","clearTimeout","collectDataAttributes","enumerate","forwardEvent","getContextualParent","getElementPosition","getFullScreenElement","getVideoComponentName","getViewportDimensions","gkx","guid","ifRequired","logVideosClickTracking","mapObject","performanceAbsoluteNow","promiseDone","requireWeak","setInterval","setTimeout","uniqueID"],(function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n=b("VideoAsyncLoggerHelper").operateAsync,o=b("VideoPlaybackQuality").getDroppedFrames,p=b("VideoPlaybackQuality").getTotalFrames,q=b("VideoPlayerQualitiesArray").getHighestVideoQuality,r=b("VideoPlayerQualitiesArray").getPreferredVideoQualityForToggleHD,s=b("VideoPlayerQualitiesArray").isHDSelectedVideoQuality,t=null;b("requireWeak")("LiveVideoPlayerStore",function(a){return t=a});var u=1;function v(){return b("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?(j||(j=b("performanceAbsoluteNow")))():Date.now()}a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e,f=c.video_id,g=c.video_ids,h=c.video_url,i=c.video_urls,j=c.chaining_token,m=c.video_channel_id,n=c.video_list_id,q=c.reaction_video_channel_type,r=c.reaction_video_channel_subtype,s=c.source,t=c.ad_client_token,u=c.should_autoplay,w=c.immediateplay_reason,x=c.player_version,y=c.autoplay_setting,z=c.apiModule,A=c.apiConfig,B=c.useInlineFallback,C=c.accessToken,D=c.permalinkShareID,E=c.projection,F=c.playerOrigin,G=c.playerSuborigin,H=c.playerSuboriginDerived,I=c.isBroadcast,J=c.isInstreamAd,K=c.customLiveManifestUrlParams,L=c.components,M=c.trackingCodes,N=c.alwaysShowCaptions;c.disableLogging;var O=c.subtitleBackgroundColor,P=c.subtitleBackgroundOpacity,Q=c.subtitleTextColor,R=c.subtitleTextSize,S=c.captionsAutogeneratedIndicatorConfig,T=c.video_path,U=c.customLoggingProps,V=c.broadcasterOrigin,aa=c.allowCrossPageTransition,ba=c.isReactPlayer,ca=c.offsettype,da=c.offsetvalue,ea=c.upstreamPlayerSource,fa=c.shouldLogVideoViewability,W=c.livingRoomSessionID,ga=c.broadcastId,ha=c.isAdsPreview,ia=c.isInjectedAds,ja=c.isBroadcaster,ka=c.keepPlayingOnDialog,la=c.isChainedLivingRoom,X=c.liveLinearChannelId,ma=c.isReplayLivingRoom,Y=c.device_id,Z=c.iframeEmbedReferrer;c=c.positionInUnit;var na=d.root_element,oa=d.container_element;d=d.video_element;e=a.call(this)||this;e.$VideoPlayerController22=!1;e.$VideoPlayerController40=!1;e.$VideoPlayerController81=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);e.$VideoPlayerController82=0;e.$VideoPlayerController114=[];e.$VideoPlayerController121=null;e.$VideoPlayerController122=null;e.$VideoPlayerController123=new(b("EventEmitter"))();e.$VideoPlayerController128=null;e.emitHeartbeat=function(){if(!e.isState("playing")||!e.getVideoNode()){e.stopHeartbeat();e.$VideoPlayerController20.stopUnifiedCVC();return}if(b("VideoPlayerHTML5Experiments").heartbeatSkipOnBuffering&&e.isBuffering())return;e.getVideoAPI().logHeartbeat()};e.$VideoPlayerController169=function(){if(!b("VideoPlayerExperiments").allowBufferingErrorForHiddenTab&&b("Visibility").isHidden()){e.$VideoPlayerController168();e.$VideoPlayerController103=b("setTimeout")(e.$VideoPlayerController169,e.$VideoPlayerController109);return}var a=e.getVideoAPI().isPaused()!==void 0?!e.getVideoAPI().isPaused():e.getState()==="playing";a&&(e.logError({error:"BUFFERING_TIMEOUT",message:"video has been in buffering state for over "+e.$VideoPlayerController109+"ms.",isPlayback:e.isPlayRequestPending()}),e.$VideoPlayerController168(),e.emit("error",b("VideoPlayerLoggerFallbackReasons").TIMEOUT))};e.$VideoPlayerController118=b("guid")();e.$VideoPlayerController48=0;e.$VideoPlayerController26=0;e.$VideoPlayerController25=new Map();e.$VideoPlayerController84={};U&&e.setLogEntryPropertyGetters(U);if(u===void 0)throw new Error("Must pass should_autoplay to "+e.constructor.name+"!");e.$VideoPlayerController130=Z;e.$VideoPlayerController119=c;e.$VideoPlayerController24=new(b("VideoPlayerUIComponentDrawerController"))();e.$VideoPlayerController13=new Map();e.$VideoPlayerController61=E;e.$VideoPlayerController1=C;e.$VideoPlayerController71=!!u;e.$VideoPlayerController72=w;e.$VideoPlayerController8=y;e.$VideoPlayerController2=t;e.$VideoPlayerController55=!1;e.$VideoPlayerController94=d;e.$VideoPlayerController70=na;e.$VideoPlayerController15=oa;e.$VideoPlayerController35=!1;e.$VideoPlayerController36=!1;e.$VideoPlayerController60=x;e.$VideoPlayerController93=f||g&&g[0]||"";e.$VideoPlayerController96=h||i&&i[0];e.$VideoPlayerController95=T;e.$VideoPlayerController11=j;e.$VideoPlayerController90=m;e.$VideoPlayerController91=n;e.$VideoPlayerController56=D;e.$VideoPlayerController57=F;e.$VideoPlayerController58=G||s;e.$VideoPlayerController59=(U=H)!=null?U:null;e.$VideoPlayerController33=I;e.$VideoPlayerController41=J;e.$VideoPlayerController19=(Z=K)!=null?Z:null;e.$VideoPlayerController86=M;e.$VideoPlayerController3=N;e.$VideoPlayerController75=O||"";e.$VideoPlayerController76=P==void 0?0:P;e.$VideoPlayerController77=Q||"";e.$VideoPlayerController78=R==void 0?0:R;e.$VideoPlayerController79=S;e.$VideoPlayerController31=b("uniqueID")();e.$VideoPlayerController67=q;e.$VideoPlayerController68=r;e.$VideoPlayerController122=ga;e.$VideoPlayerController124=ha;e.$VideoPlayerController125=ia;e.$VideoPlayerController126=ka;e.$VideoPlayerController5=z;e.$VideoPlayerController4=A;e.$VideoPlayerController80=e.$VideoPlayerController5.getStartMutedFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController45=e.$VideoPlayerController5.getStreamTypeFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController44=e.$VideoPlayerController5.getIsServableViaFbmsFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController42=e.$VideoPlayerController5.getIsPlayingLiveFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController43=e.$VideoPlayerController5.getIsGamingFromConfig(e.$VideoPlayerController4);e.isLiveVideo()&&e.$VideoPlayerController5.getIsLiveTraceEnabledOnPlayer(e.$VideoPlayerController4)&&e.$VideoPlayerController122&&(e.$VideoPlayerController121=new(b("VideoLiveTrace"))(e.$VideoPlayerController122,e.$VideoPlayerController118,b("CurrentUser").getAccountID()));e.$VideoPlayerController116=!!fa;e.$VideoPlayerController38=e.$VideoPlayerController5.getIsSpherical(e.$VideoPlayerController4);c={is_ad:e.isAd(),is_live:e.$VideoPlayerController42,player_format:e.$VideoPlayerController131(e.isFullscreen(),s)||"unknown",connection_quality:b("VideoPlayerConnectionQuality").evaluate(b("VideoPlayerShakaBandwidthEstimator").getBandwidth),is_spherical:e.$VideoPlayerController38,content_category:"general",latency_level:"normal",servable_via_fbms:void 0,servable_via_fmbs:void 0};c.servable_via_fmbs=!1;e.$VideoPlayerController14=new(b("VideoPlayerShakaConfig"))(c);e.$VideoPlayerController117=W;e.$VideoPlayerController127=la;e.$VideoPlayerController129=ma;e.$VideoPlayerController128=X;e.$VideoPlayerController20=new(b("CVCv3VideoControllerHelper"))(babelHelpers.assertThisInitialized(e));C&&e.$VideoPlayerController20.setAccessToken(C);e.$VideoPlayerController20.setLivingRoomSessionID(W);e.$VideoPlayerController20.setLinearChannelID(X);e.$VideoPlayerController45==="progressive"?e.$VideoPlayerController109=b("VideoPlayerExperiments").progressiveBufferingErrorTimeout:e.isLiveVideo()?e.$VideoPlayerController109=b("VideoPlayerExperiments").liveBufferingErrorTimeout:e.$VideoPlayerController109=b("VideoPlayerExperiments").bufferingErrorTimeout;b("VideoPlayerExperiments").createVideoVisibilityObserver&&e.$VideoPlayerController132();e.$VideoPlayerController37=e.$VideoPlayerController5.getIsFacecastAudioFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController88=!!B;e.$VideoPlayerController101=new Set();e.$VideoPlayerController102=V;e.$VideoPlayerController103=null;e.$VideoPlayerController104=!!aa;e.$VideoPlayerController105=!!ba;e.$VideoPlayerController106=e.getContainerNode().style.paddingBottom;e.$VideoPlayerController107=ca;e.$VideoPlayerController108=da;e.$VideoPlayerController110=!1;e.$VideoPlayerController111=!1;e.$VideoPlayerController87=ea;e.$VideoPlayerController23=b("Arbiter").subscribe("DOM/destroy",function(a,c){if(!b("Parent").bySelector(e.getVideoNode(),c))return;e.pause("unloaded");e.destroy()});e.$VideoPlayerController18=0;E=(k||(k=b("URI"))).getRequestURI();u=b("VideoPermalinkURI").parse(E);w=parseFloat(E.getQueryData().t);y=u?u.video_id==e.$VideoPlayerController93:!1;w&&y&&e.$VideoPlayerController4&&(e.$VideoPlayerController4.startTimestamp=w);b("VideoPlayerHTML5Experiments").useVpcPlayingStateForPrioritization&&e.$VideoPlayerController4&&(e.$VideoPlayerController4.vpcPlayingStateEmitter=new(b("VideoControllerPlayingStateEmitter"))(babelHelpers.assertThisInitialized(e)));e.$VideoPlayerController14.getBool("oz_www_safely_log_player_seeks",!1)&&e.$VideoPlayerController4&&(e.$VideoPlayerController4.seekHandler=function(a){e.isState("playing")?(e.pause(),e.seek(a),e.play("seek_initiated")):e.seek(a)});e.$VideoPlayerController115=new(b("DelegatedVideoPriorityAdjuster"))();b("VideoPlayerExperiments").adjustPriorityBasedOnAutoplayIndex&&e.$VideoPlayerController4&&(e.$VideoPlayerController4.streamPriorityAdjuster=e.$VideoPlayerController115);e.$VideoPlayerController17=null;e.$VideoPlayerController53=null;e.$VideoPlayerController73=s;e.$VideoPlayerController50=Y?new(b("VideoPlayerLogger"))(s,{device_id:Y}):new(b("VideoPlayerLogger"))(s);e.$VideoPlayerController73==="tahoe"&&e.focusOnContainerNode();e.collectFeedTrackingData();e.$VideoPlayerController50.setScriptPath(b("ScriptPath").getScriptPath());e.$VideoPlayerController50.setFrameCountGetters(function(){return e.$VideoPlayerController94!=null?o(e.$VideoPlayerController94):null},function(){return e.$VideoPlayerController94!=null?p(e.$VideoPlayerController94):null});e.$VideoPlayerController63=b("VideosRenderingInstrumentation").retrieveRenderTime(e.getRootNode());e.$VideoPlayerController62=v()-e.$VideoPlayerController63;A&&(A.subtitleDrawer=e.registerDrawer(b("VideoPlayerUIComponentDrawer").priorities.Subtitles,0));e.$VideoPlayerController74="loading";e.$VideoPlayerController133(!1);if(e.$VideoPlayerController5.isImplementationUnavailable(e.$VideoPlayerController88)){e.$VideoPlayerController134();return babelHelpers.assertThisInitialized(e)}else e.$VideoPlayerController135();b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){e.pause("unloaded"),e.destroy()});e.$VideoPlayerController7=new(b("SubscriptionsHandler"))();e.$VideoPlayerController71&&(b("VideoPlayerExperiments").delayAutoplayUntilAfterLoad?e.$VideoPlayerController7.addSubscriptions(b("Run").onAfterLoad(function(){return e.$VideoPlayerController136()})):e.$VideoPlayerController136());e.$VideoPlayerController21=0;e.$VideoPlayerController69=!1;e.$VideoPlayerController27=e.$VideoPlayerController137();e.$VideoPlayerController7.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){e.pause("unloaded"),e.destroy()}));if(!e.$VideoPlayerController138()){var $=new Set(["DialogX","PhotoSnowlift","Spotlight"]);b("gkx")("1249530")&&($.add("FacebarTypeahead"),$.add("Jewel"));e.$VideoPlayerController7.addSubscriptions(b("Arbiter").subscribe("layer_shown",function(a,c){if($.has(c.type)){c.type!=="Spotlight"&&b("Bootloader").loadModules(["VideoAutoplayControllerX"],function(a){a.setShouldAutoplay(!1)},"VideoPlayerController");this.$VideoPlayerController21=this.$VideoPlayerController21+1;if(b("VideoPlayerExperiments").ignoreDialogCounter||this.$VideoPlayerController21>0){a=this.$VideoPlayerController73==="tahoe"&&this.isLiveVideo();this.isState("playing")&&!(a&&b("TahoeVariables").neverAutoPauseLive)&&!this.$VideoPlayerController126&&(this.pause("page_visibility_initiated"),this.$VideoPlayerController69=!0)}}}.bind(babelHelpers.assertThisInitialized(e))),b("Arbiter").subscribe("layer_hidden",function(a,c){$.has(c.type)&&(b("VideoPlayerExperiments").addViewabilityFixEnabled?this.$VideoPlayerController21=Math.max(0,this.$VideoPlayerController21-1):this.$VideoPlayerController21=this.$VideoPlayerController21-1,this.$VideoPlayerController21===0&&(c.type!=="Spotlight"&&b("Bootloader").loadModules(["VideoAutoplayControllerX"],function(a){a.setShouldAutoplay(!0)},"VideoPlayerController"),this.$VideoPlayerController69&&(this.play("page_visibility_initiated"),this.$VideoPlayerController69=!1)))}.bind(babelHelpers.assertThisInitialized(e))))}e.$VideoPlayerController7.addSubscriptions(b("Arbiter").subscribe("share_dialog_closed",function(a,c){if(!c.root)return;if(!e.$VideoPlayerController70)return;b("ViewportTrackingHelper").isDescendantOf(e.$VideoPlayerController70,c.root)&&e.mute()}));b("Run").onLeave(function(){if(e.$VideoPlayerController104||b("VideoPlayerExperiments").persistentWNSEnabled&&e.$VideoPlayerController73==="watch_scroll")return;e.cleanOnLeave()});e.$VideoPlayerController12=L||[];e.$VideoPlayerController12.forEach(function(a){var c=b("getVideoComponentName")(a)||"<MalformedComponent>";a&&typeof a.enable==="function"?b("VideoPlayerExperiments").enableComponentGuards?(l||(l=b("ErrorUtils"))).applyWithGuard(a.enable,a,[babelHelpers.assertThisInitialized(e)],null,"VideoPlayerController Component Enable Guard: "+c):a.enable(babelHelpers.assertThisInitialized(e)):b("FBLogger")("video").warn("no_enable_method_on_component: %s",c)});e.$VideoPlayerController52=1;e.$VideoPlayerController97=!1;e.$VideoPlayerController94&&(e.shouldCalculateViewability()?(e.$VideoPlayerController97=b("VideoPlayerExperiments").enableViewabilityLogging||b("VideoPlayerExperiments").enableVideoSampledViewabilityLogging&&!!e.$VideoPlayerController116,e.isInstreamAd()&&(e.$VideoPlayerController97=e.$VideoPlayerController97&&(b("VideoPlayerExperiments").enableInstreamAdViewabilityLogging||b("VideoPlayerExperiments").enableVideoSampledViewabilityLogging&&!!e.$VideoPlayerController116))):e.$VideoPlayerController97=b("VideoPlayerExperiments").enableViewabilityLoggingForOrganic);e.$VideoPlayerController97&&e.$VideoPlayerController94&&(e.$VideoPlayerController98=new(b("VideoViewabilityLogging"))(babelHelpers.assertThisInitialized(e),e.$VideoPlayerController94,e.$VideoPlayerController70,e.$VideoPlayerController15));e.$VideoPlayerController32=!1;e.$VideoPlayerController34=ja;e.isLiveVideo()&&(e.$VideoPlayerController16=b("LiveVideoCopyrightActionSubscription").subscribe(e.getVideoID(),function(a){var b=a.live_video_copyright_action_subscribe.action.toLowerCase();switch(b){case"block":if(e.$VideoPlayerController34)break;e.emit("blockVideo");e.destroy();break;case"mute":e.emit("blockAudio",e.$VideoPlayerController34);e.$VideoPlayerController32=!0;e.$VideoPlayerController34||e.mute();break;case"unmute":e.emit("unblockAudio",e.$VideoPlayerController34);e.$VideoPlayerController32=!1;e.$VideoPlayerController34||e.unmute();break}e.$VideoPlayerController139(a.live_video_copyright_action_subscribe.action,a.live_video_copyright_action_subscribe.timestamp)}));e.$VideoPlayerController140();return e}var d=c.prototype;d.$VideoPlayerController140=function(){var a="v:"+this.$VideoPlayerController31;this.addListener("beginPlayback",function(){b("WebSessionExtender").subscribe(a,"video-on-blue")});this.addListener("pausePlayback",function(){b("WebSessionExtender").unsubscribe(a)});this.addListener("finishPlayback",function(){b("WebSessionExtender").unsubscribe(a)})};d.setVideoPriorityAdjustment=function(a){this.$VideoPlayerController115.notifyAdjustment(a)};d.addListener=function(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=(b=a.prototype.addListener).call.apply(b,[this].concat(d));d[0]==="visibilityChanged"&&this.$VideoPlayerController132();return f};d.$VideoPlayerController132=function(){var a=this;if(this.$VideoPlayerController112)return;this.$VideoPlayerController94||i(0,3694);this.$VideoPlayerController112=new(b("VideoVisibilityObserver"))(this.$VideoPlayerController94);this.$VideoPlayerController112.addListener("visibilityChanged",function(b){return a.emit("visibilityChanged",b)})};d.setAutoScrollIntoView=function(a){this.$VideoPlayerController22=!a};d.setDetectionID=function(a){this.$VideoPlayerController120=a};d.destroy=function(a){a=a||{};if(this.isState("destroyed")||this.$VideoPlayerController36)return;this.$VideoPlayerController36=!0;this.$VideoPlayerController112&&(this.$VideoPlayerController112.destroy(),this.$VideoPlayerController112=null);var c=this.$VideoPlayerController12||[];for(var d=c.length-1;d>=0;d--){var e=c[d],f=b("getVideoComponentName")(e)||"<MalformedComponent>";e&&typeof e.disable==="function"?b("VideoPlayerExperiments").enableComponentGuards?(l||(l=b("ErrorUtils"))).applyWithGuard(e.disable,e,[this],null,"VideoPlayerController Component Disable Guard: "+f):e.disable(this):b("FBLogger")("video").warn("no_disable_method_on_component: %s",f)}b("gkx")("678893")?this.$VideoPlayerController89&&this.getVideoAPI().destroy(a):this.getVideoAPI().destroy(a);this.$VideoPlayerController50.stopCollectingVideoFramesInfo();this.setState("destroyed");this.$VideoPlayerController7.release();a.skipRemoveAllListeners||this.removeAllListeners();this.$VideoPlayerController23&&(this.$VideoPlayerController23.unsubscribe(),this.$VideoPlayerController23=null);this.stopHeartbeat();this.$VideoPlayerController20.stopUnifiedCVC();this.$VideoPlayerController16&&(this.$VideoPlayerController16.unsubscribe(),this.$VideoPlayerController16=null)};d.collectFeedTrackingData=function(){if(this.$VideoPlayerController86){var a={tn:"","tn-debug":","},c={};for(var d=0;d<this.$VideoPlayerController86.length;d++){var e=JSON.parse(this.$VideoPlayerController86[d]);if(!Array.isArray(e))for(var f in e)a[f]!==void 0?(c[f]===void 0&&(c[f]=[]),c[f].push(e[f])):c[f]===void 0&&(c[f]=e[f])}for(var g in a)c[g]!==void 0&&(c[g]=c[g].join(a[g]));e={ft:c}}else{d=!1;a=this.getRootNode();while(a){if(a instanceof Element&&b("CSS").matchesSelector(a,"._4oep")){d=!0;break}a=b("getContextualParent")(a)}!d?this.isState("replayed")?e=b("collectDataAttributes")(window.event.target,["ft"]):e=b("collectDataAttributes")(this.getRootNode(),["ft"]):e={}}this.$VideoPlayerController50.setFTData(e)};d.setStillFrameEnabled=function(a){var b=this.getVideoAPI();b.setStillFrameEnabled&&b.setStillFrameEnabled(a)};d.isFallbackRecoverable=function(){return!!this.$VideoPlayerController83};d.setFallbackSources=function(a){this.$VideoPlayerController83=a};d.setRelativeSphericalOrientation=function(a,c){this.emit(b("SphericalVideoPlayerEvents").SET_RELATIVE_SPHERICAL_ORIENTATION,a,c)};d.setSphericalOrientation=function(a,c){this.emit(b("SphericalVideoPlayerEvents").SET_ABSOLUTE_SPHERICAL_ORIENTATION,a,c)};d.setSphericalFieldOfView=function(a){this.emit(b("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,a)};d.isSpherical=function(){return this.$VideoPlayerController38};d.getVideoPlayerID=function(){return this.$VideoPlayerController31};d.focusOnContainerNode=function(){this.$VideoPlayerController15&&this.$VideoPlayerController15.focus()};d.setLogEntryPropertyGetters=function(a){var b=this;Object.keys(a).forEach(function(c){var d=a[c];typeof d==="function"?b.$VideoPlayerController25.set(c,d):b.$VideoPlayerController84[c]=d})};d.removeLogEntryPropertyGetters=function(a){var b=this;typeof a==="string"&&(a=[a]);Array.isArray(a)||(a=Object.keys(a));a.forEach(function(a){b.$VideoPlayerController25["delete"](a),delete b.$VideoPlayerController84[a]})};d.$VideoPlayerController135=function(){var a=this;this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return a.onApiReady()})};d.isImplementationUnavailable=function(){return this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController88)&&!this.$VideoPlayerController88};d.getIsInChannel=function(){return this.$VideoPlayerController73==="channel"};d.updateSource=function(a){if(!this.$VideoPlayerController73)return;var c=b("VideoPlayerFormatsMap")[this.$VideoPlayerController73],d=b("VideoPlayerFormatsMap")[a];this.$VideoPlayerController50.updateSource(a);this.$VideoPlayerController14.setContext("player_format",this.$VideoPlayerController131(this.isFullscreen(),a)||"unknown");c&&c!==d&&this.$VideoPlayerController99&&(b("VideoPlayerExperiments").delayFormatChangeEvent?this.isState("playing")&&!this.$VideoPlayerController39?(this.logEvent("player_format_changed"),this.$VideoPlayerController47=d):this.$VideoPlayerController47=c:this.logEvent("player_format_changed"));this.$VideoPlayerController73=a};d.getSource=function(){return this.$VideoPlayerController50.getSource()};d.getPlayerOrigin=function(){return this.$VideoPlayerController57};d.getPlayerSuborigin=function(){return this.$VideoPlayerController58};d.getUpstreamPlayerSource=function(){return this.$VideoPlayerController87};d.hasLooped=function(){return this.$VideoPlayerController52>1};d.$VideoPlayerController134=function(){var a={error:"IMPLEMENTATION_NOT_SUPPORTED",state:b("VideoPlayerLoggerErrorStates").PLAYER_FAILURE,error_description:"Implementation unavailable",error_user_info:this.getDebugInfo()};this.logEvent("error",a);this.$VideoPlayerController71=!1};d.logError=function(a){a=this.$VideoPlayerController46=a;var c=a.error,d=a.message,e=a.isPlayback,f=a.httpStatus,g=a.url;a=a.stack;var h=this.getDebugInfo();a&&(h.player.stack=a);a=f==null||f===""?c:f;delete h.player.loggedError;delete h.player.lastError;h={error:c,error_description:d,error_user_info:h,error_code:a,error_domain:c,resource_url:g,state:e?b("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE:b("VideoPlayerLoggerErrorStates").PLAYER_FAILURE};f===410||f==="410"||(this.$VideoPlayerController49=this.logEvent("error",h));this.$VideoPlayerController38&&Math.random()<.01&&b("FBLogger")("360video").warn("360 video player error: %s %s",c,d);e&&this.$VideoPlayerController55&&this.$VideoPlayerController133(!1)};d.setRotation=function(a){this.getVideoAPI().setRotation(a)};d.setDimensions=function(a,c){var d=this.getContainerNode();d.style.width=a+"px";d.style.height=c+"px";d=this.getVideoNode();d.style.width=a+"px";d.style.height=c+"px";if(this.isState("loading"))this.$VideoPlayerController64={width:a,height:c};else{if(this.isPlayerVersion("silvercity")&&(this.$VideoPlayerController39||b("VideoPlayerResizeSettings").disable_flash_set_dimensions))return;this.setVideoPlayerAPIDimensions(a,c)}};d.isPlayRequestPending=function(){return this.$VideoPlayerController55};d.$VideoPlayerController133=function(a){if(this.$VideoPlayerController55===a)return;this.$VideoPlayerController55=a;this.emit("pendingPlayRequestChanged")};d.updateAutoplayRestrained=function(){var a=this;b("ifRequired")("VideoPlayerHTML5Shaka",function(b){b=b.isAutoplayBandwidthRestrained(a.$VideoPlayerController42);a.$VideoPlayerController141(b)})};d.$VideoPlayerController141=function(a){a?this.emit("turnOffAutoplay",{reason:"poor_network_quality"}):this.emit("resumeAutoplay",{reason:"poor_network_quality"});if(b("gkx")("678893")){var c=this.getVideoAPI();c&&c.setPreloadDisabled(a)}else this.getVideoAPI().setPreloadDisabled(a)};d.restoreStreamBufferSize=function(){if(b("gkx")("678893")){var a=this.getVideoAPI();a&&a.restoreStreamBufferSize()}else this.getVideoAPI().restoreStreamBufferSize()};d.getDataInsertionPosition=function(){return this.$VideoPlayerController27&&this.$VideoPlayerController27.getAttribute("data-insertion-position")};d.getDataFt=function(){return this.$VideoPlayerController27&&this.$VideoPlayerController27.getAttribute("data-ft")};d.play=function(a){var c=this,d=null;a instanceof b("VideoPlayerReasonTransitionHelper")?d=a.getReason():d=a;a=this.getVideoNodeNullable();if(a&&a.scrollIntoView&&d==="user_initiated"&&!this.$VideoPlayerController22&&this.$VideoPlayerController14.getBool("enable_autoscroll_into_view",!1)){var e=this.getDOMPosition(),f=e.y>=0;e=e.y+e.height<=b("getViewportDimensions")().height;!f?a.scrollIntoView(!0):e||a.scrollIntoView(!1)}this.$VideoPlayerController142();this.$VideoPlayerController54||(this.$VideoPlayerController54=d);this.$VideoPlayerController113=this.getOption("VideoWithCommercialBreak","controller");if(this.$VideoPlayerController113&&this.$VideoPlayerController113.shouldPlayPreRollAds(d)){this.$VideoPlayerController113.schedulePreRollAds();return}if(!this.$VideoPlayerController55){this.$VideoPlayerController53=this.$VideoPlayerController143();var g=this.$VideoPlayerController144({debug_reason:d});f=this.$VideoPlayerController73;b("VideoPlayerExperiments").delayFormatChangeEvent&&f&&this.$VideoPlayerController99&&this.$VideoPlayerController47&&b("VideoPlayerFormatsMap")[f]!==this.$VideoPlayerController47&&!this.$VideoPlayerController39&&(this.logEvent("player_format_changed"),this.$VideoPlayerController47=b("VideoPlayerFormatsMap")[f]);b("VideoPlayerExperiments").logRequestedPlayingAsync?n(function(){c.logEvent("requested_playing",g)},["started_playing","unpaused"],this.$VideoPlayerController123):this.logEvent("requested_playing",g);this.$VideoPlayerController99=!0}this.$VideoPlayerController145(d);this.emit("playRequested",d);this.sendPlayRequest(d);d==="loop_initiated"&&(this.$VideoPlayerController52++,this.$VideoPlayerController52>10&&this.$VideoPlayerController14.getBool("disable_logging_for_long_loops",!1)&&(this.$VideoPlayerController100=!0))};d.sendPlayRequest=function(a){var c=this;if(this.isState("fallback")){this.emit("fallbackPlay");b("VideoPlayerExperiments").endBufferingOnFallbackPlay&&this.$VideoPlayerController50.endBuffering();return}this.$VideoPlayerController133(!0);this.isState("loading")?this.$VideoPlayerController65={reason:a}:(!this.getVideoAPI().isMuted()&&this.$VideoPlayerController51&&(b("VideoPlayerExperiments").logUnmutedAsync?n(function(){c.logEvent("unmuted")},["started_playing","unpaused"],this.$VideoPlayerController123):this.logEvent("unmuted")),this.$VideoPlayerController51=!1,this.$VideoPlayerController146(),this.getVideoAPI().play(a))};d.getOriginalPlayReason=function(){return this.$VideoPlayerController54};d.reset=function(){var a=this,c=b("Promise").resolve();if(this.isState("loading")||this.isState("fallback")&&!this.isFallbackRecoverable())return c;this.resetPositions();this.$VideoPlayerController147();var d=b("Promise").resolve();this.$VideoPlayerController89&&this.$VideoPlayerController89.destroy&&(d=this.$VideoPlayerController89.destroy());this.$VideoPlayerController89=null;this.setState("loading");b("gkx")("1612333")?c=d.then(function(){a.$VideoPlayerController135()}):this.$VideoPlayerController135();return c};d.detachRootNode=function(){var a=this;if(!this.$VideoPlayerController70)return;b("DOM").remove(this.$VideoPlayerController70);if(this.isState("fallback")||this.isState("loading"))return;this.setState("loading");this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return a.$VideoPlayerController148()})};d.getVideoAPI=function(){this.$VideoPlayerController89||i(0,3695);return this.$VideoPlayerController89};d.getVideoNodeNullable=function(){return this.$VideoPlayerController94};d.getVideoNode=function(){var a=this.getVideoNodeNullable();return a};d.getRootNodeNullable=function(){return this.$VideoPlayerController70};d.getRootNode=function(){var a=this.getRootNodeNullable();return a};d.getContainerNodeNullable=function(){return this.$VideoPlayerController15};d.getContainerNode=function(){var a=this.getContainerNodeNullable();return a};d.getVideoResolution=function(){var a=this.getVideoNode();return{height:a.videoHeight,width:a.videoWidth}};d.$VideoPlayerController148=function(){this.setState("ready"),this.$VideoPlayerController51=!this.getVideoAPI().isMuted(),this.$VideoPlayerController85=!this.$VideoPlayerController3,this.getVideoAPI().setSubtitlesStyle&&this.getVideoAPI().setSubtitlesStyle(this.$VideoPlayerController75,this.$VideoPlayerController76,this.$VideoPlayerController77,this.$VideoPlayerController78),this.getVideoAPI().setAutogeneratedCaptionsOptions&&this.getVideoAPI().setAutogeneratedCaptionsOptions(this.$VideoPlayerController79),this.$VideoPlayerController65&&(this.sendPlayRequest(this.$VideoPlayerController65.reason),this.$VideoPlayerController65=null),this.$VideoPlayerController64&&(this.setDimensions(this.$VideoPlayerController64.width,this.$VideoPlayerController64.height),this.$VideoPlayerController64=null),this.$VideoPlayerController66&&(this.getVideoAPI().unmute(),this.$VideoPlayerController66=null)};d.onApiReady=function(){var a=this;this.$VideoPlayerController4&&(this.$VideoPlayerController4.id=this.$VideoPlayerController31,this.$VideoPlayerController4.customLiveManifestUrlParams=this.$VideoPlayerController19,this.$VideoPlayerController83&&(this.$VideoPlayerController4.fallbackSources=this.$VideoPlayerController83),this.$VideoPlayerController4.playerOrigin=this.$VideoPlayerController57,this.$VideoPlayerController4.playerSuborigin=this.$VideoPlayerController58,this.$VideoPlayerController4.getSource=function(){return a.getSource()},this.$VideoPlayerController4.shakaConfig=this.$VideoPlayerController14,this.$VideoPlayerController4.playerInstanceKey=this.$VideoPlayerController118,this.$VideoPlayerController121&&(this.$VideoPlayerController4.videoLiveTrace=this.$VideoPlayerController121));this.$VideoPlayerController89=new this.$VideoPlayerController5(this.getVideoNode(),this.$VideoPlayerController4);this.$VideoPlayerController149();this.getVideoAPI().setup();this.$VideoPlayerController148();var c={is_auto_played:this.isAutoplayable()};this.logEvent("player_loaded",c);this.$VideoPlayerController89&&this.$VideoPlayerController50.setABRQualityTracker(new(b("VideoPlayerABRQualityTracker"))(this.$VideoPlayerController89.getLocalEstimator()));c=this.getVideoProjection();c&&(this.$VideoPlayerController61=c);this.emit("apiReady")};d.getLocalEstimator=function(){if(this.$VideoPlayerController89)return this.$VideoPlayerController89.getLocalEstimator();else return null};d.runOnApiReady=function(a){a===void 0&&(a=function(){}),!this.isState("loading")?a():this.once("apiReady",a)};d.resetPositions=function(){this.$VideoPlayerController18=0};d.getCurrentTimePosition=function(){if(this.isState("playing")){var a=this.getVideoAPI().getCurrentTimePosition();a!=null&&a!==void 0&&(this.$VideoPlayerController18=a)}return this.$VideoPlayerController18};d.getBufferEndPosition=function(){if(this.isState("loading"))return 0;var a=this.getVideoAPI().getBufferEndPosition();return a!==null&&a!==void 0?a:this.getCurrentTimePosition()};d.$VideoPlayerController142=function(){if(!this.$VideoPlayerController9){b("VideoChannelViewChainLengthManager").registerChainingInfos(this.getVideoID(),this.$VideoPlayerController11);var a=this.getVideoID();if(this.$VideoPlayerController11){var c=this.$VideoPlayerController11.decode();a=c.root_id}this.$VideoPlayerController9=b("VideoChannelViewChainLengthManager").getLoggingData(a)}};d.$VideoPlayerController150=function(a){this.$VideoPlayerController133(!1);a=a.position;a!==void 0&&(this.$VideoPlayerController18=a);this.setState("playing");this.areHLSActive()&&this.$VideoPlayerController151();this.startHeartbeat();this.$VideoPlayerController20.startUnifiedCVC()};d.$VideoPlayerController152=function(a){var b=a.position;this.$VideoPlayerController121&&this.isState("playing")&&this.$VideoPlayerController121.onUpdateStatus(a);b!==void 0&&(this.$VideoPlayerController18=b);this.$VideoPlayerController17=this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID()};d.$VideoPlayerController153=function(a){return this.$VideoPlayerController101.has(a)};d.runOnceOnApiEventLogged=function(a,b){if(this.$VideoPlayerController153(a))b();else var c=this.addListener("apiEventLogged",function(d){d===a&&(b(),c.remove())})};d.$VideoPlayerController154=function(a){var b=a.event;this.$VideoPlayerController101.add(b);delete a.event;this.logEvent(b,a);this.emit("apiEventLogged",b)};d.$VideoPlayerController155=function(){this.isState("finished")||this.setState("paused"),this.stopHeartbeat(),this.$VideoPlayerController20.stopUnifiedCVC()};d.$VideoPlayerController156=function(a){a=a.position;a!==void 0&&(this.$VideoPlayerController18=a)};d.$VideoPlayerController157=function(){this.setState("finished"),this.$VideoPlayerController69=!1,this.stopHeartbeat(),this.$VideoPlayerController20.stopUnifiedCVC()};d.getVolume=function(){return this.getVideoAPI().getVolume()};d.$VideoPlayerController158=function(){this.$VideoPlayerController40=!1;var a=this.getContainerNode(),c=this.isFullscreen();b("CSS").conditionClass(a,"_1hwh",c);c?a.style.paddingBottom="0":(a.removeAttribute("data-fullscreen"),a.style.paddingBottom=this.$VideoPlayerController106);!c&&this.$VideoPlayerController28&&(this.$VideoPlayerController28.unsubscribe(),this.$VideoPlayerController28=null);if(this.$VideoPlayerController39!=c){this.logFullscreenChanged(c);this.$VideoPlayerController14.setContext("player_format",this.$VideoPlayerController131(c,this.$VideoPlayerController73)||"unknown");a=b("DOMDimensions").getElementDimensions(a);this.isPlayerVersion("silvercity")||this.setVideoPlayerAPIDimensions(a.width,a.height);this.emit("toggleFullscreen");!c?(this.addOffsetStylings(),b("Arbiter").inform("video_fullscreen_change",{})):this.removeOffsetStylings()}this.$VideoPlayerController39=c};d.$VideoPlayerController131=function(a,c){return a?"full_screen":c?b("VideoPlayerFormatsMap")[c]:"inline"};d.logFullscreenChanged=function(a){var c={player_format:this.$VideoPlayerController131(a,this.$VideoPlayerController73)};b("VideoPlayerHTML5Experiments").enteredExitedFsLoggingFix?this.logEvent(a?"entered_fs":"exited_fs",c):this.logEvent(a?"entered_fs":"exited_fs")};d.setVideoPlayerAPIDimensions=function(a,b){this.getVideoAPI().setDimensions&&this.getVideoAPI().setDimensions(a,b)};d.removeOffsetStylings=function(){var a=this.$VideoPlayerController108;if(a===null||a===void 0)return;this.$VideoPlayerController107===1?(this.getVideoNode().style.setProperty("left","0"),b("CSS").removeClass(this.getVideoNode(),"_blh")):this.$VideoPlayerController107===0&&(this.getVideoNode().style.setProperty("top","0"),b("CSS").removeClass(this.getVideoNode(),"_bli"))};d.addOffsetStylings=function(){var a=this.$VideoPlayerController108;if(a===null||a===void 0)return;this.$VideoPlayerController107===1?(this.getVideoNode().style.setProperty("left",a+"px"),b("CSS").addClass(this.getVideoNode(),"_blh")):this.$VideoPlayerController107===0&&(this.getVideoNode().style.setProperty("top",a+"px"),b("CSS").addClass(this.getVideoNode(),"_bli"))};d.hasDialog=function(){return this.$VideoPlayerController21>0};d.isTahoe=function(){return this.$VideoPlayerController73==="tahoe"};d.isFullscreen=function(){return this.$VideoPlayerController40||b("FullScreen").isFullScreen()&&this.$VideoPlayerController15===b("getFullScreenElement")()};d.toggleFullscreen=function(){var a=this.isFullscreen(),c=this.getContainerNode();b("FullScreen").toggleFullScreen(c)&&(a||(this.$VideoPlayerController40=!0,c.setAttribute("data-fullscreen","true")),b("CSS").addClass(c,"_1hwh"),this.$VideoPlayerController28=b("FullScreen").subscribe("changed",this.$VideoPlayerController158.bind(this)))};d.instreamVideoStart=function(){b("CSS").addClass(this.getContainerNode(),"_24pm")};d.instreamVideoEnd=function(){b("CSS").removeClass(this.getContainerNode(),"_24pm")};d.unmute=function(){if(!this.$VideoPlayerController34&&this.$VideoPlayerController32)return;!this.isState("loading")?(this.getVideoAPI().unmute(),b("VideoPlayerVolumeSettings").saveVolume(b("VideoPlayerVolumeSettings").getLastVolumeBeforeMute()),this.$VideoPlayerController85&&this.getVideoAPI().areSubtitlesActive()&&this.$VideoPlayerController159()):this.$VideoPlayerController66=!0};d.isAudioBlocked=function(){return this.$VideoPlayerController32};d.isMuted=function(){return this.$VideoPlayerController89?this.getVideoAPI().isMuted():this.$VideoPlayerController80};d.mute=function(){this.$VideoPlayerController85&&!this.getVideoAPI().areSubtitlesActive()&&this.$VideoPlayerController159(),this.getVideoAPI().mute(),b("VideoPlayerVolumeSettings").saveVolume(0)};d.getMediaID=function(){return this.getVideoID()};d.getPlaybackDuration=function(){return this.getVideoAPI().getPlaybackDuration()};d.getPlayerFormat=function(){return this.$VideoPlayerController131(this.isFullscreen(),this.$VideoPlayerController73)};d.getVideoID=function(){return this.$VideoPlayerController93};d.getVideoChannelID=function(){return this.$VideoPlayerController90};d.getVideoListID=function(){return this.$VideoPlayerController91};d.getVideoURL=function(){return this.$VideoPlayerController96};d.$VideoPlayerController149=function(){var a=this,c=this.getVideoAPI(),d=new(b("SubscriptionsHandler"))();this.$VideoPlayerController6=d;var e={buffered:function(){return a.setBuffering(!1)},buffering:function(){return a.setBuffering(!0)},bufferingProgress:function(b){return a.$VideoPlayerController160(b)},streamInterrupted:function(){return a.$VideoPlayerController50.startInterrupt()},streamResumed:function(){return a.$VideoPlayerController50.endInterrupt()},beginPlayback:function(b){return a.$VideoPlayerController150(b)},updateStatus:function(b){return a.$VideoPlayerController152(b)},logEvent:function(b){return a.$VideoPlayerController154(b.logData)},pausePlayback:function(){return a.$VideoPlayerController155()},seekEnd:function(b){return a.$VideoPlayerController156(b)},clickForTracking:function(){return b("logVideosClickTracking")(a.getVideoNode())},error:function(b){return a.logError(b)},finishPlayback:function(){return a.$VideoPlayerController157()},networkInterrupted:function(){return a.$VideoPlayerController161()},networkResumed:function(){return a.$VideoPlayerController162()},replicaSwitch:function(b){return a.switchReplicaSet(b)}};d.addSubscriptions.apply(d,Object.keys(e).map(function(a){return c.addListener(a,e[a])}));d.addSubscriptions.apply(d,b("VideoPlayerApiEvents").map(function(d){return b("forwardEvent")(c,a,d)}))};d.$VideoPlayerController147=function(){this.$VideoPlayerController6&&this.$VideoPlayerController6.release()};d.seek=function(a,b){this.emit("seekRequested",a,b),this.getVideoAPI().seek(a)};d.pause=function(a){this.isState("loading")?this.$VideoPlayerController65=null:this.isState("playing")?this.getVideoAPI().pause(a):this.$VideoPlayerController55&&this.getVideoAPI().pause(a),this.$VideoPlayerController133(!1),this.$VideoPlayerController69=!1,this.$VideoPlayerController163(a),this.emit("pauseRequested",a)};d.stopHeartbeat=function(){b("clearInterval")(this.$VideoPlayerController30),this.$VideoPlayerController30=null,this.$VideoPlayerController20.stopUnifiedCVC()};d.startHeartbeat=function(){if(this.$VideoPlayerController30||!b("VideoPlayerHTML5Experiments").heartbeatIntervalMS)return;this.$VideoPlayerController30=b("setInterval")(this.emitHeartbeat,b("VideoPlayerHTML5Experiments").heartbeatIntervalMS)};d.isPlayerVersion=function(a){return this.getPlayerVersion()===a||this.$VideoPlayerController105&&this.$VideoPlayerController164(a)===this.getPlayerVersion()};d.isHtml5Player=function(){return this.isPlayerVersion("pleasantville")||this.isPlayerVersion("oz")};d.isAutoplayable=function(){return this.$VideoPlayerController71};d.getImmediatePlayReason=function(){return this.$VideoPlayerController72};d.$VideoPlayerController165=function(){return b("ViewportTrackingHelper").isVisible(this.getVideoNode(),0)};d.$VideoPlayerController136=function(){var a=this;if(b("Visibility").isHidden()){var c=b("Visibility").once(b("Visibility").VISIBLE,function(){return a.$VideoPlayerController136()});b("VideoPlayerExperiments").unsubscribeImmediateplay&&this.$VideoPlayerController7.addSubscriptions(c)}else{if(!this.$VideoPlayerController165()&&this.$VideoPlayerController72!=="watch_time_not_logged"){b("FBLogger")("video").warn("immediateplay on a hidden video player: %s %s %s %s",this.getPlayerOrigin(),this.getPlayerSuborigin(),this.getSource(),b("ScriptPath").getScriptPath());if(this.$VideoPlayerController14.getBool("block_immediateplay_on_hidden_videos",!1))return}this.play("autoplay_initiated")}};d.isBuffering=function(){return this.$VideoPlayerController35};d.$VideoPlayerController166=function(){var a=Math.floor(Date.now()/1e3);this.$VideoPlayerController114=this.$VideoPlayerController114.filter(function(b){return b.time+3>a});this.$VideoPlayerController114.some(function(b){if(b.time===a){b.count+=1;return!0}return!1})||this.$VideoPlayerController114.push({time:a,count:1})};d.$VideoPlayerController167=function(){var a=Math.floor(Date.now()/1e3);return this.$VideoPlayerController114.reduce(function(b,c){return(c.time+3>a?c.count:0)+b},0)};d.$VideoPlayerController160=function(a){this.emit("bufferingProgress",a)};d.setBuffering=function(a){if(a!==this.$VideoPlayerController35){this.$VideoPlayerController35=a;if(this.$VideoPlayerController35){a=this.$VideoPlayerController14.getNumber("buffering_count_threshold",0);if(a){this.$VideoPlayerController166();if(this.$VideoPlayerController167()>=a){this.logError({error:"EXCEED_BUFFER_FREQUENCY_THRESHOLD",message:"video has entered buffering state "+a+" times in the last 3 seconds.",isPlayback:this.isPlayRequestPending()});return this.emit("error","EXCEED_BUFFER_FREQUENCY_THRESHOLD")}}this.$VideoPlayerController50.startBuffering(this.getCurrentTimePosition());this.$VideoPlayerController109&&(this.$VideoPlayerController168(),this.$VideoPlayerController103=b("setTimeout")(this.$VideoPlayerController169,this.$VideoPlayerController109));this.$VideoPlayerController170()}else this.$VideoPlayerController50.endBuffering(),this.$VideoPlayerController168(),this.isState("paused")&&this.$VideoPlayerController171();this.emit("bufferingChanged")}};d.setVideoStreamOffset=function(a){var b=this.getVideoAPI();typeof b.setVideoStreamOffset==="function"&&b.setVideoStreamOffset(a)};d.$VideoPlayerController168=function(){this.$VideoPlayerController103&&(b("clearTimeout")(this.$VideoPlayerController103),this.$VideoPlayerController103=null)};d.$VideoPlayerController171=function(){this.$VideoPlayerController14.getBool("allow_infinite_retry_on_net_err",!0)&&this.$VideoPlayerController14.getBool("allow_autoplay_on_resume_from_sleep",!0)&&this.$VideoPlayerController111&&this.play("network_resumed")};d.$VideoPlayerController170=function(){this.$VideoPlayerController14.getBool("allow_infinite_retry_on_net_err",!0)&&this.$VideoPlayerController35&&this.$VideoPlayerController110&&this.isState("playing")&&this.pause("network_interrupted")};d.$VideoPlayerController145=function(a){this.$VideoPlayerController111=!1};d.$VideoPlayerController163=function(a){a==="network_interrupted"?this.$VideoPlayerController111=!0:this.$VideoPlayerController111=!1};d.$VideoPlayerController161=function(){this.$VideoPlayerController110=!0,this.$VideoPlayerController170()};d.$VideoPlayerController162=function(){this.$VideoPlayerController110=!1,this.$VideoPlayerController171()};d.isLiveVideo=function(){return this.$VideoPlayerController42};d.isGaming=function(){return this.$VideoPlayerController43};d.isVideo=function(){return!0};d.isBroadcast=function(){return!!this.$VideoPlayerController33};d.isInline=function(){return!!this.$VideoPlayerController73&&b("VideoPlayerFormatsMap")[this.$VideoPlayerController73]==="inline"&&!this.isFullscreen()};d.isFacecastAudio=function(){return this.$VideoPlayerController37};d.isStreamInterrupted=function(){var a=this.$VideoPlayerController89;return!!(a&&a.isStreamInterrupted&&a.isStreamInterrupted())};d.setVolume=function(a){if(!this.$VideoPlayerController34&&this.$VideoPlayerController32)return;b("VideoPlayerVolumeSettings").saveVolume(a);this.getVideoAPI().setVolume(a)};d.getDOMPosition=function(){var a=this.getRootNodeNullable();return a?b("getElementPosition")(a):{x:0,y:0,width:0,height:0}};d.clickVideo=function(){this.emit("clickVideo"),this.$VideoPlayerController29=!0};d.mouseMove=function(a){this.emit("mouseMove",a)};d.mouseUp=function(a){this.emit("mouseUp",a)};d.mouseLeave=function(a){this.emit("mouseLeave",a)};d.hasSeenClick=function(){return!!this.$VideoPlayerController29};d.isAd=function(){return!!this.$VideoPlayerController2};d.shouldCalculateViewability=function(){if(this.isAd())return!0;var a=this.$VideoPlayerController50.getFTdata();if(a==null)return!1;a=a.ft;return a==null?!1:!!a.ei};d.isInstreamAd=function(){return!!this.$VideoPlayerController41};d.getAdClientToken=function(){return this.$VideoPlayerController2};d.getLastScrollDirection=function(){return this.getOption("VideoAutoplayControllerBase/VideoScrollTracker","getLastScrollDirection")||null};d.$VideoPlayerController172=function(){var a=this,c=null,d=null,e=!1,f=null,g=null,h=null,i=null,j=null;if(!this.isState("loading")&&!this.isState("fallback")){this.$VideoPlayerController17===null&&(this.$VideoPlayerController17=this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID());c=this.getVideoAPI().getEstimatedBandwidth();d=this.getVideoAPI().getAvailableVideoQualities().length;e=this.getVideoAPI().getIsAbrEnabled();f=this.getPlaybackDuration();j=this.getAudioStreamId();if(this.$VideoPlayerController14.getBool("log_player_dimensions",!1)){var k=this.getVideoAPI().getDimensionsForDevice();h=k&&k.height;g=k&&k.width}this.$VideoPlayerController14.getBool("log_connection_quality",!1)&&(i=b("VideoPlayerConnectionQuality").evaluate(function(){return a.getVideoAPI().getEstimatedBandwidth()}))}var l=babelHelpers["extends"]({},this.$VideoPlayerController84);this.$VideoPlayerController25.forEach(function(b,c){l[c]=b(c,a)});k={};this.getOption("SphericalVideoSpatialAudioController","hasSpatialAudio")&&(k.audio_ch_conf=this.getOption("SphericalVideoSpatialAudioController","getSpatialAudioChannelLayout"));var m=this.isLiveVideo()&&!!t&&t.getIsRewound(this.getVideoPlayerID());return babelHelpers["extends"]({ad_client_token:this.$VideoPlayerController2,available_qualities:d,access_token:this.$VideoPlayerController1,autoplay_eligible:this.isAutoplayable(),autoplay_setting:this.$VideoPlayerController8,broadcaster_origin:this.$VideoPlayerController102,projection:this.$VideoPlayerController61,player_version:this.getPlayerVersion(),flash_version:b("ifRequired")("Flash",function(a){return a.getVersionString()}),video_id:this.getVideoID(),permalink_share_id:this.$VideoPlayerController56,player_state:this.$VideoPlayerController74,player_origin:this.$VideoPlayerController57,player_suborigin:this.$VideoPlayerController58,player_suborigin_derived:this.$VideoPlayerController59,playback_is_broadcast:this.$VideoPlayerController33,player_instance_key:this.$VideoPlayerController118,playback_duration:f,referrer:document.referrer,streaming_format:this.getStreamingFormat(),video_time_position:this.getCurrentTimePosition(),video_buffer_end_position:b("gkx")("678893")?this.$VideoPlayerController89?this.getBufferEndPosition():0:this.getBufferEndPosition(),is_servable_via_fbms:this.$VideoPlayerController44,playback_is_live_streaming:this.$VideoPlayerController42,playback_is_drm:this.isDrm(),is_templated_manifest:this.isFBIsLiveTemplated()||this.isFBWasLive(),is_fbms:this.isFBMS(),is_predictive_playback:this.ispDASH(),is_live_video_rewound:m,last_scroll_direction:this.getLastScrollDirection(),video_channel_id:this.$VideoPlayerController90,video_list_id:this.$VideoPlayerController91,fb_manifest_identifier:this.getFbManifestIdentifier(),reaction_video_channel_type:this.$VideoPlayerController67,reaction_video_channel_subtype:this.$VideoPlayerController68,fbcdn_pop:this.$VideoPlayerController53,representation_id:this.$VideoPlayerController17,audio_representation_id:j,video_bandwidth:c,video_player_height:h,video_player_width:g,data_connection_quality:i,is_abr_enabled:e,position_in_unit:this.$VideoPlayerController119,feed_position:this.getDataInsertionPosition(),upstream_player_source:this.$VideoPlayerController87,should_log_video_viewability:this.$VideoPlayerController116,living_room_session_id:this.$VideoPlayerController117,detectionID:this.$VideoPlayerController120,is_ads_preview:this.$VideoPlayerController124,is_injected_ads:this.$VideoPlayerController125,is_chained_living_room:this.$VideoPlayerController127,is_replay_living_room:this.$VideoPlayerController129,live_linear_channel_id:this.$VideoPlayerController128},this.$VideoPlayerController92,this.$VideoPlayerController9,l,k,{iframe_embed_referrer:this.$VideoPlayerController130})};d.$VideoPlayerController143=function(){var a=this.getVideoInfo_DEPRECATED();if(!a)return null;a=a.resourceUrl;a=/scontent-([a-z]+)\./.exec(a);return!a?null:a[1]};d.getVideoInfo_DEPRECATED=function(){return this.isState("loading")||this.isState("fallback")?null:this.getVideoAPI().getVideoInfo()};d.getDebugInfo=function(){var a=this.getVideoInfo_DEPRECATED(),c={initializationTime:this.$VideoPlayerController62,initializationTimestamp:this.$VideoPlayerController63,version:this.getPlayerVersion(),stallCount:this.$VideoPlayerController50.getCumulativeStallCount(),stallTime:this.$VideoPlayerController50.getCumulativeStallTime(),inPlayStallCount:this.$VideoPlayerController50.getCumulativeInPlayStallCount(),inPlayStallTime:this.$VideoPlayerController50.getCumulativeInPlayStallTime(),interruptCount:this.$VideoPlayerController50.getCumulativeInterruptCount(),interruptTime:this.$VideoPlayerController50.getCumulativeInterruptTime(),state:this.$VideoPlayerController74,canPlayType:(m||(m=b("mapObject")))(b("VideoMimeTypes"),b("canVideoPlayType")),loggedError:this.$VideoPlayerController49,lastError:this.$VideoPlayerController46,droppedFrames:!!this.$VideoPlayerController89&&this.$VideoPlayerController89.getDroppedFrames(),totalFrames:!!this.$VideoPlayerController89&&this.$VideoPlayerController89.getTotalFrames(),videoSource:!!this.$VideoPlayerController89&&this.$VideoPlayerController89.getVideoNodeSource(),viewabilityPercentage:!!this.$VideoPlayerController98&&!(b("VideoPlayerExperiments").organicViewabilityLoggingNoOrganicLogging&&!this.isAd())&&this.$VideoPlayerController98.getViewability(),stack:void 0},d={videoID:this.getVideoID(),isDrm:this.$VideoPlayerController89&&this.$VideoPlayerController89.isDrm()};if(!a)return{player:c,currentVideo:d};var e=this.getVideoAPI().getDimensionsForDevice();return{currentVideo:babelHelpers["extends"]({},d,{streamType:a.streamType,isLiveStream:a.isLiveStream,liveManifestUrl:a.liveManifestUrl,isHD:a.isHD,hasHD:a.hasHD,resourceUrl:a.resourceUrl,hasSubtitles:a.hasSubtitles,hasRateLimit:!!a.hasUnlimitedSrc,isRateLimited:a.hasUnlimitedSrc&&!a.useUnlimitedSrc,tagHD:a.tagHD,tagSD:a.tagSD,projection:this.$VideoPlayerController61,streamId:this.$VideoPlayerController17,audioStreamId:this.getVideoAPI().getAudioStreamInfoIDDebug(),dashAudioFormat:this.getVideoAPI().getDashAudioConfiguration()}),player:babelHelpers["extends"]({},c,{dimensions:e})}};d.getLastError=function(){return this.$VideoPlayerController46};d.isAkamai=function(){var a=this.getVideoInfo_DEPRECATED();return a?a.liveManifestUrl&&a.liveManifestUrl.includes("akamaihd"):!1};d.getLoggedError=function(){return this.$VideoPlayerController49};d.getTotalFrames=function(){return this.$VideoPlayerController89?this.$VideoPlayerController89.getTotalFrames():0};d.getDroppedFrames=function(){return this.$VideoPlayerController89?this.$VideoPlayerController89.getDroppedFrames():0};d.getInterruptCount=function(){return this.$VideoPlayerController50.getCumulativeInterruptCount()};d.getInterruptTime=function(){return this.$VideoPlayerController50.getCumulativeInterruptTime()};d.getVideoStreamId=function(){return this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID()};d.getAudioStreamId=function(){return this.getVideoAPI().getCurrentlyPlayingAudioStreamInfoID()||this.getVideoAPI().getAudioStreamInfoIDDebug()};d.getVideoTracks=function(){return this.getVideoAPI().getVideoTracksDebug()};d.getAudioDashFormat=function(){return this.getVideoAPI().getDashAudioConfigurationDebug()};d.getCumulativeStallCount=function(){return this.$VideoPlayerController50.getCumulativeStallCount()};d.getCumulativeStallTime=function(){return this.$VideoPlayerController50.getCumulativeStallTime()};d.getStallCount=function(){return this.$VideoPlayerController50.getStallCount()};d.getStreamType=function(){var a=this.getVideoInfo_DEPRECATED();return a?a.streamType:"n/a"};d.hasSubtitles=function(){return this.getVideoAPI().hasSubtitles()};d.getVideoState=function(){return this.$VideoPlayerController74};d.areSubtitlesActive=function(){return this.getVideoAPI().areSubtitlesActive()};d.areSubtitlesAutogenerated=function(){return this.getVideoAPI().areSubtitlesAutogenerated()};d.areHLSActive=function(){return this.getVideoAPI().areHLSActive()};d.toggleSubtitles=function(){this.$VideoPlayerController159(),this.logEvent("caption_change"),this.$VideoPlayerController85=!1};d.$VideoPlayerController159=function(){this.getVideoAPI().toggleSubtitles(),this.$VideoPlayerController146()};d.$VideoPlayerController146=function(){this.hasSubtitles()&&this.areSubtitlesActive()?this.$VideoPlayerController10="on":this.$VideoPlayerController10="off"};d.isHD=function(){return s(this.getAvailableVideoQualities(),this.getSelectedVideoQuality())};d.hasHD=function(){var a=q(this.getAvailableVideoQualities());return a!=null};d.toggleHD=function(){var a=r(this.getAvailableVideoQualities(),this.getSelectedVideoQuality());a!=null&&this.setPreferredVideoQuality(a)};d.setPreferredVideoQuality=function(a){this.getVideoAPI().setPreferredVideoQuality(a)};d.unsetPreferredVideoQuality=function(){this.getVideoAPI().unsetPreferredVideoQuality()};d.getPreferredVideoQuality=function(){var a;return(a=this.getVideoAPI().getPreferredVideoQuality())!=null?a:null};d.getSelectedVideoQuality=function(){var a;return(a=this.getVideoAPI().getSelectedVideoQuality())!=null?a:null};d.getAvailableVideoQualities=function(){return this.getVideoAPI().getAvailableVideoQualities()};d.getVideoProjection=function(){return this.getVideoAPI().getVideoProjection()};d.canAutoSelectVideoQuality=function(){return this.getVideoAPI().canAutoSelectVideoQuality()};d.switchToStreamType=function(a){this.getVideoAPI().switchToStreamType(a)};d.$VideoPlayerController151=function(){this.getVideoAPI().replaceVideoDataFromURL(b("XVideoDataController").getURIBuilder().setString("video_id",this.getVideoID()).setInt("scrubbing_preference",u).setString("source",this.$VideoPlayerController73).getURI().toString())};d.$VideoPlayerController144=function(a){var b=this.getVideoInfo_DEPRECATED();return b!=null?Object.assign({resource_url:b.resourceUrl,liveStream:b.isLiveStream,hd:b.isHD},a):a};d.$VideoPlayerController173=function(){var a=this.getDOMPosition(),c=b("getViewportDimensions")().height,d;a.y<=0?d=a.y:a.y+a.height<c?d=0:d=a.y+a.height-c;return d};d.logEvent=function(a,c){if(a==="displayed"&&b("gkx")("1218754"))return void 0;if(a==="player_loaded"&&b("gkx")("1218755"))return void 0;this.$VideoPlayerController48++;if(this.$VideoPlayerController100)return void 0;this.$VideoPlayerController123.emit(a);var d=this.$VideoPlayerController14.getNumber("logging_log_event_limit",0);d&&this.$VideoPlayerController48>d&&(this.$VideoPlayerController100=!0);d=++this.$VideoPlayerController26;c=Object.assign(this.$VideoPlayerController172(),c);var e=this.getOriginalPlayReason();e&&a!=="displayed"&&(c.video_play_reason=e);a==="finished_playing"&&(c.viewport_distance=this.$VideoPlayerController173());(a==="muted"||a==="unmuted"||a==="started_playing"||a==="caption_change"||a==="unpaused")&&(c.caption_state=this.$VideoPlayerController10);this.$VideoPlayerController97&&!(b("VideoPlayerExperiments").organicViewabilityLoggingNoOrganicLogging&&!this.isAd())&&b("VideoViewabilityKeyEvents").Events.includes(a)&&(c.current_viewability_percentage=this.$VideoPlayerController98.getViewability(),this.$VideoPlayerController98.setLastLoggedViewability(c.current_viewability_percentage));c.event_seq_num=d;this.$VideoPlayerController81.has(a)&&(b("VideoPlayerExperiments").logSBLVpts&&(c.vpts=(j||(j=b("performanceAbsoluteNow")))()),c.seq_num=++this.$VideoPlayerController82);a==="played_for_three_seconds"&&(c.detection_id=this.$VideoPlayerController120,this.emit("videoView/runFraudDetector"));if(a==="requested_playing"&&this.$VideoPlayerController121){e=this.$VideoPlayerController121.getLiveTraceContext();c.live_trace_stream_id=e.streamId;c.live_trace_stream_type=e.streamType;c.live_trace_source_id=e.sourceId}d=b("SRTVideoData").getInstance();d!=null&&d.getJobID()&&(c.srt_job_id=d.getJobID(),c.srt_job_tracking_id=d.getJobTrackingID());e=this.$VideoPlayerController50.logEvent(a,c);this.emit("debug/vpcLogEvent",e);return e};d.getState=function(){return this.$VideoPlayerController74};d.getStreamingFormat=function(){var a=this.getVideoInfo_DEPRECATED()||{};return a.streamType||this.$VideoPlayerController45};d.setPlaybackRate=function(a){this.getVideoAPI().setPlaybackRate&&this.getVideoAPI().setPlaybackRate(a)};d.getPlaybackRate=function(){return this.getVideoAPI().getPlaybackRate?this.getVideoAPI().getPlaybackRate():1};d.setState=function(a){if(this.isState("destroyed")||this.isState("fallback")&&!this.isFallbackRecoverable())return;this.$VideoPlayerController74=a;this.$VideoPlayerController74==="fallback"&&(b("CSS").addClass(this.getRootNode(),"_3-n5"),this.$VideoPlayerController147());this.emit("stateChange")};d.isState=function(a){return this.$VideoPlayerController74===a};d.isIntentionallyViewing=function(){return this.isState("playing")&&!this.isMuted()};d.abortLoading=function(a){if(this.isState("loading")||this.isState("fallback"))return;b("VideoPlayerExperiments").seekZeroWhenAbortLoadingFinishedVideos&&!(b("VideoPlayerExperiments").seekZeroOnlyVodVideo&&this.$VideoPlayerController42)&&this.isState("finished")&&this.seek(0);this.getVideoAPI().abortLoading(a||{});this.stopHeartbeat();this.$VideoPlayerController20.stopUnifiedCVC()};d.preload=function(){if(this.isState("loading")||this.isState("fallback"))return;this.getVideoAPI().preload()};d.getPlayerVersion=function(){var a;this.$VideoPlayerController89&&(a=this.getVideoAPI());var b=a&&a.getUpdatedPlayerVersion?a.getUpdatedPlayerVersion.bind(a):this.$VideoPlayerController5.getPlayerVersion;b=b?b():this.$VideoPlayerController60;return this.$VideoPlayerController105?this.$VideoPlayerController164(b):b};d.$VideoPlayerController164=function(a){switch(a){case"silvercity":return"react_silvercity";case"pleasantville":return"react_pleasantville";case"oz":return"react_oz";default:return"react"}};d.registerOption=function(a,b,c,d){var e=this.$VideoPlayerController13.get(a);e||(e=new Map(),this.$VideoPlayerController13.set(a,e));if(e.has(b))throw new Error("An option can only be registered once for each component");e.set(b,{getter:c,setter:d});this.emit("optionsChange")};d.unregisterOption=function(a,b){var c=this.$VideoPlayerController13.get(a);if(!c)throw new Error('The component "'+a+'" has no options registered');if(!c.has(b))throw new Error('The component "'+a+'" has no option "'+b+'" registered');c["delete"](b);c.size||this.$VideoPlayerController13["delete"](a);this.emit("optionsChange")};d.getComponents=function(){return this.$VideoPlayerController13.keys()};d.getOptions=function(a){a=this.$VideoPlayerController13.get(a);return a?a.keys():b("enumerate")([])};d.hasOption=function(a,b){a=this.$VideoPlayerController13.get(a);return!!a&&a.has(b)};d.getOption=function(a,b){a=this.$VideoPlayerController13.get(a);if(!a)return void 0;a=a.get(b);return!a?void 0:a.getter()};d.setOption=function(a,b,c){a=this.$VideoPlayerController13.get(a);if(!a)throw new Error("Component not registered");a=a.get(b);if(!a)throw new Error("Option not registered");b=a.setter;if(b)return b(c);throw new Error("Read-only option")};d.showDebugOverlayView=function(a){this.emit("showDebugOverlay",a)};d.$VideoPlayerController137=function(){var a=b("DOMQuery").scry(this.$VideoPlayerController70,"^._5pat");return a.length?a[0]:null};d.registerDrawer=function(a,b){return this.$VideoPlayerController24.register(a,b)};d.getVideoPath=function(){return this.$VideoPlayerController95};d.setAllowCrossPageTransition=function(a){this.$VideoPlayerController104=a};d.cleanOnLeave=function(){this.pause("unloaded"),this.destroy()};d.switchReplicaSet=function(a){var b=this.isState("playing");this.getVideoAPI().switchReplicaSet(a.replica,{url:a.url,status:a.status,timestamp:a.timestamp});b&&this.play("autoplay_initiated")};d.switchToFullVideo=function(){var a=this;this.pause("unloaded");this.getVideoAPI().reloadDashManifest().done(function(){a.play(new(b("VideoPlayerReasonTransitionHelper"))("user_initiated")),a.emit("switchedToFullVideo")})};d.$VideoPlayerController138=function(){return this.getIsInChannel()||this.$VideoPlayerController73==="living_room"||this.$VideoPlayerController73==="topic_channel_living_room"||this.$VideoPlayerController57==="intern_curation"||this.$VideoPlayerController57==="games_video_hub"};d.getDashAudioConfiguration=function(){return this.getVideoAPI().getDashAudioConfiguration()};d.setEnableLiveheadCatchup=function(a){var b=this.getVideoAPI();b&&b.setEnableLiveheadCatchup(a)};d.isFBWasLive=function(){var a=this.$VideoPlayerController89&&this.getVideoAPI();return!!(a&&a.isFBWasLive())};d.isFBIsLiveTemplated=function(){var a=this.$VideoPlayerController89&&this.getVideoAPI();return!!(a&&a.isFBIsLiveTemplated())};d.getFbManifestIdentifier=function(){var a=this.$VideoPlayerController89&&this.getVideoAPI();return a?a.getFbManifestIdentifier():""};d.isDrm=function(){var a=this.$VideoPlayerController89&&this.getVideoAPI();return a&&a.isDrm()};d.isFBMS=function(){var a=this.$VideoPlayerController89&&this.getVideoAPI();return!!(a&&a.isFBMS())};d.ispDASH=function(){var a=this.$VideoPlayerController89&&this.getVideoAPI();return!!(a&&a.ispDASH())};d.isLiveheadCatchupEnabled=function(){var a=this.getVideoAPI();return a?a.isLiveheadCatchupEnabled():!1};d.getBandwidthEstimate=function(){var a=this.getVideoAPI();return a?a.getBandwidthEstimate():null};d.getSeekableRanges=function(){var a=this.getVideoAPI();return a?a.getSeekableRanges():null};d.isBroadcaster=function(){return this.$VideoPlayerController34||!1};d.isWatchAndScroll=function(){return this.$VideoPlayerController73==="watch_scroll"};d.$VideoPlayerController139=function(a,c){var d=b("CurrentUser").getAccountID();d=d+"_0_"+this.$VideoPlayerController93+"_"+c+"_"+a+"_secret_www";d=b("SparkMD5").hash(d);c={input:{video_id:this.$VideoPlayerController93,timestamp:c,live_copyright_action:a,signature:d}};a=b("WebGraphQL").exec(new(b("LiveVideoCopyrightActionQueryWebGraphQLQuery"))(c));b("promiseDone")(a,function(a){},function(a){})};return c}(b("MediaController"));e.exports=a}),null);
__d("LiveVideoPlayerDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!0})}),null);
__d("OzActiveActiveFailoverNetworkRequestStreamHandler",["oz-player/networks/createNetworkError"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.onResponse=function(a,c){var d=a.headers;a=a.status;if(d&&d.has("x-fb-video-replica")){a=b("oz-player/networks/createNetworkError")(new Error("Replica switch requested via HTTP headers"),a,d,c,"HTTP error.");throw a}return null};c.onError=function(a,b){return null};return a}();e.exports=a}),null);
__d("oz-player/drm/OzDrmManager",["oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzOperationLoggerBase","oz-player/shims/OzDOMEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/drm/OzDrmUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/shims/OzDOMEventListener").listenDOMEvent,i=b("oz-player/drm/OzDrmUtils").base64ToUint8Array;a=function(){function a(a,c){var d=this;this.$1=new Map();this.$3=!1;this.$5=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$6=new(b("oz-player/utils/OzErrorEmitter"))();this.$7=!1;this.$8=null;this.$9=function(a){var c=a;a instanceof b("oz-player/utils/OzError")||(c=new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:a.message,extra:{originalError:a}}));d.$6.emitError(c)};this.$4=c;this.$2=a.cloneContext().setType("drm_manager")}var c=a.prototype;c.hasContentProtections=function(){return this.$8};c.onError=function(a){return this.$6.onError(a)};c.addProvider=function(a){this.$1.set(a.getSchemeId(),a)};c.getProviderForSchemeId=function(a){return this.$1.get(a)};c.parseContentProtectionForRepresentation=function(a){if(!a.ContentProtection)return null;var b=[];for(var c=0;c<a.ContentProtection.length;c++){var d=a.ContentProtection[c],e=d.$.schemeIdUri;e=this.getProviderForSchemeId(e);if(e){var f=e.getInitDatas();if(f.length==0&&d["cenc:pssh"]&&d["cenc:pssh"].length===1){d=d["cenc:pssh"][0]._;d=i(d.replace(/-/g,"+").replace(/_/g,"/"));f=[{data:d,type:"cenc"}];e.setInitDatas(f)}b.push({provider:e,initDatas:f})}}return b};c.startEME=function(a,b,c,d){var e=this;if(this.$7)return;this.$7=!0;var f=new Map();this.$10(c,d,f,"audio");this.$10(a,b,f,"video");var g;f.forEach(function(a,b){!g?g=e.$11(b,a):g=g["catch"](function(){return e.$11(b,a)})});if(!g){this.$8=!1;return}this.$8=!0;var h=this.$2.getOperationLogger("drm_setup").start();g.then(this.$12.bind(this)).then(this.$13.bind(this)).then(this.$14.bind(this)).then(function(){return h.log()},function(a){e.$9(a),h.setResult("failed").setError(a).log()})};c.$15=function(a){a instanceof b("oz-player/loggings/OzOperationLoggerBase")&&a.getError()&&a.setResult("failed")};c.$10=function(a,b,c,d){var e=this;b.forEach(function(b){var f;a&&a.ContentProtection?f=e.parseContentProtectionForRepresentation(a):f=b.getCustomField("drmProtections");var g=b.getMimeCodecs();f!==void 0&&f!==null&&f.forEach(function(a){a=a.provider;c.has(a.getKeySystem())||c.set(a.getKeySystem(),{audioCapabilities:new Map(),videoCapabilities:new Map(),distinctiveIdentifier:a.getRequireDistinctiveIdentifier(),persistentState:a.getRequirePersistentState(),sessionTypes:a.getDrmSessionTypes(),initDataTypes:a.getInitDataTypes()});var b=c.get(a.getKeySystem());d==="audio"&&!b.audioCapabilities.has(g)&&b.audioCapabilities.set(g,{contentType:g,robustness:a.getAudioRobustness()});d==="video"&&!b.videoCapabilities.has(g)&&b.videoCapabilities.set(g,{contentType:g,robustness:a.getVideoRobustness()})})})};c.destroy=function(){this.$5.release(),this.$3=!0};c.$11=function(a,b){b={audioCapabilities:Array.from(b.audioCapabilities.values()),videoCapabilities:Array.from(b.videoCapabilities.values()),distinctiveIdentifier:b.distinctiveIdentifier,persistentState:b.persistentState,sessionTypes:b.sessionTypes,initDataTypes:b.initDataTypes};return g(window.navigator.requestMediaKeySystemAccess(a,[b]),this.$2,"drm_request_media_key_system_access",function(){},this.$15)};c.$12=function(a){if(this.$3)return b("oz-player/shims/OzMaybeNativePromise").reject();var c=this.$4.mediaKeys!=null?b("oz-player/shims/OzMaybeNativePromise").resolve(this.$4.mediaKeys):a.createMediaKeys();return g(c.then(function(b){return{mediaKeySystemAccess:a,mediaKeys:b}}),this.$2,"drm_create_media_keys",function(){},this.$15)};c.$13=function(a){var c=this;if(this.$3)return b("oz-player/shims/OzMaybeNativePromise").reject();var d=a.mediaKeySystemAccess,e=a.mediaKeys;if(!e)throw new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"No mediaKeys for mediaKeySystemAccess"});a=this.$4.setMediaKeys(e).then(function(){if(c.$3)return b("oz-player/shims/OzMaybeNativePromise").reject();var a=Array.from(c.$1.values()).find(function(a){return a.getKeySystem()===d.keySystem});if(!a)throw new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"Can't find OzDrmProvider for keySystem "+d.keySystem});var f=a.getServerCertificate();return f?e.setServerCertificate(f).then(function(){return{mediaKeySystemAccess:d,mediaKeys:e,provider:a}}):{mediaKeys:e,provider:a}});return g(a,this.$2,"drm_set_media_keys",function(){},this.$15)};c.$14=function(a){var c=this,d=a.mediaKeys,e=a.provider;a=e.getInitDatas();if(a.length===0){this.$5.addSubscriptions(h(this.$4,"encrypted",function(a){c.$16(d,e,a)["catch"](c.$9)}));return b("oz-player/shims/OzMaybeNativePromise").resolve([])}a=a.map(function(a){return c.$16(d,e,{initData:a.data,initDataType:a.type})});return g(b("oz-player/shims/OzMaybeNativePromise").all(a),this.$2,"drm_request_license",function(){},this.$15)};c.$16=function(a,b,c){var d=this,e=a.createSession();this.$5.addSubscriptions(h(e,"message",function(a){d.$17(e,b,a)["catch"](d.$9)}),h(e,"keystatuseschange",function(a){d.$18(e)["catch"](d.$9)}));return e.generateRequest(c.initDataType,c.initData)};c.$17=function(a,b,c){var d=this;c=b.getLicenseRequestInfo(c.message.slice(0));return window.fetch(c.url,c).then(function(a){return a.arrayBuffer()}).then(function(c){c=new Uint8Array(c);c=b.parseLicenseResponse(c);c===null||c===void 0||c.byteLength===0?d.$9(new Error("No license for "+b.getKeySystem())):a.update(c)})};c.$18=function(a){return a.expiration<Date.now()?a.close():b("oz-player/shims/OzMaybeNativePromise").resolve()};return a}();e.exports={OzDrmManager:a}}),null);
__d("oz-player/loggings/OzDevConsolePerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f){"use strict";function g(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).debug.apply(a,["[oz]"].concat(c))}function h(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).error.apply(a,["[oz]"].concat(c))}function i(a,b){return Math.floor(a).toString().padStart(b,"0")}function j(a,b){b===void 0&&(b=null);var c=function(a){return i(a.getHours(),2)+":"+i(a.getMinutes(),2)+":"+i(a.getSeconds(),2)+" "+i(a.getMilliseconds(),3)},d=b?b-a:0;return"["+c(a)+(b?" - "+c(b):"")+" ("+d+" ms)]"}function k(a){return a==="failed"?h:g}function l(a){return!a?null:a.toFixed(2)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.createOperationLogger=function(a){return new m(a)};c.createLoggerProvider=function(){return new b()};return b}(b("oz-player/loggings/OzPerfLoggerProviderBase"));var m=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.log=function(){b.prototype.log.call(this);var a=this.getClientTimeBegin()||0,c=this.getClientTimeEnd();c=c?new Date(c):null;var d=this.getResult()||"success",e=this.getType(),f=this.getInitiator(),g=this.getResource(),h=l(this.getSegmentStartTime()),i=l(this.getSegmentEndTime());k(d)("["+d+"]",this.getOperationName()+": "+j(new Date(a),c),e?"["+e+"]":"",h&&i?"[segment time range: "+h+" - "+i+"]":"",f||"",g||"")};return a}(b("oz-player/loggings/OzOperationLoggerBase"));e.exports={OzDevConsolePerfLoggerProvider:a,OzDevConsoleOperationLogger:m}}),null);
__d("oz-player/loggings/OzOperationLoggerObserver",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new(b("oz-player/shims/OzSubscriptionsHandler"))()}var c=a.prototype;c.observe=function(a,b){var c;a=a.map(function(a){var c=a.setOperationLoggedListener(function(a){b.getOperationLogger(a.getOperationName()).setClientTimeBegin(a.getClientTimeBegin()||0).setClientTimeEnd(a.getClientTimeEnd()||0).setLength(a.getLength()).setResult(a.getResult()||"success").setInitiator(a.getInitiator()).setType(a.getType()).log()});a.activate();return c});(c=this.$1).addSubscriptions.apply(c,a)};c.destroy=function(){this.$1.release()};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzRepresentation",["oz-player/shims/ozvariant","oz-player/utils/OzError"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e,f,g,h){this.$1=a,this.$6=b,this.$2=c,this.$3=d,this.$4=e,this.$5=f,this.$7=g,this.$8=h}var c=a.prototype;c.getID=function(){return this.$6};c.getBandwidth=function(){return this.$5};c.getMimeCodecs=function(){return this.$2};c.getQualityLabel=function(){return this.$6};c.getInitSegment=function(){return this.$3};c.getCustomFieldFirstSegment=function(){return this.$7};c.getCustomField=function(a){if(this.$8==null||!this.$8[a])throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Custom field "+a+" is not specified by caller",extra:{code:"OZ_RP-8"}});a=this.$8[a];try{return a(this.$1)}catch(a){return null}};c.updateWith=function(c){c instanceof a||b("oz-player/shims/ozvariant")(0,229),this.$4.updateWith(c.$4)};c.getSegmentByTime=function(a){return this.$4.getSegmentByTime(a)};c.getSegment=function(a){return this.$4.getSegment(a)};c.getPredictedSegmentAfter=function(a){return this.$4.getPredictedSegmentAfter(a)};c.canPredict=function(){return this.$4.canPredict()};c.getSegmentAfter=function(a){return this.$4.getSegmentAfter(a)};c.isEndingSegment=function(a){return this.$4.isEndingSegment(a)};c.addUpdateListener=function(a){return this.$4.addUpdateListener(a)};c.getTimeRanges=function(){return this.$4.getTimeRanges()};c.blockTimeRange=function(a){this.$4.blockTimeRange(a)};c.getEndingSegment=function(){return this.$4.getEndingSegment()};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzVideoRepresentation",["oz-player/manifests/OzRepresentation"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){c=a.call(this,b,c,d,e,f,g,h,i)||this;c.$OzVideoRepresentation5=null;c.$OzVideoRepresentation1=j;c.$OzVideoRepresentation2=k;c.$OzVideoRepresentation4=i;c.$OzVideoRepresentation3=b;return c}var c=b.prototype;c.getWidth=function(){return this.$OzVideoRepresentation1};c.getHeight=function(){return this.$OzVideoRepresentation2};c.getQualityLabel=function(){if(this.$OzVideoRepresentation5!==null&&this.$OzVideoRepresentation5!==void 0)return this.$OzVideoRepresentation5;var a=this.$OzVideoRepresentation4?this.$OzVideoRepresentation4.qualityLabel:null;a&&(this.$OzVideoRepresentation5=a(this.$OzVideoRepresentation3));(this.$OzVideoRepresentation5==null||this.$OzVideoRepresentation5=="")&&(this.$OzVideoRepresentation5=this.getHeight().toString()+"p");return this.$OzVideoRepresentation5||""};return b}(b("oz-player/manifests/OzRepresentation"));e.exports=a}),null);
__d("oz-player/media_source/OzMediaSeekableRangeManager",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c){var d=this;this.$5=function(){var a=d.$2;if(!a)return;a=a.getTimeRanges();if(!a.length)return;a=a[a.length-1];var b=d.$1.getMediaSource();d.$4.getBool("update_media_source_duration")&&(b.duration===Infinity||b.duration<a.endTime||isNaN(b.duration))&&d.$1.updateDuration(a.endTime)};this.$1=a;this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$4=c;this.$5()}var c=a.prototype;c.setTimeRangeProvider=function(a){this.$3.release(),this.$3.engage(),this.$3.addSubscriptions(a.addUpdateListener(this.$5)),this.$2=a};c.listenToMediaStreamInitAppended=function(a){var b=this;return a.addListener("initAppended",function(){if(b.$4.getBool("update_duration_when_init_appended")){var a=b.$1.getMediaSource();(a.duration===Infinity||isNaN(a.duration))&&b.$5()}})};c.destroy=function(){this.$3.release()};return a}();e.exports=a}),null);
__d("oz-player/networks/OzCreateErrorStream",["oz-player/shims/OzReadableStream"],(function(a,b,c,d,e,f){"use strict";function a(a){return new(b("oz-player/shims/OzReadableStream"))({pull:function(b){b.error(a)}})}e.exports=a}),null);
__d("oz-player/utils/arrayBuffer2OzReadableStream",["oz-player/shims/OzReadableStream"],(function(a,b,c,d,e,f){"use strict";function a(a){return new(b("oz-player/shims/OzReadableStream"))({start:function(b){var c=new Uint8Array(a);b.enqueue(c);b.close()}})}e.exports=a}),null);
__d("oz-player/utils/maybeConvertReadableStreamToOzReadableStream",["regeneratorRuntime","oz-player/shims/OzReadableStream"],(function(a,b,c,d,e,f){"use strict";a=function(a){if(!b("oz-player/shims/OzReadableStream").isPolyfilled)return a;var c=a.getReader();return new(b("oz-player/shims/OzReadableStream"))({start:function(a){var d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=3;return b("regeneratorRuntime").awrap(c.read());case 3:d=g.sent;e=d.done;f=d.value;if(!e){g.next=8;break}return g.abrupt("break",11);case 8:a.enqueue(f);g.next=0;break;case 11:a.close();case 12:case"end":return g.stop()}},null,this)}})};e.exports=a}),null);
__d("oz-player/networks/OzFetch",["oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/maybeConvertReadableStreamToOzReadableStream"],(function(a,b,c,d,e,f){"use strict";var g=window.fetch,h=b("oz-player/shims/ozSetTimeoutAcrossTransitions");function a(a,c,d){if(!g)throw new Error("fetch api is missing");var e=null;if("AbortController"in window&&d&&d.networkTimeoutMs!=null&&d.networkTimeoutMs!=0){var f=new AbortController();e=h(function(){return f.abort()},d.networkTimeoutMs);c.signal=f.signal}d=g(a,c).then(function(a){b("oz-player/shims/ozClearTimeout")(e);var c={status:a.status,headers:a.headers,ok:a.ok,body:void 0};if(a.body){c.body=b("oz-player/utils/maybeConvertReadableStreamToOzReadableStream")(a.body);return c}return a.arrayBuffer().then(function(a){c.body=b("oz-player/utils/arrayBuffer2OzReadableStream")(a);return c})});return d}e.exports=a}),null);
__d("oz-player/networks/OzFetchWithCache",["oz-player/networks/OzFetch","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/maybeConvertReadableStreamToOzReadableStream"],(function(a,b,c,d,e,f){"use strict";b("oz-player/shims/ozSetTimeoutAcrossTransitions");function a(a,c,d,e,f,g,h,i){e===void 0&&(e=null);g===void 0&&(g=null);i===void 0&&(i="DISABLE_CACHE");if(!fetch)throw new Error("fetch api is missing");var j=e!=null?e:b("oz-player/networks/OzFetch");e=a.getBool("use_segment_request_cache")&&i==="ENABLE_CACHE"?h.get(c):null;g=g?g.getCacheValue(c):null;e=e!=null?e:g;g=!1;e?(i==="ENABLE_CACHE"&&h.set(c,e),g=!0,i=e.then(function(a){a=b("oz-player/utils/arrayBuffer2OzReadableStream")(a.response);return{body:a,status:200,headers:null,ok:!0}})["catch"](function(b){if(a.getBool("retry_fetch_on_prefetch_error"))return j(c,d);else throw new TypeError()})):i=j(c,d,f);return{promise:i,retrievedFromCache:g}}e.exports=a}),null);
__d("oz-player/networks/OzNetworkRequestStream",["oz-player/shims/ozvariant","oz-player/networks/createNetworkError","oz-player/networks/OzCreateErrorStream","oz-player/networks/OzFetchWithCache","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e,f,g,h,i){e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),i===void 0&&(i="DISABLE_CACHE"),this.$6=!1,this.$1=b,this.$2=c,this.$3=d,this.$8=e||[],this.$7=f,this.$9=g,this.$11=a,this.$10=h,this.$12=i}var c=a.prototype;c.startStream=function(a){var c=this;a=this.$3.createRequestParam(this.$1,a);var d=a.uri;a=a.http;var e=d.toString();this.$4=e;d=b("oz-player/networks/OzFetchWithCache")(this.$11,e,a,this.$7,this.$2,this.$9,this.$10,this.$12);a=d.promise;d=d.retrievedFromCache;this.$6=d;return a.then(function(a){var d=[];for(var f=0;f<c.$8.length;f++)try{var g=c.$8[f].onResponse(a,e);g&&d.push(g)}catch(a){return b("oz-player/networks/OzCreateErrorStream")(a)}g=a.body;f=a.headers;var h=a.ok,i=a.status;if(!h)return b("oz-player/networks/OzCreateErrorStream")(b("oz-player/networks/createNetworkError")(new Error("HTTP status not OK"),i,f,e,"HTTP error."));g.getReader||b("oz-player/shims/ozvariant")(0,3287);h=g;c.$5=a;for(var i=0;i<d.length;i++)h=h.pipeThrough(d[i]);if(!c.$11.getBool("throw_network_error_during_stream"))return h;f=new(b("oz-player/networks/OzTransformStream"))({errorTransform:function(a){return a instanceof TypeError?b("oz-player/networks/createNetworkError")(a,0,null,e,"Network failure."):a}});return h.pipeThrough(f)},function(a){var d=[];for(var f=0;f<c.$8.length;f++)try{var g=c.$8[f].onError(a,e);g&&d.push(g)}catch(a){return b("oz-player/networks/OzCreateErrorStream")(a)}if(a instanceof TypeError){g=b("oz-player/networks/OzCreateErrorStream")(b("oz-player/networks/createNetworkError")(a,0,null,e,"Network failure."));for(var f=0;f<d.length;f++)g=g.pipeThrough(d[f]);return g}throw a})["catch"](function(a){return a.name==="AbortError"?b("oz-player/networks/OzCreateErrorStream")({type:a.name,status:a.code,url:e,message:a}):b("oz-player/networks/OzCreateErrorStream")({type:"stream_processing",status:0,url:e,message:"Stream processing error. "+a})})};c.getLastRequestUrl=function(){return this.$4};c.getLastResponse=function(){return this.$5};c.retrievedFromCache=function(){return this.$6};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzByteRange",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.startByte===b.startByte}function b(a,b){return b.endByte===null?!1:a.startByte===b.endByte+1}function c(a,b){return a.startByte<b.startByte?!1:b.endByte==null||b.endByte>=a.startByte}function d(a,b){a=a;b=b;if(b.startByte<a.startByte){var c=a;a=b;b=c}if(a.endByte==null)return{startByte:a.startByte,endByte:null};if(b.startByte>a.endByte+1)return null;c=b.endByte==null||b.endByte>a.endByte?b.endByte:a.endByte;return{startByte:a.startByte,endByte:c}}function f(a,b){if(b.endByte==null)return null;if(a.startByte>b.endByte)return{startByte:a.startByte,endByte:a.endByte};return a.endByte!=null&&a.endByte<=b.endByte?null:{startByte:b.endByte+1,endByte:a.endByte}}function g(a){return a.endByte==null?null:a.endByte-a.startByte+1}e.exports={startsAtSame:a,startsImmediateAfter:b,startsDuring:c,union:d,disjoinAfter:f,getLength:g}}),null);
__d("oz-player/networks/OzProducerInterruptedError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("oz-player/networks/OzDeferredBuffer",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/networks/OzProducerInterruptedError"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){a===void 0&&(a={});this.$2=[];this.$3=!1;this.$5=0;a=a;a=a.disableArrayShift;this.$1=!!a}var c=a.prototype;c.produce=function(a){this.$6(a)};c.signalProducerInterruption=function(){this.$6(new(b("oz-player/networks/OzProducerInterruptedError"))("producer interrupted"))};c.consume=function(a){var c=this;if(this.$3)throw new Error("A buffer can only be consumed by one client at a time");this.$3=!0;var d=b("oz-player/shims/OzMaybeNativePromise").resolve();this.isEmpty()&&(this.$4=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),d=this.$4.getPromise());return d.then(function(){if(c.$1){if(c.$2[c.$5]===void 0)throw new Error("buffer has no value at position "+c.$5)}else if(c.$2.length===0)throw new Error("buffer length must not be 0");c.$4=null;c.$3=!1;var b=c.$1?c.$7(a):c.$8(a);if(b instanceof Uint8Array)return b;throw b})};c.$6=function(a){this.$2.push(a),this.$4&&this.$4.resolve()};c.$7=function(a){var b=this.$2[this.$5];if(b===void 0)return new Uint8Array([]);b=b;if(!(b instanceof Uint8Array)){this.$2[this.$5]=void 0;this.$5++;return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$2[this.$5]=c}else this.$2[this.$5]=void 0,this.$5++;return b};c.$8=function(a){if(this.$2.length===0)return new Uint8Array([]);var b=this.$2[0];if(!(b instanceof Uint8Array)){this.$2.shift();return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$2[0]=c}else this.$2.shift();return b};c.isEmpty=function(){return this.$1?this.$2[this.$5]===void 0:this.$2.length===0};return a}();e.exports=a}),null);
__d("oz-player/utils/ozPipeErrorTo",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){try{a.error(b)}catch(a){}}e.exports=a}),null);
__d("oz-player/networks/OzPausableRangeStream",["oz-player/manifests/OzByteRange","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/ozPipeErrorTo","oz-player/networks/OzDeferredBuffer"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/manifests/OzByteRange").startsImmediateAfter;function h(){return new Error("Upstream has an inconsistent range")}var i=function(){function a(){this.$1=0}var b=a.prototype;b.setBytesToSkip=function(a){this.$1=a};b.setBytesSkipped=function(a){this.$1-=a};b.getBytesToSkip=function(){return this.$1};b.hasMoreBytesToSkip=function(){return this.$1>0};return a}();a=function(){function a(a,c,d,e,f){var g=this;this.$5=!1;this.$7=0;this.$8=0;this.$13=!1;this.$14=0;this.$15=new i();this.$16=!1;this.$17=!1;this.$18=!1;this.$19=a;this.$20=c;this.$1=d;this.$2=e;a=f||{};c=a.fixStreamingUndefinedEndByte;d=a.disableDeferredBufferArrayShift;e=a.enablePausableStreamResumeFromStartDangerously;f=a.fixPausePreReadableStream;a=a.throwErrorWhenAborted;this.$11=!!c;this.$16=!!e;this.$17=!!f;this.$18=!!a;this.$3=new(b("oz-player/networks/OzDeferredBuffer"))({disableArrayShift:!!d});this.$6=new this.$19({start:function(a){g.$10=a},pull:function(a){if((g.$11&&g.$1.endByte===null&&g.$5||g.$7===g.$21())&&g.$3.isEmpty()){a.close();return b("oz-player/shims/OzMaybeNativePromise").resolve()}var c=function c(){var d=g.$15.hasMoreBytesToSkip()?g.$15.getBytesToSkip():void 0;return g.$3.consume(d).then(function(d){if(g.$15.hasMoreBytesToSkip()){g.$15.setBytesSkipped(d.length);return c()}g.$7+=d.length;var e=g.$21();e!==null&&g.$7>(e||0)&&b("oz-player/utils/ozPipeErrorTo")(g.$10,h());a.enqueue(d)})["catch"](function(a){if(a==="skip_buffered_bytes"){g.$15.setBytesToSkip(g.$7);return c()}throw a})};return c()},cancel:function(a){g.$12&&g.$12.resolve("stream_cancelled"),b("oz-player/utils/ozPipeErrorTo")(g.$9,a)}});this.$22()}var c=a.prototype;c.$21=function(){var a=this.$1,b=a.startByte;a=a.endByte;return a!=null?a-b+1:null};c.$22=function(){var a=this;this.$4=new this.$20({start:function(b){a.$9=b},write:function(b){a.$3.produce(b),a.$8+=b.length},close:function(){a.$5=!0;var c=a.$1,d=c.endByte;c=c.startByte;a.$11&&d===null&&a.$3.produce(new Uint8Array([]));d!==null&&a.$8!==(d||0)-c+1&&b("oz-player/utils/ozPipeErrorTo")(a.$10,h())},abort:function(c){a.$12&&(a.$18?a.$12.reject(c):a.$12.resolve("stream_aborted")),b("oz-player/utils/ozPipeErrorTo")(a.$10,c)}})};c.getStream=function(){return this.$6};c.startStream=function(){var c=this;this.$13=!0;var d={startByte:this.$1.startByte,endByte:this.$1.endByte};!this.$16?d.startByte+=this.$8:this.$8&&(this.$3.produce("skip_buffered_bytes"),this.$8=0);var e=this.$4;return this.$2.startStream(d).then(function(d){d.pipeTo(c.$17?e:c.$4).then(function(){c.$12&&c.$12.resolve("stream_done")})["catch"](function(b){c.$12&&!c.$12.isSettled()&&(c.$17&&b===a.STREAM_PAUSED?c.$12.resolve("stream_paused"):c.$12.reject(b))});c.$12=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));return{statusPromise:c.$12.getPromise()}})};c.pauseStream=function(){b("oz-player/utils/ozPipeErrorTo")(this.$9,a.STREAM_PAUSED),this.$12&&this.$12.resolve("stream_paused"),this.$22()};c.getByteRange=function(){return this.$1};c.getBytesStreamed=function(){return this.$7};c.tryConcatByteRange=function(a){if(this.$13||!g(a,this.$1))return!1;this.$1.endByte=a.endByte;return!0};return a}();a.STREAM_PAUSED="streamPaused";e.exports=a}),null);
__d("oz-player/networks/RequestParamCreator",["oz-player/shims/OzURI"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var c=a.prototype;c.createRequestParam=function(a,c){a=new(b("oz-player/shims/OzURI"))(a.toString());if(c){var d=c.startByte,e=c.endByte;d===0&&(e===null||e===void 0)||(a=a.addQueryData({bytestart:c.startByte}),e!==null&&e!==void 0&&(a=a.addQueryData({byteend:e})))}d=this.$1&&this.$1(a)?"include":"same-origin";return{uri:a,http:{credentials:d}}};return a}();e.exports=a}),null);
__d("oz-player/networks/getOzSegmentStreamableRange",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(!a.length)return null;var b=a[0].getURI().toString(),c=a[0].getByteRange();if(!c)return null;var d=c;for(var e=1;e<a.length;e++){var f=a[e];if(f.getURI().toString()!==b)return null;f=f.getByteRange();if(!d||!f)return null;if(d.endByte===null||f.startByte!==d.endByte+1)return null;d=f}return{startByte:c.startByte,endByte:d.endByte}}e.exports=a}),null);
__d("oz-player/utils/OzNetworkRequestLoggingUtils",["oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry,h=function(a){return a?parseInt(a.get("content-length"),10):null},i=function(a){return a?a.get("x-fb-edge-hit"):null},j=function(a){return a?a.get("x-fb-origin-hit"):null},k=function(a,b){b=g(b);b&&a.setTimeToFirstByte(Math.round(b.responseStart-b.startTime)).setTimeToLastByte(Math.round(b.responseEnd-b.startTime)).setTimeToRequestStart(Math.round(b.requestStart-b.startTime))};a=function(a,b,c,d,e,f,g){d.length&&a.setSegmentCount(d.length),b&&k(a,b),a.setResource(b||null).setInitiator(c?"prefetch":"fetch").setTimeToRequestSent(Math.round(Math.floor(e))).setContentLengthHeader(h(g==null?void 0:g.headers)).setEdgeHitHeader(i(g==null?void 0:g.headers)).setOriginHitHeader(j(g==null?void 0:g.headers)).setCode(g==null?void 0:g.status).setLength(f)};e.exports={setFetchStreamLoggingAttributes:a,setPerformanceLoggingAttributes:k}}),null);
__d("oz-player/networks/OzNetworkManager",["oz-player/loggings/OzLoggingUtils","oz-player/shims/OzReadableStream","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/shims/OzWritableStream","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils","oz-player/networks/getOzSegmentStreamableRange","oz-player/networks/OzNetworkRequestStream","oz-player/networks/OzPausableRangeStream","oz-player/networks/RequestParamCreator"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes;a=function(){function a(a,c,d,e,f){c===void 0&&(c=null),d===void 0&&(d=null),e===void 0&&(e=null),this.$2=a,this.$6=f,this.$1=new(b("oz-player/networks/RequestParamCreator"))(this.$6),this.$3=c,this.$4=d,this.$5=e,this.$7=new Map()}var c=a.prototype;c.destroy=function(){this.$7&&this.$7.clear()};c.request=function(a,c,d,e){d===void 0&&(d=null);e===void 0&&(e="DISABLE_CACHE");a.length>0||b("oz-player/shims/ozvariant")(0,212);var f=b("oz-player/networks/getOzSegmentStreamableRange")(a)||{startByte:0,endByte:null};e=new(b("oz-player/networks/OzNetworkRequestStream"))(this.$2,a[0].getURI(),null,this.$1,this.$4,this.$5,this.$3,this.$7,e);return this.$8(f,e,c,d,a)};c.createPausableStream=function(a,c,d){a.length>0||b("oz-player/shims/ozvariant")(0,212);var e=b("oz-player/networks/getOzSegmentStreamableRange")(a)||{startByte:0,endByte:null},f=null,g=this.$2.getNumber("network_seg_timeout_ms");g>0&&(f={networkTimeoutMs:g});var h=new(b("oz-player/networks/OzNetworkRequestStream"))(this.$2,a[0].getURI(),f,this.$1,this.$4,this.$5,this.$3,this.$7);return{pausableStream:this.$9(e,h,c||null,d),loggingPayloads:{getRequestUrl:function(){return h.getLastRequestUrl()||null},isPrefetch:function(){return h.retrievedFromCache()},segments:a,getResponse:function(){return h.getLastResponse()}}}};c.requestRawUrl=function(a,c,d,e){e===void 0&&(e=null);c=new(b("oz-player/networks/OzNetworkRequestStream"))(this.$2,new(b("oz-player/shims/OzURI"))(a),d,this.$1,this.$4,this.$5,this.$3,this.$7);a={startByte:0,endByte:null};return this.$8(a,c,[],e)};c.$9=function(a,c,d,e){c=c;if(d!=null)for(var f=0;f<d.length;f++){var g=d[f];c=g(this.$2,c,e)}return new(b("oz-player/networks/OzPausableRangeStream"))(b("oz-player/shims/OzReadableStream"),b("oz-player/shims/OzWritableStream"),a,c,{fixStreamingUndefinedEndByte:!0,enablePausableStreamResumeFromStartDangerously:!0,fixPausePreReadableStream:!0,throwErrorWhenAborted:this.$2.getBool("pausable_stream_throws_error_when_aborted")})};c.$8=function(a,b,c,d,e){e===void 0&&(e=[]);var f=this.$9(a,b,c,d);a=f.startStream();var i=this.$10(a);d&&g(i,d,"fetch_stream",function(){},function(a){h(a,b.getLastRequestUrl(),b.retrievedFromCache(),e,0,f.getBytesStreamed(),b.getLastResponse())});return{getStream:function(){return f.getStream()},cancel:function(){return f.pauseStream()},getStatusChangePromise:function(){return i}}};c.$10=function(a){var c=this;return a.then(function(a){a=a.statusPromise;return a.then(function(a){if(a==="stream_done"||!c.$2.getBool("enable_network_manager_error"))return"done";throw new(b("oz-player/utils/OzError"))({description:a,type:"OZ_NETWORK"})})})};a.getStreamableSegmentsRange=function(a){if(!a.length)return[];return!b("oz-player/networks/getOzSegmentStreamableRange")(a)?[a[0]]:a.slice(0)};return a}();e.exports=a}),null);
__d("oz-player/manifests/Mpd",["oz-player/shims/OzEventEmitter"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h){var i;i=a.call(this)||this;i.$Mpd8=!1;i.$Mpd1=b;i.$Mpd4=f;i.$Mpd2=c;i.$Mpd3=d;i.$Mpd5=e;i.$Mpd6=g;i.$Mpd7=h;return i}var c=b.prototype;c.updateLocation=function(a){this.$Mpd5=a,this.$Mpd8=!0,this.emit("locationUpdated")};c.getLocation=function(){return this.$Mpd5};c.getMinimumUpdatePeriod=function(){return this.$Mpd4};c.getVideoRepresentations=function(){return this.$Mpd2};c.getAudioRepresentations=function(){return this.$Mpd3};c.getCustomField=function(a){var b=this.$Mpd6.get(a);if(!b)throw new Error("Custom parser not specified for field "+a);try{return b(this.$Mpd1)}catch(a){return null}};c.isStaticMpd=function(){return this.$Mpd7};c.updateWith=function(a){this.$Mpd8&&(this.$Mpd8=!1,this.$Mpd2.splice(0,this.$Mpd2.length),this.$Mpd3.splice(0,this.$Mpd3.length)),this.$Mpd1=a.$Mpd1,this.$Mpd9(this.$Mpd2,a.getVideoRepresentations()),this.$Mpd9(this.$Mpd3,a.getAudioRepresentations()),this.$Mpd7=a.isStaticMpd(),this.$Mpd4=a.getMinimumUpdatePeriod(),this.emit("updated")};c.blockTimeRange=function(a){this.$Mpd2.forEach(function(b){return b.blockTimeRange(a)}),this.$Mpd3.forEach(function(b){return b.blockTimeRange(a)})};c.unblockTimeRange=function(){this.blockTimeRange({startTime:0,endTime:0})};c.$Mpd9=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=!1;for(var f=0;f<a.length;f++){var g=a[f];if(d.getID()===g.getID()){g.updateWith(d);e=!0;break}}e||a.push(d)}};return b}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/manifests/OzAudioRepresentation",["oz-player/manifests/OzRepresentation"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i){d=a.call(this,b,c,d,e,f,g,h,i)||this;d.$OzAudioRepresentation1=b;d.$OzAudioRepresentation2=c;d.$OzAudioRepresentation3=g;return d}var c=b.prototype;c.getBitrateKbps=function(){var a=1024;return(this.$OzAudioRepresentation3/a).toFixed(1)+"Kbps"};c.getQualityLabel=function(){return this.$OzAudioRepresentation2};return b}(b("oz-player/manifests/OzRepresentation"));e.exports=a}),null);
__d("oz-player/parsers/OzSegmentTemplateParser",["oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(a,b){b===void 0&&(b=null),this.$1=a,this.$2=b}var b=a.prototype;b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return this.$2};b.getURI=function(){return this.$1};b.getSequenceNumber=function(){return null};return a}();a=function(){function a(a,c,d,e){this.$2=d,this.$1=c,this.$3=a,e?this.$4=e:this.$4=new(b("oz-player/parsers/OzDefaultSegmentTimelineParser"))()}var c=a.prototype;c.parseInitializationSegment=function(){var a=b("oz-player/utils/OzUrlHelper").joinUrlPaths(this.$2.baseUrl,this.$1.$.initialization);return new g(new(b("oz-player/shims/OzURI"))(a))};c.parseSegmentsContainer=function(){return this.$4.parseSegmentsContainer(this.$3,this.$2,this.$1)};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzZeroTimeRangeSegment",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return{startByte:this.$2,endByte:this.$3}};b.getSequenceNumber=function(){return null};return a}();e.exports=a}),null);
__d("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter",["oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzNetworkRequestStream"],(function(a,b,c,d,e,f){"use strict";a=function(a){return function(c,d,e){var f=c.getBool("estimate_video_bandwidth_only")?a==="video":!0;return d instanceof b("oz-player/networks/OzNetworkRequestStream")&&f?b("oz-player/networks/OzBandwidthEstimator").pipeThroughReporter(c.getLegacyConfig(),d,e):d}};e.exports=a}),null);
__d("oz-player/shims/OzDataViewReader",["requireCond","cr:1615797"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1615797")}),null);
/**
 * License: https://www.facebook.com/legal/license/8SOvLuObRf9/
 */
__d("oz-player/parsers/OzMp4SidxParser",["oz-player/shims/OzDataViewReader","oz-player/shims/OzURI"],(function(a,b,c,d,e,f){"use strict";var g=1936286840;a={parse:function(a,c,d){var e=new(b("oz-player/shims/OzDataViewReader"))(new DataView(d.buffer));d=e.readUint32();var f=e.readUint32();if(f!==g)throw new Error('Invalid box type, expected "sidx".');d==1&&(d=e.readUint64());f=e.readUint8();e.skip(3);e.skip(4);var h=e.readUint32();if(!h)throw new Error("Invalid timescale.");var i;f==0?(f=e.readUint32(),i=e.readUint32()):(f=e.readUint64(),i=e.readUint64());e.skip(2);var j=e.readUint16(),k=f,l=c+d+i,m=0,n=[];f=function(c){var d=e.readUint32(),f=(d&2147483648)>>>31;d=d&2147483647;var g=e.readUint32();e.readUint32();if(f==1)throw new Error("Heirarchical SIDXs are not supported.");var i=k/h,j=(k+g)/h;c===0&&(m=i);var o=l,p=o+d-1;n.push({getURI:function(){return new(b("oz-player/shims/OzURI"))(a)},getTimeRange:function(){return{startTime:i-m,endTime:j-m}},getByteRange:function(){return{startByte:o,endByte:p}},getSequenceNumber:function(){return null}});k+=g;l+=d};for(var c=0;c<j;c++)f(c);return n}};e.exports=a}),null);
__d("oz-player/parsers/OzSidxSegmentsContainer",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){c===void 0&&(c=null),this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.getSegmentByTime=function(a){var b=this.$1();for(var c=0;c<b.length;c++){var d=b[c],e=d.getTimeRange();if(e.startTime<=a&&e.endTime>a)return d}return null};b.getSegmentAfter=function(a){var b=this.$1(),c=b.findIndex(function(b){return b.getTimeRange().startTime===a.getTimeRange().startTime&&b.getTimeRange().endTime===a.getTimeRange().endTime});return c>=0&&c+1<b.length?b[c+1]:null};b.getPredictedSegmentAfter=function(a){return null};b.canPredict=function(){return!1};b.isEndingSegment=function(a){var b=this.$1();if(!b||!b.length)return!1;b=b[b.length-1].getTimeRange();a=a.getTimeRange();return b.startTime===a.startTime&&b.endTime===a.endTime};b.getSegment=function(a){return this.$1()[a]||null};b.updateWith=function(a){throw new Error("Not implemented: updatedWith")};b.addUpdateListener=function(a){this.$3&&(this.$3(),this.$3=null);return this.$2.addListener("segment_updated",a)};b.getTimeRanges=function(){var a=this.$1();if(a.length===0)return[];else{var b=a[0];a=a[a.length-1];return[{startTime:b.getTimeRange().startTime,endTime:a.getTimeRange().endTime}]}};b.blockTimeRange=function(){};b.getEndingSegment=function(){return null};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzDataSegment",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e}var b=a.prototype;b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:this.$2,endTime:this.$3}};b.getByteRange=function(){return{startByte:this.$4,endByte:this.$5}};b.getSequenceNumber=function(){return null};return a}();e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/8SOvLuObRf9/
 */
__d("oz-player/parsers/OzWebmSidxParser",["oz-player/manifests/OzDataSegment","oz-player/shims/OzDataViewReader","oz-player/shims/OzURI","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f){"use strict";var g=440786851,h=408125543,i=357149030,j=2807729,k=17545,l=475249515,m=187,n=179,o=183,p=241,q=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])];function r(a,b){if(!a&&!b)return!0;if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!=b[c])return!1;return!0}var s=function(){function a(a,b){this.id=a,this.$1=b}var b=a.prototype;b.getOffset=function(){return this.$1.byteOffset};b.createParser=function(){return new t(this.$1)};b.getUint=function(){if(this.$1.byteLength>8)throw new RangeError("EbmlElement: Unsigned integer has too many bytes.");if(this.$1.byteLength==8&&this.$1.getUint8(0)&224)throw new RangeError("EbmlParser: Unsigned integer must be at most 53 bits.");var a=0;for(var b=0;b<this.$1.byteLength;b++){var c=this.$1.getUint8(b);a=256*a+c}return a};b.getFloat=function(){if(this.$1.byteLength==4)return this.$1.getFloat32(0);else if(this.$1.byteLength==8)return this.$1.getFloat64(0);else throw new RangeError("EbmlElement: floating point numbers must be 4 or 8 bytes.")};return a}(),t=function(){function a(a){this.$1=a,this.$2=new(b("oz-player/shims/OzDataViewReader"))(this.$1)}var c=a.prototype;c.hasMoreData=function(){return this.$2.hasMoreData()};c.parseElement=function(){var b=this.$3(),c=this.$4(),d;a.$5(c)?d=this.$1.byteLength-this.$2.getCursor():d=a.$6(c);c=this.$2.getCursor()+d<=this.$1.byteLength?d:this.$1.byteLength-this.$2.getCursor();d=new DataView(this.$1.buffer,this.$1.byteOffset+this.$2.getCursor(),c);this.$2.skip(c);return new s(b,d)};c.$3=function(){var a=this.$4();if(a.length>7)throw new RangeError("EbmlParser: EBML ID must be at most 7 bytes.");var b=0;for(var c=0;c<a.length;c++)b=256*b+a[c];return b};c.$4=function(){var a=this.$2.readUint8(),b;for(b=1;b<=8;b++){var c=1<<8-b;if(a&c)break}if(b>8)throw new RangeError("EbmlParser: Variable sized integer must fit within 8 bytes.");c=new Uint8Array(b);c[0]=a;for(var a=1;a<b;a++)c[a]=this.$2.readUint8();return c};a.$6=function(a){if(a.length==8&&a[1]&224)throw new RangeError("EbmlParser: Variable sized integer value must be at most 53 bits.");var b=1<<8-a.length;b=a[0]&b-1;for(var c=1;c<a.length;c++)b=256*b+a[c];return b};a.$5=function(a){for(var b=0;b<q.length;b++)if(r(a,q[b]))return!0;return!1};return a}();function u(a){a=a.createParser();var b=1e6,c=null;while(a.hasMoreData()){var d=a.parseElement();d.id==j?b=d.getUint():d.id==k&&(c=d.getFloat())}if(c==null)return null;d=b/1e9;a=c*d;return{timecodeScale:d,duration:a}}function v(a,c,d,e,f){var g=[];a=a.createParser();var h=-1,i=-1;while(a.hasMoreData()){var j=a.parseElement();if(j.id!=m)continue;j=w(j);if(!j)continue;var k=d*j.unscaledTime;j=c+j.relativeOffset;h>=0&&(i>=0||b("oz-player/shims/ozvariant")(0,4010),g.push(new(b("oz-player/manifests/OzDataSegment"))(f,h,k,i,j-1)));h=k;i=j}h>=0&&(i>=0||b("oz-player/shims/ozvariant")(0,4010),g.push(new(b("oz-player/manifests/OzDataSegment"))(f,h,e,i,null)));return g}function w(a){a=a.createParser();var b=a.parseElement();if(b.id!=n)return null;b=b.getUint();a=a.parseElement();if(a.id!=o)return null;a=a.createParser();var c=0;while(a.hasMoreData()){var d=a.parseElement();if(d.id!=p)continue;c=d.getUint();break}return{unscaledTime:b,relativeOffset:c}}function x(a){a=a.createParser();var b=null;while(a.hasMoreData()){var c=a.parseElement();if(c.id!=i)continue;b=c;break}return!b?null:u(b)}function y(a){a=new t(a);var b=a.parseElement();if(b.id!=g)return null;b=a.parseElement();if(b.id!=h)return null;a=b.getOffset();b=x(b);return!b?null:{segmentOffset:a,timecodeScale:b.timecodeScale,duration:b.duration}}function a(a,c,d){d=new DataView(d.buffer);c=new DataView(c.buffer);d=y(d);if(!d)return[];c=new t(c);c=c.parseElement();return c.id!=l?[]:v(c,d.segmentOffset,d.timecodeScale,d.duration,new(b("oz-player/shims/OzURI"))(a))}e.exports={parse:a}}),null);
__d("oz-player/utils/OzReadableStreamUtils",["oz-player/utils/ozConcatArrayBuffer"],(function(a,b,c,d,e,f){"use strict";var g=typeof TextDecoder!=="undefined"?function(a){return new TextDecoder("utf-8").decode(new Uint8Array(a))}:function(a){return String.fromCharCode.apply(null,a)};function h(a){var c=new ArrayBuffer(0),d=function d(){return a.read().then(function(a){var e=a.value;a=a.done;if(a)return null;if(!e)return null;c=b("oz-player/utils/ozConcatArrayBuffer")(c,e);return d()})};return d().then(function(){return new Uint8Array(c)})}function a(a){return h(a).then(function(a){return g(a)})}e.exports={pumpString:a,pumpAllData:h}}),null);
__d("oz-player/parsers/OzSidxSegmentsParser",["oz-player/loggings/OzLoggingUtils","oz-player/manifests/OzZeroTimeRangeSegment","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzURI","oz-player/utils/OzErrorEmitter","oz-player/utils/OzReadableStreamUtils","oz-player/parsers/OzMp4SidxParser","oz-player/parsers/OzSidxSegmentsContainer","oz-player/parsers/OzWebmSidxParser"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/utils/OzReadableStreamUtils").pumpAllData;function i(a){a=a.split("-");return{startByte:Number.parseInt(a[0],10),endByte:Number.parseInt(a[1],10)}}a=function(){function a(a,c,d,e,f,g,h){this.$6=new(b("oz-player/utils/OzErrorEmitter"))(),this.$7=[],this.$9=new(b("oz-player/shims/OzEventEmitter"))(),this.$1=c,this.$2=d,this.$3=e,this.$5=f,this.$4=g,this.$8=h.cloneContext().setType("sidx"),this.$10=a}var c=a.prototype;c.onError=function(a){return this.$6.onError(a)};c.parseInitializationSegment=function(){var a=this,c=this.$1.Initialization[0].$.range,d=i(c);c={getURI:function(){return new(b("oz-player/shims/OzURI"))(a.$2)},getTimeRange:function(){return{startTime:0,endTime:0}},getByteRange:function(){return d},getSequenceNumber:function(){return null}};return c};c.parseSegmentsContainer=function(){var a=this,c=function(){g(a.$11(),a.$8,"process_sidx")["catch"](a.$6.emitError)},d=this.$10.getBool("lazy_parse_sidx");d||c();d=new(b("oz-player/parsers/OzSidxSegmentsContainer"))(function(){return a.$7},this.$9,d?c:null);return d};c.$12=function(a,c,d){d===void 0&&(d="DISABLE_CACHE");a=new(b("oz-player/manifests/OzZeroTimeRangeSegment"))(new(b("oz-player/shims/OzURI"))(a),c.startByte,c.endByte);c=this.$10.getBool("exclude_sidx_from_bandwidth_estimates")?this.$5+";sidx":this.$5;a=this.$4.request([a],[b("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(c)],this.$8,d);c=a.getStream().getReader();return h(c)};c.$11=function(){var a=this,c=this.$1.$.indexRange,d=i(c);c=[this.$12(this.$2,d)];if(this.$3==="webm"){var e=i(this.$1.Initialization[0].$.range);c.push(this.$12(this.$2,e,"ENABLE_CACHE"));e=b("oz-player/shims/OzMaybeNativePromise").all(c).then(function(c){var d=c[0];c=c[1];a.$7=b("oz-player/parsers/OzWebmSidxParser").parse(a.$2,d,c)})}else e=c[0].then(function(c){a.$7=b("oz-player/parsers/OzMp4SidxParser").parse(a.$2,d.startByte,c)});return e.then(function(){a.$9.emit("segment_updated")})};return a}();e.exports=a}),null);
__d("oz-player/parsers/OzVideoContainerType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[1]||"").trim()}e.exports={parse:a}}),null);
__d("oz-player/utils/OzMimeUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[0]||"").trim()}e.exports={getMimeType:a}}),null);
__d("oz-player/parsers/OzRepresentationParser",["oz-player/manifests/OzRepresentation","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMimeUtil","oz-player/parsers/OzSegmentTemplateParser","oz-player/parsers/OzSidxSegmentsParser","oz-player/parsers/OzVideoContainerType"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/utils/OzMimeUtil").getMimeType;a=function(){function a(a,c,d,e,f,g,h,i,j){this.$5=new(b("oz-player/utils/OzErrorEmitter"))(),this.$1=c,this.$6=e,this.$7=f,this.$9=d,this.$10=a,this.$11=g,this.$2=h,this.$3=i,this.$4=j}var c=a.prototype;c.$12=function(){if(this.$8)return this.$8;if(this.$1.SegmentBase){var a=this.$1.SegmentBase[0],c=this.$1.BaseURL[0]._;this.$8=new(b("oz-player/parsers/OzSidxSegmentsParser"))(this.$10,a,c,b("oz-player/parsers/OzVideoContainerType").parse(this.$1.$.mimeType),g(this.$1.$.mimeType),this.$6,this.$7);this.$8.onError(this.$5.emitError)}else if(this.$1.SegmentTemplate)this.$8=this.$13(this.$1.SegmentTemplate[0],{isShared:!1});else if(this.$2)this.$8=this.$13(this.$2[0],{isShared:!0});else{a=new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Unrecognized representation type",extra:{code:"OZ_RP-7"}});throw a}return this.$8};c.$13=function(a,c){if(c.isShared){c=babelHelpers["extends"]({},a);c.$=babelHelpers["extends"]({},a.$);c.$.initialization=c.$.initialization.replace("$RepresentationID$",this.$1.$.id);c.$.media=c.$.media.replace("$RepresentationID$",this.$1.$.id);a=c}c=this.$9.mpdUrl;var d=this.$1.BaseURL&&this.$1.BaseURL[0]?this.$1.BaseURL[0]._:null;d=d!=null&&this.$10.getBool("enable_quickdashv2")?d:c;if(d==null){c=new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Missing mpd url for template manifest",extra:{code:"OZ_RP-6"}});throw c}c=this.$9.customSegmentTimelineParser;return new(b("oz-player/parsers/OzSegmentTemplateParser"))(this.$10,a,{baseUrl:d,isStaticMpd:this.$11.manifestType==="static",isTemplatedMpd:this.$11.manifestIsTemplated},c)};c.onError=function(a){return this.$5.onError(a)};c.parseInitSegment=function(){return this.$12().parseInitializationSegment()};c.parseBandwidth=function(){return Number(this.$1.$.bandwidth)};c.parseMimeCodecs=function(){var a,b;a=(a=(a=this.$1.$.mimeType)!=null?a:this.$3)!=null?a:"";b=(b=(b=this.$1.$.codecs)!=null?b:this.$4)!=null?b:"";return a+'; codecs="'+b+'"'};c.parseSegmentsContainer=function(){return this.$12().parseSegmentsContainer()};c.parseID=function(){return""+this.$1.$.id};c.parseCustomFieldFirstSegment=function(){var a=this.$9.customRepresentationParsers?this.$9.customRepresentationParsers.firstSegmentParser:null;return a?a(this.$1):null};c.parse=function(){return new(b("oz-player/manifests/OzRepresentation"))(this.$1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),this.$9.customRepresentationParsers)};return a}();e.exports=a}),null);
__d("oz-player/parsers/OzAudioRepresentationParser",["oz-player/manifests/OzAudioRepresentation","oz-player/parsers/OzRepresentationParser"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h,i,j){b=a.call(this,b,c,d,e,f,g,h,i,j)||this;b.$OzAudioRepresentationParser1=c;b.$OzAudioRepresentationParser2=d;return b}var d=c.prototype;d.parse=function(){var a=this.$OzAudioRepresentationParser2.customRepresentationParsers;return new(b("oz-player/manifests/OzAudioRepresentation"))(this.$OzAudioRepresentationParser1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),a)};return c}(b("oz-player/parsers/OzRepresentationParser"));e.exports=a}),null);
__d("oz-player/parsers/OzVideoRepresentationParser",["oz-player/manifests/OzVideoRepresentation","oz-player/parsers/OzRepresentationParser"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h,i,j){b=a.call(this,b,c,d,e,f,g,h,i,j)||this;b.$OzVideoRepresentationParser1=c;b.$OzVideoRepresentationParser2=d;return b}var d=c.prototype;d.parse=function(){var a=Number.parseInt(this.$OzVideoRepresentationParser1.$.height,10),c=Number.parseInt(this.$OzVideoRepresentationParser1.$.width,10),d=this.$OzVideoRepresentationParser2.customRepresentationParsers;return new(b("oz-player/manifests/OzVideoRepresentation"))(this.$OzVideoRepresentationParser1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),d,c,a)};return c}(b("oz-player/parsers/OzRepresentationParser"));e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/yfmK3YA3_Vc/
 */
__d("sax-1.2.4",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(a){a.parser=function(a,b){return new c(a,b)};a.SAXParser=c;a.MAX_BUFFER_LENGTH=64*1024;var b=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];a.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function c(b,d){if(!(this instanceof c))return new c(b,d);var f=this;e(f);f.q=f.c="";f.bufferCheckPosition=a.MAX_BUFFER_LENGTH;f.opt=d||{};f.opt.lowercase=f.opt.lowercase||f.opt.lowercasetags;f.looseCase=f.opt.lowercase?"toLowerCase":"toUpperCase";f.tags=[];f.closed=f.closedRoot=f.sawRoot=!1;f.tag=f.error=null;f.strict=!!b;f.noscript=!!(b||f.opt.noscript);f.state=u.BEGIN;f.strictEntities=f.opt.strictEntities;f.ENTITIES=f.strictEntities?Object.create(a.XML_ENTITIES):Object.create(a.ENTITIES);f.attribList=[];f.opt.xmlns&&(f.ns=Object.create(k));f.trackPosition=f.opt.position!==!1;f.trackPosition&&(f.position=f.line=f.column=0);w(f,"onready")}Object.create||(Object.create=function(a){function b(){}b.prototype=a;a=new b();return a});Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b});function d(c){var d=Math.max(a.MAX_BUFFER_LENGTH,10),e=0;for(var f=0,g=b.length;f<g;f++){var h=c[b[f]].length;if(h>d)switch(b[f]){case"textNode":y(c);break;case"cdata":x(c,"oncdata",c.cdata);c.cdata="";break;case"script":x(c,"onscript",c.script);c.script="";break;default:A(c,"Max buffer length exceeded: "+b[f])}e=Math.max(e,h)}h=a.MAX_BUFFER_LENGTH-e;c.bufferCheckPosition=h+c.position}function e(a){for(var c=0,d=b.length;c<d;c++)a[b[c]]=""}function f(a){y(a),a.cdata!==""&&(x(a,"oncdata",a.cdata),a.cdata=""),a.script!==""&&(x(a,"onscript",a.script),a.script="")}c.prototype={end:function(){B(this)},write:L,resume:function(){this.error=null;return this},close:function(){return this.write(null)},flush:function(){f(this)}};var g="[CDATA[",h="DOCTYPE",i="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",k={xml:i,xmlns:j},l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,n=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function p(a){return a===" "||a==="\n"||a==="\r"||a==="\t"}function q(a){return a==='"'||a==="'"}function r(a){return a===">"||p(a)}function s(a,b){return a.test(b)}function t(a,b){return!s(a,b)}var u=0;a.STATE={BEGIN:u++,BEGIN_WHITESPACE:u++,TEXT:u++,TEXT_ENTITY:u++,OPEN_WAKA:u++,SGML_DECL:u++,SGML_DECL_QUOTED:u++,DOCTYPE:u++,DOCTYPE_QUOTED:u++,DOCTYPE_DTD:u++,DOCTYPE_DTD_QUOTED:u++,COMMENT_STARTING:u++,COMMENT:u++,COMMENT_ENDING:u++,COMMENT_ENDED:u++,CDATA:u++,CDATA_ENDING:u++,CDATA_ENDING_2:u++,PROC_INST:u++,PROC_INST_BODY:u++,PROC_INST_ENDING:u++,OPEN_TAG:u++,OPEN_TAG_SLASH:u++,ATTRIB:u++,ATTRIB_NAME:u++,ATTRIB_NAME_SAW_WHITE:u++,ATTRIB_VALUE:u++,ATTRIB_VALUE_QUOTED:u++,ATTRIB_VALUE_CLOSED:u++,ATTRIB_VALUE_UNQUOTED:u++,ATTRIB_VALUE_ENTITY_Q:u++,ATTRIB_VALUE_ENTITY_U:u++,CLOSE_TAG:u++,CLOSE_TAG_SAW_WHITE:u++,SCRIPT:u++,SCRIPT_ENDING:u++};a.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.ENTITIES).forEach(function(b){var c=a.ENTITIES[b];c=typeof c==="number"?String.fromCharCode(c):c;a.ENTITIES[b]=c});for(var v in a.STATE)a.STATE[a.STATE[v]]=v;u=a.STATE;function w(a,b,c){a[b]&&a[b](c)}function x(a,b,c){a.textNode&&y(a),w(a,b,c)}function y(a){a.textNode=z(a.opt,a.textNode),a.textNode&&w(a,"ontext",a.textNode),a.textNode=""}function z(a,b){a.trim&&(b=b.trim());a.normalize&&(b=b.replace(/\s+/g," "));return b}function A(a,b){y(a);a.trackPosition&&(b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c);b=new Error(b);a.error=b;w(a,"onerror",b);return a}function B(a){a.sawRoot&&!a.closedRoot&&C(a,"Unclosed root tag");a.state!==u.BEGIN&&a.state!==u.BEGIN_WHITESPACE&&a.state!==u.TEXT&&A(a,"Unexpected end");y(a);a.c="";a.closed=!0;w(a,"onend");c.call(a,a.strict,a.opt);return a}function C(a,b){if(typeof a!=="object"||!(a instanceof c))throw new Error("bad call to strictFail");a.strict&&A(a,b)}function D(a){a.strict||(a.tagName=a.tagName[a.looseCase]());var b=a.tags[a.tags.length-1]||a,c=a.tag={name:a.tagName,attributes:{}};a.opt.xmlns&&(c.ns=b.ns);a.attribList.length=0;x(a,"onopentagstart",c)}function E(a,b){var c=a.indexOf(":");c=c<0?["",a]:a.split(":");var d=c[0];c=c[1];b&&a==="xmlns"&&(d="xmlns",c="");return{prefix:d,local:c}}function F(a){a.strict||(a.attribName=a.attribName[a.looseCase]());if(a.attribList.indexOf(a.attribName)!==-1||a.tag.attributes.hasOwnProperty(a.attribName)){a.attribName=a.attribValue="";return}if(a.opt.xmlns){var b=E(a.attribName,!0),c=b.prefix;b=b.local;if(c==="xmlns")if(b==="xml"&&a.attribValue!==i)C(a,"xml: prefix must be bound to "+i+"\nActual: "+a.attribValue);else if(b==="xmlns"&&a.attribValue!==j)C(a,"xmlns: prefix must be bound to "+j+"\nActual: "+a.attribValue);else{c=a.tag;var d=a.tags[a.tags.length-1]||a;c.ns===d.ns&&(c.ns=Object.create(d.ns));c.ns[b]=a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,x(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function G(a,b){if(a.opt.xmlns){var c=a.tag,d=E(a.tagName);c.prefix=d.prefix;c.local=d.local;c.uri=c.ns[d.prefix]||"";c.prefix&&!c.uri&&(C(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),c.uri=d.prefix);d=a.tags[a.tags.length-1]||a;c.ns&&d.ns!==c.ns&&Object.keys(c.ns).forEach(function(b){x(a,"onopennamespace",{prefix:b,uri:c.ns[b]})});for(var d=0,e=a.attribList.length;d<e;d++){var f=a.attribList[d],g=f[0];f=f[1];var h=E(g,!0),i=h.prefix;h=h.local;var j=i===""?"":c.ns[i]||"";f={name:g,value:f,prefix:i,local:h,uri:j};i&&i!=="xmlns"&&!j&&(C(a,"Unbound namespace prefix: "+JSON.stringify(i)),f.uri=i);a.tag.attributes[g]=f;x(a,"onattribute",f)}a.attribList.length=0}a.tag.isSelfClosing=!!b;a.sawRoot=!0;a.tags.push(a.tag);x(a,"onopentag",a.tag);b||(!a.noscript&&a.tagName.toLowerCase()==="script"?a.state=u.SCRIPT:a.state=u.TEXT,a.tag=null,a.tagName="");a.attribName=a.attribValue="";a.attribList.length=0}function H(a){if(!a.tagName){C(a,"Weird empty close tag.");a.textNode+="</>";a.state=u.TEXT;return}if(a.script){if(a.tagName!=="script"){a.script+="</"+a.tagName+">";a.tagName="";a.state=u.SCRIPT;return}x(a,"onscript",a.script);a.script=""}var b=a.tags.length,c=a.tagName;a.strict||(c=c[a.looseCase]());var d=c;while(b--){var e=a.tags[b];if(e.name!==d)C(a,"Unexpected close tag");else break}if(b<0){C(a,"Unmatched closing tag: "+a.tagName);a.textNode+="</"+a.tagName+">";a.state=u.TEXT;return}a.tagName=c;e=a.tags.length;while(e-->b){var f=a.tag=a.tags.pop();a.tagName=a.tag.name;x(a,"onclosetag",a.tagName);d={};for(var g in f.ns)d[g]=f.ns[g];c=a.tags[a.tags.length-1]||a;a.opt.xmlns&&f.ns!==c.ns&&Object.keys(f.ns).forEach(function(b){var c=f.ns[b];x(a,"onclosenamespace",{prefix:b,uri:c})})}b===0&&(a.closedRoot=!0);a.tagName=a.attribValue=a.attribName="";a.attribList.length=0;a.state=u.TEXT}function I(a){var b=a.entity,c=b.toLowerCase(),d,e="";if(a.ENTITIES[b])return a.ENTITIES[b];if(a.ENTITIES[c])return a.ENTITIES[c];b=c;b.charAt(0)==="#"&&(b.charAt(1)==="x"?(b=b.slice(2),d=parseInt(b,16),e=d.toString(16)):(b=b.slice(1),d=parseInt(b,10),e=d.toString(10)));b=b.replace(/^0+/,"");if(isNaN(d)||e.toLowerCase()!==b){C(a,"Invalid character entity");return"&"+a.entity+";"}return String.fromCodePoint(d)}function J(a,b){b==="<"?(a.state=u.OPEN_WAKA,a.startTagPosition=a.position):p(b)||(C(a,"Non-whitespace before first tag."),a.textNode=b,a.state=u.TEXT)}function K(a,b){var c="";b<a.length&&(c=a.charAt(b));return c}function L(a){var b=this;if(this.error)throw this.error;if(b.closed)return A(b,"Cannot write after close. Assign an onready handler.");if(a===null)return B(b);typeof a==="object"&&(a=a.toString());var c=0,e="";while(!0){e=K(a,c++);b.c=e;if(!e)break;b.trackPosition&&(b.position++,e==="\n"?(b.line++,b.column=0):b.column++);switch(b.state){case u.BEGIN:b.state=u.BEGIN_WHITESPACE;if(e==="\ufeff")continue;J(b,e);continue;case u.BEGIN_WHITESPACE:J(b,e);continue;case u.TEXT:if(b.sawRoot&&!b.closedRoot){var f=c-1;while(e&&e!=="<"&&e!=="&")e=K(a,c++),e&&b.trackPosition&&(b.position++,e==="\n"?(b.line++,b.column=0):b.column++);b.textNode+=a.substring(f,c-1)}e==="<"&&!(b.sawRoot&&b.closedRoot&&!b.strict)?(b.state=u.OPEN_WAKA,b.startTagPosition=b.position):(!p(e)&&(!b.sawRoot||b.closedRoot)&&C(b,"Text data outside of root node."),e==="&"?b.state=u.TEXT_ENTITY:b.textNode+=e);continue;case u.SCRIPT:e==="<"?b.state=u.SCRIPT_ENDING:b.script+=e;continue;case u.SCRIPT_ENDING:e==="/"?b.state=u.CLOSE_TAG:(b.script+="<"+e,b.state=u.SCRIPT);continue;case u.OPEN_WAKA:if(e==="!")b.state=u.SGML_DECL,b.sgmlDecl="";else if(!p(e))if(s(l,e))b.state=u.OPEN_TAG,b.tagName=e;else if(e==="/")b.state=u.CLOSE_TAG,b.tagName="";else if(e==="?")b.state=u.PROC_INST,b.procInstName=b.procInstBody="";else{C(b,"Unencoded <");if(b.startTagPosition+1<b.position){f=b.position-b.startTagPosition;e=new Array(f).join(" ")+e}b.textNode+="<"+e;b.state=u.TEXT}continue;case u.SGML_DECL:(b.sgmlDecl+e).toUpperCase()===g?(x(b,"onopencdata"),b.state=u.CDATA,b.sgmlDecl="",b.cdata=""):b.sgmlDecl+e==="--"?(b.state=u.COMMENT,b.comment="",b.sgmlDecl=""):(b.sgmlDecl+e).toUpperCase()===h?(b.state=u.DOCTYPE,(b.doctype||b.sawRoot)&&C(b,"Inappropriately located doctype declaration"),b.doctype="",b.sgmlDecl=""):e===">"?(x(b,"onsgmldeclaration",b.sgmlDecl),b.sgmlDecl="",b.state=u.TEXT):q(e)?(b.state=u.SGML_DECL_QUOTED,b.sgmlDecl+=e):b.sgmlDecl+=e;continue;case u.SGML_DECL_QUOTED:e===b.q&&(b.state=u.SGML_DECL,b.q="");b.sgmlDecl+=e;continue;case u.DOCTYPE:e===">"?(b.state=u.TEXT,x(b,"ondoctype",b.doctype),b.doctype=!0):(b.doctype+=e,e==="["?b.state=u.DOCTYPE_DTD:q(e)&&(b.state=u.DOCTYPE_QUOTED,b.q=e));continue;case u.DOCTYPE_QUOTED:b.doctype+=e;e===b.q&&(b.q="",b.state=u.DOCTYPE);continue;case u.DOCTYPE_DTD:b.doctype+=e;e==="]"?b.state=u.DOCTYPE:q(e)&&(b.state=u.DOCTYPE_DTD_QUOTED,b.q=e);continue;case u.DOCTYPE_DTD_QUOTED:b.doctype+=e;e===b.q&&(b.state=u.DOCTYPE_DTD,b.q="");continue;case u.COMMENT:e==="-"?b.state=u.COMMENT_ENDING:b.comment+=e;continue;case u.COMMENT_ENDING:e==="-"?(b.state=u.COMMENT_ENDED,b.comment=z(b.opt,b.comment),b.comment&&x(b,"oncomment",b.comment),b.comment=""):(b.comment+="-"+e,b.state=u.COMMENT);continue;case u.COMMENT_ENDED:e!==">"?(C(b,"Malformed comment"),b.comment+="--"+e,b.state=u.COMMENT):b.state=u.TEXT;continue;case u.CDATA:e==="]"?b.state=u.CDATA_ENDING:b.cdata+=e;continue;case u.CDATA_ENDING:e==="]"?b.state=u.CDATA_ENDING_2:(b.cdata+="]"+e,b.state=u.CDATA);continue;case u.CDATA_ENDING_2:e===">"?(b.cdata&&x(b,"oncdata",b.cdata),x(b,"onclosecdata"),b.cdata="",b.state=u.TEXT):e==="]"?b.cdata+="]":(b.cdata+="]]"+e,b.state=u.CDATA);continue;case u.PROC_INST:e==="?"?b.state=u.PROC_INST_ENDING:p(e)?b.state=u.PROC_INST_BODY:b.procInstName+=e;continue;case u.PROC_INST_BODY:if(!b.procInstBody&&p(e))continue;else e==="?"?b.state=u.PROC_INST_ENDING:b.procInstBody+=e;continue;case u.PROC_INST_ENDING:e===">"?(x(b,"onprocessinginstruction",{name:b.procInstName,body:b.procInstBody}),b.procInstName=b.procInstBody="",b.state=u.TEXT):(b.procInstBody+="?"+e,b.state=u.PROC_INST_BODY);continue;case u.OPEN_TAG:s(m,e)?b.tagName+=e:(D(b),e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:(p(e)||C(b,"Invalid character in tag name"),b.state=u.ATTRIB));continue;case u.OPEN_TAG_SLASH:e===">"?(G(b,!0),H(b)):(C(b,"Forward-slash in opening tag not followed by >"),b.state=u.ATTRIB);continue;case u.ATTRIB:if(p(e))continue;else e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:s(l,e)?(b.attribName=e,b.attribValue="",b.state=u.ATTRIB_NAME):C(b,"Invalid attribute name");continue;case u.ATTRIB_NAME:e==="="?b.state=u.ATTRIB_VALUE:e===">"?(C(b,"Attribute without value"),b.attribValue=b.attribName,F(b),G(b)):p(e)?b.state=u.ATTRIB_NAME_SAW_WHITE:s(m,e)?b.attribName+=e:C(b,"Invalid attribute name");continue;case u.ATTRIB_NAME_SAW_WHITE:if(e==="=")b.state=u.ATTRIB_VALUE;else if(p(e))continue;else C(b,"Attribute without value"),b.tag.attributes[b.attribName]="",b.attribValue="",x(b,"onattribute",{name:b.attribName,value:""}),b.attribName="",e===">"?G(b):s(l,e)?(b.attribName=e,b.state=u.ATTRIB_NAME):(C(b,"Invalid attribute name"),b.state=u.ATTRIB);continue;case u.ATTRIB_VALUE:if(p(e))continue;else q(e)?(b.q=e,b.state=u.ATTRIB_VALUE_QUOTED):(C(b,"Unquoted attribute value"),b.state=u.ATTRIB_VALUE_UNQUOTED,b.attribValue=e);continue;case u.ATTRIB_VALUE_QUOTED:if(e!==b.q){e==="&"?b.state=u.ATTRIB_VALUE_ENTITY_Q:b.attribValue+=e;continue}F(b);b.q="";b.state=u.ATTRIB_VALUE_CLOSED;continue;case u.ATTRIB_VALUE_CLOSED:p(e)?b.state=u.ATTRIB:e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:s(l,e)?(C(b,"No whitespace between attributes"),b.attribName=e,b.attribValue="",b.state=u.ATTRIB_NAME):C(b,"Invalid attribute name");continue;case u.ATTRIB_VALUE_UNQUOTED:if(!r(e)){e==="&"?b.state=u.ATTRIB_VALUE_ENTITY_U:b.attribValue+=e;continue}F(b);e===">"?G(b):b.state=u.ATTRIB;continue;case u.CLOSE_TAG:if(!b.tagName)if(p(e))continue;else t(l,e)?b.script?(b.script+="</"+e,b.state=u.SCRIPT):C(b,"Invalid tagname in closing tag."):b.tagName=e;else e===">"?H(b):s(m,e)?b.tagName+=e:b.script?(b.script+="</"+b.tagName,b.tagName="",b.state=u.SCRIPT):(p(e)||C(b,"Invalid tagname in closing tag"),b.state=u.CLOSE_TAG_SAW_WHITE);continue;case u.CLOSE_TAG_SAW_WHITE:if(p(e))continue;e===">"?H(b):C(b,"Invalid characters in closing tag");continue;case u.TEXT_ENTITY:case u.ATTRIB_VALUE_ENTITY_Q:case u.ATTRIB_VALUE_ENTITY_U:var i,j;switch(b.state){case u.TEXT_ENTITY:i=u.TEXT;j="textNode";break;case u.ATTRIB_VALUE_ENTITY_Q:i=u.ATTRIB_VALUE_QUOTED;j="attribValue";break;case u.ATTRIB_VALUE_ENTITY_U:i=u.ATTRIB_VALUE_UNQUOTED;j="attribValue";break}e===";"?(b[j]+=I(b),b.entity="",b.state=i):s(b.entity.length?o:n,e)?b.entity+=e:(C(b,"Invalid character in entity name"),b[j]+="&"+b.entity+e,b.entity="",b.state=i);continue;default:throw new Error(b,"Unknown state: "+b.state)}}b.position>=b.bufferCheckPosition&&d(b);return b}String.fromCodePoint||(function(){var a=String.fromCharCode,b=Math.floor,c=function(){var c=16384,d=[],e,f,g=-1,h=arguments.length;if(!h)return"";var i="";while(++g<h){var j=Number(arguments[g]);if(!isFinite(j)||j<0||j>1114111||b(j)!==j)throw RangeError("Invalid code point: "+j);j<=65535?d.push(j):(j-=65536,e=(j>>10)+55296,f=j%1024+56320,d.push(e,f));(g+1===h||d.length>c)&&(i+=a.apply(null,d),d.length=0)}return i};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c})()})(typeof g==="undefined"?this.sax={}:g)}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("sax",["sax-1.2.4"],(function(a,b,c,d,e,f){e.exports=b("sax-1.2.4")()}),null);
__d("oz-player/shims/www/OzSaxWWW",["sax"],(function(a,b,c,d,e,f){e.exports=b("sax")}),null);
__d("oz-player/shims/OzSax",["oz-player/shims/www/OzSaxWWW"],(function(a,b,c,d,e,f){e.exports=b("oz-player/shims/www/OzSaxWWW")}),null);
__d("oz-player/parsers/OzXmlParser",["oz-player/shims/OzSax","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f){function g(){return{$:{}}}a=function(){"use strict";function a(){var a=this;this.$4=[];this.$6=function(c){c=c.name;var d=g(),e=a.$3||a.$2;e||b("oz-player/shims/ozvariant")(0,219);Object.prototype.hasOwnProperty.call(e,c)||(e[c]=[]);e[c].push(d);a.$4.push(e);a.$3=d};this.$8=function(){var b=a.$4.pop();a.$3=b};this.$9=function(c){c=c.trim();if(!c)return;var d=a.$3;d||b("oz-player/shims/ozvariant")(0,220);d._&&b("oz-player/shims/ozvariant")(0,221);d._=c};this.$7=function(c){var d=c.name;c=c.value;var e=a.$3;e||b("oz-player/shims/ozvariant")(0,222);e.$[d]=c};var c=!0;c=this.$1=b("oz-player/shims/OzSax").parser(c);c.onerror=this.$5;c.onopentagstart=this.$6;c.onattribute=this.$7;c.onclosetag=this.$8;c.ontext=this.$9}var c=a.prototype;c.$5=function(a){throw a};c.parse=function(a){var b=g();this.$2=b;try{this.$1.write(a).close()}catch(a){throw a}this.$3=null;this.$2=null;this.$4=[];return b};return a}();e.exports=a}),null);
__d("oz-player/parsers/OzMpdParser",["oz-player/manifests/Mpd","oz-player/shims/ozvariant","oz-player/utils/OzErrorEmitter","oz-player/parsers/OzAudioRepresentationParser","oz-player/parsers/OzVideoRepresentationParser","oz-player/parsers/OzXmlParser"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e,f){this.$2=new(b("oz-player/utils/OzErrorEmitter"))(),this.$5=a,this.$1=d,this.$3=e,this.$4=c,this.$6=f}var c=a.prototype;c.onError=function(a){return this.$2.onError(a)};c.parse=function(a){var c=null;a=new(b("oz-player/parsers/OzXmlParser"))().parse(a);c=a.MPD[0];c||b("oz-player/shims/ozvariant")(0,3628);c.Period.length>0||b("oz-player/shims/ozvariant")(0,3629);a=c.Period[0].AdaptationSet||[];var d=this.$7(c),e=this.$8(c),f=this.$9(a,"video"),g=this.$10(f,b("oz-player/parsers/OzVideoRepresentationParser"),{manifestType:d,manifestIsTemplated:e});g.sort(function(a,b){return a.getHeight()-b.getHeight()});a=this.$9(a,"audio");e=this.$10(a,b("oz-player/parsers/OzAudioRepresentationParser"),{manifestType:d,manifestIsTemplated:e});e.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});var h=this.$4.mpdUrl;h=new(b("oz-player/manifests/Mpd"))(c,g,e,h,this.$11(c),this.$4.customParsers||new Map(),d==="static");if(this.$6){c=this.$6;c.startEME(f,g,a,e)}return h};c.$11=function(a){a=a.$.minimumUpdatePeriod||"";a=/\d+/g.exec(a);if(a&&a.length){a=a[0];return a?Number.parseInt(a,10):null}return null};c.$7=function(a){return a.$.type||"static"};c.$8=function(a){return a.$.FBIsLiveTemplated==="true"};c.$9=function(a,b){return a.find(function(a){if(a.$.mimeType!=null)return a.$.mimeType.indexOf(b)!==-1;a=a.Representation;return a&&a.length&&a[0].$.mimeType.indexOf(b)!==-1})};c.$10=function(a,b,c){var d=this;return!a?[]:a.Representation.map(function(e){e=new b(d.$5,e,d.$4,d.$1,d.$3,c,a.SegmentTemplate,a.$.mimeType,a.$.codecs);e.onError(d.$2.emitError);return e.parse()})};return a}();e.exports=a}),null);
__d("oz-player/utils/OzMpdUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=[];b.push.apply(b,a.getVideoRepresentations().concat(a.getAudioRepresentations()));if(b.length){a=b[0].getEndingSegment();if(a)return a.getTimeRange()}return null}function b(a){var b=[];b.push.apply(b,a.getVideoRepresentations().concat(a.getAudioRepresentations()));if(b.length){a=b[0].getEndingSegment();if(a)return a.getSequenceNumber()}return null}e.exports={getMpdLastTimeRange:a,getMpdLastSequenceNumber:b}}),null);
__d("oz-player/utils/OzStreamInterruptChecker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzMpdUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/utils/OzMpdUtils").getMpdLastTimeRange;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$OzStreamInterruptChecker3=0;d.$OzStreamInterruptChecker4=null;d.$OzStreamInterruptChecker5=!1;d.$OzStreamInterruptChecker1=b;d.$OzStreamInterruptChecker2=c;return d}var c=b.prototype;c.notifyMpdUpdated=function(){var a=g(this.$OzStreamInterruptChecker1),b=a?a.endTime:null;b!==null&&b===this.$OzStreamInterruptChecker4?this.$OzStreamInterruptChecker3++:(this.$OzStreamInterruptChecker3=0,this.$OzStreamInterruptChecker5&&this.$OzStreamInterruptChecker4!==null&&this.$OzStreamInterruptChecker4!==void 0&&a!==null&&a!==void 0&&this.emit("streamResumedAt",a.startTime),this.$OzStreamInterruptChecker5=!1);a=this.$OzStreamInterruptChecker2.getNumber("stream_interrupt_check_mpd_stale_count_threshold");!this.$OzStreamInterruptChecker5&&a>0&&this.$OzStreamInterruptChecker3>=a&&b!==null&&b!==void 0&&(this.emit("streamInterruptAt",b),this.$OzStreamInterruptChecker5=!0);this.$OzStreamInterruptChecker4=b};return b}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/parsers/OzMpdUpdater",["oz-player/shims/ozClearTimeout","oz-player/shims/OzEventEmitter","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMpdUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/OzStreamInterruptChecker","oz-player/parsers/OzMpdParser"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/utils/OzMpdUtils").getMpdLastSequenceNumber,h=b("oz-player/utils/OzMpdUtils").getMpdLastTimeRange,i=b("oz-player/utils/OzReadableStreamUtils").pumpString;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,i,j,k){var l;l=a.call(this)||this;l.$OzMpdUpdater8=new(b("oz-player/utils/OzErrorEmitter"))();l.$OzMpdUpdater10=new(b("oz-player/shims/OzSubscriptionsHandler"))();l.$OzMpdUpdater11=!1;l.$OzMpdUpdater15=function(){var a=l.$OzMpdUpdater2.getLocation();if(!a)return;if(l.$OzMpdUpdater6.getBool("live_disable_mpd_updates_when_paused")&&!l.$OzMpdUpdater12.isPlaying()){l.setupUpdateLoop();return}var c=l.$OzMpdUpdater5.getOperationLogger("update_manifest").start();l.$OzMpdUpdater16(a).then(function(d){l.$OzMpdUpdater7=0;var e=Object.assign({},l.$OzMpdUpdater13,{mpdUrl:a});e=new(b("oz-player/parsers/OzMpdParser"))(l.$OzMpdUpdater6,e,l.$OzMpdUpdater1,l.$OzMpdUpdater5,l.$OzMpdUpdater14);e.onError(function(a){l.$OzMpdUpdater8.emitError(a),c.setError(a).log()});e=e.parse(d);d=l.$OzMpdUpdater2.isStaticMpd();l.$OzMpdUpdater2.updateWith(e);e.isStaticMpd()&&!d&&l.emit("streamTransitionToStatic");e=h(l.$OzMpdUpdater2);d=e&&e.endTime!=0?e.endTime:null;c.setLiveheadPosition(d).setLiveheadSeqNum(g(l.$OzMpdUpdater2)).setManifestType(l.$OzMpdUpdater2.isStaticMpd()?"static":"dynamic").log();l.$OzMpdUpdater9.notifyMpdUpdated();l.setupUpdateLoop()})["catch"](function(a){c.setError(a).log();if(l.$OzMpdUpdater6.getBool("live_gracefully_handle_mpd_errors")){var d;a instanceof b("oz-player/utils/OzError")&&(d=a.getExtra().code||"");var e=["404","503"];l.$OzMpdUpdater6.getBool("live_gracefully_handle_no_network")&&e.push("0");var f=l.$OzMpdUpdater6.getNumber("live_max_try_attempts_on_404"),g=!1;if(d&&e.indexOf(d)>-1)switch(d){case"410":l.$OzMpdUpdater11=!0;g=!0;break;case"404":l.$OzMpdUpdater7++;if(l.$OzMpdUpdater7>=f)break;case"503":case"0":g=!0;break}if(g){l.setupUpdateLoop();return}}l.$OzMpdUpdater8.emitError(a)})};var m=d.getMinimumUpdatePeriod();l.$OzMpdUpdater7=0;l.$OzMpdUpdater1=e;l.$OzMpdUpdater2=d;l.$OzMpdUpdater12=f;l.$OzMpdUpdater3=m;l.$OzMpdUpdater5=i.cloneContext().setType("manifest");l.$OzMpdUpdater6=c;l.$OzMpdUpdater13=j;l.$OzMpdUpdater14=k;l.$OzMpdUpdater2.addListener("locationUpdated",function(){b("oz-player/shims/ozClearTimeout")(l.$OzMpdUpdater4),l.$OzMpdUpdater15()});l.$OzMpdUpdater9=new(b("oz-player/utils/OzStreamInterruptChecker"))(l.$OzMpdUpdater2,l.$OzMpdUpdater6);l.$OzMpdUpdater10.addSubscriptions(l.$OzMpdUpdater9.addListener("streamResumedAt",function(a){l.emit("streamResumedAt",a)}),l.$OzMpdUpdater9.addListener("streamInterruptAt",function(a){l.emit("streamInterruptAt",a)}));return l}var d=c.prototype;d.setupUpdateLoop=function(){var a=!this.$OzMpdUpdater11;a&&this.$OzMpdUpdater6.getBool("stop_manifest_update_when_static")&&(a=!this.$OzMpdUpdater2.isStaticMpd(),this.$OzMpdUpdater3=this.$OzMpdUpdater2.getMinimumUpdatePeriod());a&&this.$OzMpdUpdater3&&this.$OzMpdUpdater2.getLocation()&&(this.$OzMpdUpdater4=b("oz-player/shims/ozSetTimeoutAcrossTransitions")(this.$OzMpdUpdater15,this.$OzMpdUpdater3*1e3))};d.onError=function(a){return this.$OzMpdUpdater8.onError(a)};d.$OzMpdUpdater16=function(a){a=this.$OzMpdUpdater1.requestRawUrl(a,{credentials:"same-origin"},null,this.$OzMpdUpdater5);a=a.getStream().getReader();return i(a)};d.destroy=function(){this.$OzMpdUpdater4&&b("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater4),this.$OzMpdUpdater10.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/playback_controls/OzPlaybackTimeRangeManager",["oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime;a=function(){function a(a,b,c,d){this.$3=null,this.$4=0,this.$5=0,this.$6=!0,this.$7=0,this.$8=0,this.$1=a,this.$2=b,this.$7=c,this.$8=d}var b=a.prototype;b.setTimelineBlockingEnabled=function(a){this.$6=a,this.$6||this.$2.unblockTimeRange()};b.setTimeRangeProvider=function(a){var b=this;this.$3!=null&&this.$3.remove();this.$3=a.addUpdateListener(function(){var c=a.getTimeRanges(),d=0;if(c.length!==0){c=c[c.length-1];d=c.endTime}b.$9(d)})};b.$9=function(a){if(!this.$6)return;if(this.$4===a)return;this.$4=a;if(this.$1.currentTime<=this.$5)return;if(this.$8!==0&&this.$7!==0&&this.$1.duration-this.$1.currentTime>this.$7){a=[];for(var b=0;b<this.$1.buffered.length;b++)a.push({startTime:this.$1.buffered.start(b),endTime:this.$1.buffered.end(b)});b=g(this.$1.currentTime,a);this.$5=this.$1.currentTime+Math.min(b,this.$8);a={startTime:this.$5,endTime:this.$1.duration-this.$8};this.$2.blockTimeRange(a)}};b.destroy=function(){this.$3!=null&&(this.$3.remove(),this.$3=null)};return a}();e.exports=a}),null);
__d("oz-player/strategies/LiveheadSeekaheadStrategy",[],(function(a,b,c,d,e,f){"use strict";var g=.05;function a(a,b){b=Math.max.apply(Math,b.map(function(a){return a.startTime}));return b-a>0?b-a+g:0}e.exports={computeSeekAhead:a}}),null);
__d("oz-player/utils/OzTimelineGapUtil",["oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f){"use strict";var g=1.5;function a(a,c){c=c.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});return new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,c)===-1}function c(a,c){var d=c.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,d);if(d!==-1){c=c[d];return b("oz-player/utils/OzNumericalHelper").lessThanOrEqual(a,c.endTime)&&c.endTime-a<g}return!1}e.exports={isNearGap:c,isInGap:a}}),null);
__d("oz-player/playback_controls/OzPlayheadManager",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozvariant","oz-player/strategies/LiveheadSeekaheadStrategy","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzTimelineGapUtil"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/OzDOMEventListener").listenDOMEvent,h=b("oz-player/strategies/LiveheadSeekaheadStrategy").computeSeekAhead,i=b("oz-player/utils/OzTimelineGapUtil").isInGap,j=b("oz-player/utils/OzTimelineGapUtil").isNearGap;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$OzPlayheadManager2=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayheadManager3=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayheadManager4=new Set();d.$OzPlayheadManager10=new Set();d.$OzPlayheadManager12=function(a){d.$OzPlayheadManager1.currentTime=a};d.$OzPlayheadManager14=!1;var e=c.video,f=c.mpd,h=c.playheadCatchup,i=c.playbackState,j=c.config,k=c.perfLoggerProvider,l=c.seekHandler;c=c.initialPlaybackPosition;d.$OzPlayheadManager1=e;d.$OzPlayheadManager6=j;d.$OzPlayheadManager7=i;d.$OzPlayheadManager8=f;d.$OzPlayheadManager9=h;d.$OzPlayheadManager11=k;l&&(d.$OzPlayheadManager12=l);d.$OzPlayheadManager13=c;d.$OzPlayheadManager2.addSubscriptions(g(d.$OzPlayheadManager1,"durationchange",function(){d.$OzPlayheadManager15(),d.$OzPlayheadManager16("durationchange"),d.$OzPlayheadManager17("durationchange")}),g(d.$OzPlayheadManager1,"pause",d.$OzPlayheadManager16.bind(babelHelpers.assertThisInitialized(d),"pause")),g(d.$OzPlayheadManager1,"play",d.$OzPlayheadManager16.bind(babelHelpers.assertThisInitialized(d),"play")),g(d.$OzPlayheadManager1,"playing",d.$OzPlayheadManager16.bind(babelHelpers.assertThisInitialized(d),"playing")),g(d.$OzPlayheadManager1,"waiting",function(){d.$OzPlayheadManager16.bind(babelHelpers.assertThisInitialized(d),"waiting"),d.$OzPlayheadManager17("waiting")}));return d}var d=c.prototype;d.observeSourceBufferState=function(a,c){var d=this;this.$OzPlayheadManager4.has(a)&&b("oz-player/shims/ozvariant")(0,4179);this.$OzPlayheadManager4.add(a);this.$OzPlayheadManager2.addSubscriptions(a.addEventListener("buffer_updated",function(){return d.$OzPlayheadManager18(a,c)}))};d.$OzPlayheadManager18=function(a,b){var c=[];if(this.$OzPlayheadManager6.getBool("check_buffer_range_once_for_playhead_update")&&this.$OzPlayheadManager10.has(a))return;this.$OzPlayheadManager4.forEach(function(a){a=a.getBufferedRanges();a.length&&c.push(a[0])});c.length>0&&this.$OzPlayheadManager10.add(a);a=this.$OzPlayheadManager6.getBool("seek_ahead_use_native_current_time")?this.$OzPlayheadManager1.currentTime:this.$OzPlayheadManager7.getCurrentTime();a=h(a,c);var d=this.$OzPlayheadManager6.getNumber("timeline_offset_threshold");a>0&&(d===0||a<d)&&this.$OzPlayheadManager19(this.$OzPlayheadManager1.currentTime+a,"first_available_buffer","source_buffer",b)};d.setTimeRangeProvider=function(a){this.$OzPlayheadManager3.release(),this.$OzPlayheadManager3.engage(),this.$OzPlayheadManager3.addSubscriptions(a.addUpdateListener(this.$OzPlayheadManager16.bind(this,"time_range_updated"))),this.$OzPlayheadManager5=a,this.$OzPlayheadManager16("time_range_set")};d.$OzPlayheadManager15=function(){var a=this.$OzPlayheadManager1.duration;if(this.$OzPlayheadManager13!==0&&!this.$OzPlayheadManager14&&!isNaN(a)&&a!==Infinity){a=this.$OzPlayheadManager13>0?this.$OzPlayheadManager13:a+this.$OzPlayheadManager13;this.$OzPlayheadManager14=!0;this.$OzPlayheadManager19(a,"initial_playback_position","");this.emit("initialPlaybackPositionSet",a)}};d.$OzPlayheadManager16=function(a,c){c===void 0&&(c=null);var d=this.$OzPlayheadManager9;if(d&&d.isEnabled(this.$OzPlayheadManager1,this.$OzPlayheadManager8)){d=d.computeNewPlayheadPosition(this.$OzPlayheadManager1,this.$OzPlayheadManager8);if(typeof d==="number"){this.$OzPlayheadManager19(d,"live_catch_up_strategy",a,c);return}}d=this.$OzPlayheadManager6.getNumber("auto_seek_playhead_slack");if(d===0)return;var e=this.$OzPlayheadManager5;if(!e)return;var f=this.$OzPlayheadManager7.getCurrentTime(),g=e.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),h=new(b("oz-player/utils/OzNumericalRangeUtil"))().findNextRangeIndex(f,g);if((j(f,e.getTimeRanges())||i(f,e.getTimeRanges()))&&h!==-1){f=g[h];this.$OzPlayheadManager19(f.rangeStart+d,"jump_over_timeline_gap",a,c)}};d.$OzPlayheadManager17=function(a){if(!this.$OzPlayheadManager6.getBool("skip_videobuffer_gaps"))return;var c=this.$OzPlayheadManager6.getNumber("auto_seek_playhead_slack");if(c===0)return;var d=this.$OzPlayheadManager7.getCurrentTime(),e=[];for(var f=0;f<this.$OzPlayheadManager1.buffered.length;f++)e.push({startTime:this.$OzPlayheadManager1.buffered.start(f),endTime:this.$OzPlayheadManager1.buffered.end(f)});f=e.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});var g=new(b("oz-player/utils/OzNumericalRangeUtil"))().findNextRangeIndex(d,f);if((j(d,e)||i(d,e))&&g!==-1){d=f[g];this.$OzPlayheadManager19(d.rangeStart+c,"jump_over_buffer_gap",a,null);return}};d.destroy=function(){this.$OzPlayheadManager2.release(),this.$OzPlayheadManager3.release(),this.$OzPlayheadManager4.clear()};d.$OzPlayheadManager19=function(a,b,c,d){var e=a-this.$OzPlayheadManager1.currentTime,f=this.$OzPlayheadManager6.getNumber("seek_ahead_epsilon");if(f>0&&e<=f)return;this.$OzPlayheadManager11.getOperationLogger("playhead_adjustment").setLength(Math.round(e*1e3)).setReason(b).setInitiator(c).setType(d).log();this.$OzPlayheadManager12(a)};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/playback_controls/OzPlayheadNudger",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/OzDOMEventListener").listenDOMEvent;a=function(){function a(a,c){this.$2=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$3=null,this.$1=c,this.$4=a,this.$2.addSubscriptions(g(this.$1,"timeupdate",this.$5.bind(this)),g(this.$1,"playing",this.$6.bind(this)),g(this.$1,"pause",this.$7.bind(this)))}var c=a.prototype;c.$5=function(){var a=this.$4.getNumber("playhead_nudge_slack");if(a===0)return;var b=this.$3;b!=null&&!this.$1.paused&&this.$1.readyState===4&&(this.$1.currentTime===b&&(this.$1.currentTime+=a),this.$3=null)};c.$6=function(){this.$3=this.$1.currentTime};c.$7=function(){this.$3=null};c.destroy=function(){this.$2.release()};return a}();e.exports=a}),null);
__d("oz-player/states/OzObservedPlaybackState",["oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider,h=b("oz-player/shims/OzDOMEventListener").listenDOMEvent,i=150;a=function(){function a(a,c){var d=this;c===void 0&&(c=new g([]));this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$6=function(){d.$4.getOperationLogger("pause").setState("paused").log()};this.$7=function(){d.$5(),d.$4.getOperationLogger("playing").setState("playing").log()};this.$5=function(){d.$2=d.$1.currentTime};this.$1=a;this.$4=c;this.$2=this.$1.currentTime;this.$3.addSubscriptions(h(this.$1,"seeked",this.$5),h(this.$1,"seeking",this.$5),h(this.$1,"timeupdate",b("oz-player/shims/ozThrottle")(this.$5,i)),h(this.$1,"pause",this.$6),h(this.$1,"playing",this.$7))}var c=a.prototype;c.isPlaying=function(){return!this.$1.paused};c.getCurrentTime=function(){return this.$2};c.forceUpdateCurrentTime=function(){this.$5()};c.getDuration=function(){return this.$1.duration};c.addEventListener=function(a,b){return h(this.$1,a,b)};c.destroy=function(){this.$3.release()};return a}();e.exports=a}),null);
__d("oz-player/strategies/getSegmentsCount",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){var e=0,f=a.getTimeRange().startTime;a=a;var g=a.getTimeRange().startTime;while(a!==null&&g<c+f){var h=g;e++;a=b.getSegmentAfter(a);if(a)g=a.getTimeRange().startTime;else break;if(g<=h)return d}return Math.max(e,1)}e.exports=a}),null);
__d("oz-player/strategies/OzStaticStreamSegmentsStrategy",["oz-player/strategies/getSegmentsCount"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var c=a.prototype;c.isActive=function(){return!0};c.getSegmentsCount=function(a,c,d){a=this.$1.getNumber("seconds_to_stream");var e=this.$1.getNumber("segments_to_stream");a>0&&(e=b("oz-player/strategies/getSegmentsCount")(c,d,a,e));return e};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy",["oz-player/networks/OzBandwidthEstimator","oz-player/strategies/getSegmentsCount","oz-player/strategies/OzStaticStreamSegmentsStrategy"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c){this.$1=a,this.$2=c,this.$3=new(b("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(a)}var c=a.prototype;c.isActive=function(a){return!0};c.getSegmentsCount=function(a,c,d){var e=b("oz-player/networks/OzBandwidthEstimator").getBandwidth(this.$1.getLegacyConfig()),f=b("oz-player/networks/OzBandwidthEstimator").getStandardDeviationOfBandwidth(),g=this.$1.getNumber("bandwidth_boundary_standard_deviation_factor"),h=this.$2.some(function(a){a=a.getBandwidth();return Math.abs(a-e)<f*g});h=h?this.$4(a,c,d):this.$3.getSegmentsCount(a,c,d);a=this.$5(c,e);return Math.min(h,a)};c.$4=function(a,c,d){a=this.$1.getNumber("seconds_to_stream_near_bandwidth_boundary");var e=this.$1.getNumber("segments_to_stream_near_bandwidth_boundary");a>0&&(e=b("oz-player/strategies/getSegmentsCount")(c,d,a,e));return e};c.$5=function(a,b){var c=Infinity;a=a.getByteRange();if(a){var d=a.endByte;if(d!==null&&d!==void 0){var e=this.$1.getNumber("per_stream_duration_target");d=d-a.startByte;e>1e-5&&d!==0&&(c=Math.ceil(e*b/(d*8)))}}return c};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzPlaybackConfidenceUtils",[],(function(a,b,c,d,e,f){"use strict";var g=.8;function a(a,b,c,d,e,f,i,j){c=Math.min(1,c/d);d=1+(1-c)*e;c=a.getBandwidth()*d;if(c>b)return g*(b/c);e=0;if(f!=null&&i!=null&&j>0){d=h(a,b,f,i);d!=null&&d>0&&(e=d/1e3*j)}return 1-(1-g)*c/b-e}function h(a,b,c,d){var e=a.getBandwidth();a=a.getSegment(0);if(a){a=a.getTimeRange();a=(a.endTime-a.startTime)*c;c=a*e/b*1e3+d;return c-a*1e3}}e.exports={getPlaybackConfidence:a,getEstimatedDownloadTimeBufferDeltaMs:h}}),null);
__d("oz-player/utils/OzAbrUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c,d){var e=a.getNumber("resolution_constraint_factor");if(e===0)return b;a=b.filter(function(a){return a.getWidth()<=c.width*d*e||a.getHeight()<=c.height*d*e});return!a.length?[b[0]]:a};b=function(a,b,c,d,e,f){b=b?a.getNumber("min_switch_interval"):a.getNumber("initial_switch_interval");d=d>=a.getNumber("abr_min_bandwidth_samples");var g=a.getNumber("abr_eval_buffer_threshold");c=!g||c>=g;g=null;e+a.getNumber("min_eval_interval")>Date.now()?g="min_eval_interval":f+b>Date.now()?g="min_switch_interval":!d?g="min_bandwidth_samples":c||(g="buffer_threshold_not_satisfied");return g};e.exports={excludeLargeRepresentations:a,getReasonToPreventEvaluation:b}}),null);
__d("oz-player/utils/OzPlaybackRestrictionsUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c){if(c.length===0)return[];c.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});return a.reduce(function(a,c){return c.applyRestriction(a,b)},c)};e.exports={applyVideoPlaybackRestrictions:a}}),null);
__d("oz-player/strategies/OzAbrManager",["oz-player/networks/OzBandwidthEstimator","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils","oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy","oz-player/strategies/OzPlaybackConfidenceUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/utils/OzAbrUtils").excludeLargeRepresentations,h=b("oz-player/utils/OzAbrUtils").getReasonToPreventEvaluation,i=b("oz-player/utils/OzBufferingUtils").getBufferAheadFromPlaybackStates,j=b("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions;a=function(){function a(a,c,d,e,f,g,h){this.$2=0,this.$3=Date.now(),this.$4=!1,this.$10=null,this.$1=a,this.$5=c,this.$6=this.$14(c,d),this.$7=e,this.$8=f,this.$11=g,this.$12=new(b("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy"))(a,d),this.$13=h}var c=a.prototype;c.setSourceBuffer=function(a){this.$9=a};c.$14=function(a,b){var c=this.$1.getNumber("abr_restrict_from_index"),d=this.$1.getNumber("abr_restrict_to_index");if(d===0&&c===0)return b;var e=b.findIndex(function(b){return a.getID()===b.getID()});return e===-1?b:b.filter(function(a,b){return b-e>=c&&b-e<=d})};c.$15=function(a){a=g(this.$1,a,this.$13(),this.$11);a=j(this.$7,this.$13(),a);return a};c.getBestRepresentation=function(a){a===void 0&&(a=null);var c=i(this.$9,this.$8),d=h(this.$1,this.$4,c,b("oz-player/networks/OzBandwidthEstimator").getSampleCount(),this.$2,this.$3);if(d!==null&&d!==void 0){this.$10=d;return this.$5}d=Date.now();this.$2=d;var e=b("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1.getLegacyConfig()),f=this.$15(this.$6),g=null;this.$1.getBool("abr_use_download_time")&&a!=null?g=this.$16(f,e,a)||this.$17(f,e,c,a):g=this.$17(f,e,c,a);e=this.$1.getBool("fix_abr_default_representation")?f[0]:this.$6[0];g=g||e;if(this.$18(c,g)){this.$10="high_buffer";return this.$5}this.$5!==g&&(this.$4=!0,this.$3=d,this.$5=g);this.$10="bandwidth";return g};c.$17=function(a,c,d,e){e===void 0&&(e=null);var f=null;for(var g=0;g<a.length;g++){var h=b("oz-player/strategies/OzPlaybackConfidenceUtils").getPlaybackConfidence(a[g],c,d,this.$1.getNumber("low_buffer_bandwidth_target_threshold"),this.$1.getNumber("low_buffer_bandwidth_target_increase_factor"),e,b("oz-player/networks/OzBandwidthEstimator").getEstimatedTimeToFirstByteMs(this.$1.getLegacyConfig()),this.$1.getNumber("download_time_buffer_delta_penalty_factor"));h>this.$1.getNumber("abr_confidence_threshold")&&(!f||f.getBandwidth()<a[g].getBandwidth())&&(f=a[g])}return f};c.$16=function(a,c,d){for(var e=a.length-1;e>=0;e--){var f=b("oz-player/strategies/OzPlaybackConfidenceUtils").getEstimatedDownloadTimeBufferDeltaMs(a[e],c,d,b("oz-player/networks/OzBandwidthEstimator").getEstimatedTimeToFirstByteMs(this.$1.getLegacyConfig())||0);if(f!=null&&f+this.$1.getNumber("minimum_download_additional_buffer_ms")<0)return a[e]}return null};c.$18=function(a,b){var c=this.$1.getNumber("abr_prevent_down_switch_buffer_threshold");return c>0&&a>=c&&this.$5.getBandwidth()>b.getBandwidth()?!0:!1};c.getStreamSegmentsCountStrategy=function(){return this.$12};c.getLastEvaluationReason=function(){return this.$10};c.updateRepresentations=function(a){var b=this;this.$6=a;this.$5=(a=this.$6[0])!=null?a:this.$5;this.$6.forEach(function(a){b.$5.getQualityLabel()===a.getQualityLabel()&&(b.$5=a)})};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzAudioIBRManager",["oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var c=a.prototype;c.getInitialAudioRepresentation=function(a){var c=b("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1.getLegacyConfig());a=a.slice(0);a.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});var d=this.$1.getNumber("live_audio_ibr_bandwidth_percentage");d=c*d;for(var e=a.length-1;e>=0;e--)if(a[e].getBandwidth()<=d){this.$2.getOperationLogger("audio_ibr_success").setRepresentationID(a[e].getID()).setReason(c.toString()).log();return a[e]}this.$2.getOperationLogger("audio_ibr_no_op").setReason(c.toString()).log();return null};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBufferAheadPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime,h=6,i=1e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$OzBufferAheadPriorityStrategy3=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$OzBufferAheadPriorityStrategy4=function(){d.emit("state_changed")};d.$OzBufferAheadPriorityStrategy1=c;d.$OzBufferAheadPriorityStrategy3.addSubscriptions(d.$OzBufferAheadPriorityStrategy1.addEventListener("progress",b("oz-player/shims/ozThrottle")(d.$OzBufferAheadPriorityStrategy4,i)),d.$OzBufferAheadPriorityStrategy1.addEventListener("timeupdate",b("oz-player/shims/ozThrottle")(d.$OzBufferAheadPriorityStrategy4,i)));return d}var d=c.prototype;d.getName=function(){return"buffer_ahead"};d.setSourceBufferState=function(a){if(this.$OzBufferAheadPriorityStrategy2)return;this.$OzBufferAheadPriorityStrategy3.addSubscriptions(a.addEventListener("buffer_updated",b("oz-player/shims/ozThrottle")(this.$OzBufferAheadPriorityStrategy4,i)))};d.isActive=function(){return!0};d.getPriority=function(){var a=this.$OzBufferAheadPriorityStrategy2;if(!a)return 1;var b=this.$OzBufferAheadPriorityStrategy1.getCurrentTime();a=a.getBufferedRanges();b=g(b,a);return b>=h?0:1};d.destroy=function(){this.$OzBufferAheadPriorityStrategy3.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/strategies/OzBufferAheadTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!0};b.getBufferTarget=function(){return this.$1.getNumber("buffer_ahead_target")};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(a){return!a.isPlaying()};b.getSegmentsCount=function(a,b,c){a=a.getCurrentTime();var d=this.$1.computeBufferTarget(),e=1,f=b;b=b.getTimeRange().startTime;while(f!==null&&b<d+a){f=c.getSegmentAfter(f);if(!f)break;b=f.getTimeRange().startTime;e++}return e};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBufferTargetCalculator",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=0,this.$2=a}var b=a.prototype;b.computeBufferTarget=function(){for(var a=this.$2,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.isActive()){d=d.getBufferTarget();this.$1=d;return d}}return this.$1};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzLiveheadDeltaCatchupStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isEnabled=function(a,b){return(!this.$1.getBool("live_catch_up_only_when_paused")||a.paused)&&typeof b.getMinimumUpdatePeriod()==="number"};b.computeNewPlayheadPosition=function(a,b){a=a.currentTime;b=b.getVideoRepresentations()[0];if(!b)return null;b=b.getTimeRanges();if(b.length===0)return null;b=b[b.length-1].endTime;return b-a>this.$1.getNumber("live_catch_up_fall_behind_threshold")?b-this.$1.getNumber("live_catch_up_live_head_delta"):null};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzPausedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(){return!this.$1.isPlaying()};b.getSegmentsCount=function(a,b,c){return this.$2.getNumber("paused_stream_segments_count")};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzPlayheadAtInterruptionDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/OzDOMEventListener").listenDOMEvent,h=1;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$OzPlayheadAtInterruptionDetector2=null;d.$OzPlayheadAtInterruptionDetector3=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayheadAtInterruptionDetector1=c;d.$OzPlayheadAtInterruptionDetector3.addSubscriptions(g(d.$OzPlayheadAtInterruptionDetector1,"waiting",d.$OzPlayheadAtInterruptionDetector4.bind(babelHelpers.assertThisInitialized(d))));return d}var d=c.prototype;d.notifyStreamInterrupted=function(a){this.$OzPlayheadAtInterruptionDetector2=a,this.$OzPlayheadAtInterruptionDetector4()};d.notifyStreamResumed=function(){this.$OzPlayheadAtInterruptionDetector2=null};d.$OzPlayheadAtInterruptionDetector4=function(){if(this.$OzPlayheadAtInterruptionDetector2!=null){var a=this.$OzPlayheadAtInterruptionDetector2||0;Math.abs(this.$OzPlayheadAtInterruptionDetector1.currentTime-a)<h&&this.emit("playheadAtInterruption",a)}};d.destroy=function(){this.$OzPlayheadAtInterruptionDetector3.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/strategies/OzPlayingStatePriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$OzPlayingStatePriorityStrategy1=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayingStatePriorityStrategy3=function(){d.emit("state_changed")};d.$OzPlayingStatePriorityStrategy2=c;d.$OzPlayingStatePriorityStrategy1.addSubscriptions(d.$OzPlayingStatePriorityStrategy2.addEventListener("playing",d.$OzPlayingStatePriorityStrategy3),d.$OzPlayingStatePriorityStrategy2.addEventListener("play",d.$OzPlayingStatePriorityStrategy3),d.$OzPlayingStatePriorityStrategy2.addEventListener("pause",d.$OzPlayingStatePriorityStrategy3));return d}var d=c.prototype;d.isActive=function(){return!0};d.getName=function(){return"playing_state"};d.setSourceBufferState=function(a){};d.getPriority=function(){return this.$OzPlayingStatePriorityStrategy2.isPlaying()?1:0};d.destroy=function(){this.$OzPlayingStatePriorityStrategy1.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/strategies/OzPriorityCalculator",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$OzPriorityCalculator2=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPriorityCalculator1=c;(c=d.$OzPriorityCalculator2).addSubscriptions.apply(c,d.$OzPriorityCalculator1.map(function(a){return a.addListener("state_changed",function(b){d.emit("state_changed",d.compute(),a.getName())})}));return d}var d=c.prototype;d.setSourceBufferState=function(a){this.$OzPriorityCalculator1.forEach(function(b){return b.setSourceBufferState(a)}),this.emit("state_changed",this.compute(),"source_buffer")};d.compute=function(){return this.$OzPriorityCalculator1.reduce(function(a,b){b=b.isActive()?b.getPriority():0;return a+b},0)};d.destroy=function(){this.$OzPriorityCalculator2.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/strategies/OzStartupBufferTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$3=b}var b=a.prototype;b.isActive=function(){var a=this.$1.isPlaying();a&&(this.$2=!0);return!this.$2};b.getBufferTarget=function(){return this.$3.getNumber("pre_start_buffer_ahead_target")};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzStreamSegmentsCountCalculator",[],(function(a,b,c,d,e,f){"use strict";var g=1;a=function(){function a(a){this.$1=a}var b=a.prototype;b.computeMin=function(a,b,c){var d=Number.MAX_VALUE;for(var e=this.$1,f=Array.isArray(e),h=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;i.isActive(a)&&(d=Math.min(d,i.getSegmentsCount(a,b,c)))}return d===Number.MAX_VALUE?g:Math.max(d,g)};return a}();e.exports=a}),null);
__d("oz-player/streams/OzEndOfStreamWatcher",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this)||this;e.$OzEndOfStreamWatcher1=new Map();e.$OzEndOfStreamWatcher2=new(b("oz-player/shims/OzSubscriptionsHandler"))();e.$OzEndOfStreamWatcher3=c;e.$OzEndOfStreamWatcher4=d;return e}var d=c.prototype;d.registerMediaStream=function(a){this.$OzEndOfStreamWatcher1.has(a)&&b("oz-player/shims/ozvariant")(0,5191),this.$OzEndOfStreamWatcher1.set(a,!1)};d.notifyRepresentationSwitched=function(a){this.$OzEndOfStreamWatcher1.has(a)||b("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher5()};d.notifyMediaStreamEnded=function(a){this.$OzEndOfStreamWatcher1.has(a)||b("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher1.set(a,!0),this.$OzEndOfStreamWatcher5()};d.$OzEndOfStreamWatcher5=function(){var a=this.$OzEndOfStreamWatcher3.getMediaSource();(this.$OzEndOfStreamWatcher4.getBool("allow_queueing_end_of_stream_when_update")||a.readyState==="open")&&this.$OzEndOfStreamWatcher6()&&(this.$OzEndOfStreamWatcher3.notifyEndOfStream(),this.emit("streamEnd"))};d.$OzEndOfStreamWatcher6=function(){if(this.$OzEndOfStreamWatcher1.size===0)return!1;for(var a=this.$OzEndOfStreamWatcher1.values(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(!d)return!1}return!0};d.destroy=function(){this.$OzEndOfStreamWatcher1.clear()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/streams/OzHandleUserRepresentationSwitch",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e,f){var g=this;this.$4=null;this.$5=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$1=a;this.$2=c;this.$3=d;this.$6=e;f.then(function(a){g.$4=a});this.$5.addSubscriptions(e.addListener("switchRepresentation",this.$7.bind(this)))}var c=a.prototype;c.cleanup=function(){this.$5.release(),this.$5.engage()};c.$7=function(a,b){if(a!=="user")return;a=this.$6.getRepresentationIDAtTime(this.$2.getCurrentTime());var c;if(this.$4){for(var d=0;d<this.$3.length;d++)this.$3[d].getID()===a&&(c=this.$3[d]);if(c&&b&&c.getBandwidth()<b.getBandwidth()){a=c.getSegmentByTime(this.$2.getCurrentTime());a&&(this.$4&&this.$4.clearRange(this.$2.getCurrentTime(),this.$2.getDuration()))}}};return a}();e.exports=a}),null);
__d("oz-player/networks/OzReadableStreamDataReader",["oz-player/utils/ozConcatArrayBuffer","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$OzReadableStreamDataReader1=new ArrayBuffer(0);c.$OzReadableStreamDataReader2=b;return c}var d=c.prototype;d.onDataWritten=function(a){this.$OzReadableStreamDataReader1=b("oz-player/utils/ozConcatArrayBuffer")(this.$OzReadableStreamDataReader1,a.buffer)};d.onClose=function(){this.$OzReadableStreamDataReader2(this.$OzReadableStreamDataReader1)};return c}(b("oz-player/networks/OzTransformStream"));e.exports=a}),null);
__d("oz-player/shims/ozPerformanceNow",["requireCond","performanceNow","cr:1615803"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1615803")}),null);
__d("oz-player/networks/OzStreamingTask",["Promise","oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozPerformanceNow","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes;a=function(){function a(a,c){this.$3=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),this.$5=!1,this.$1=this.$2=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),this.$6=b("oz-player/shims/ozPerformanceNow")(),this.$7=c,this.$8=a}var c=a.prototype;c.run=function(){var a=this.$3.getPromise(),c=this.$7;if(c){var d=b("oz-player/shims/ozPerformanceNow")()-this.$6;g(a,c,"streaming_task",function(){},function(a){a.setTimeToRequestSent(Math.floor(d))})["catch"](function(){})}this.$2.resolve();return a};c.cancel=function(){this.$3.getPromise()["catch"](function(){}),this.$3.reject(new(b("oz-player/utils/OzError"))({type:"OZ_STREAMING_TASK",description:"task cancelled",extra:{code:"OZ_ST-1"}})),this.$5=!0};c.finish=function(){this.$3.resolve()};c.isCancelled=function(){return this.$5};c.addStream=function(a,c,d){var e=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$9({pausableStreamPromise:b("Promise").resolve({pausableStream:a,loggingPayloads:d}),changeStatusDeferred:e,createStreamDeferred:new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),loggerProviderWithStreamContext:c,loggingPayloads:d});return{getStream:function(){return a.getStream()},cancel:function(){return a.pauseStream()},getStatusChangePromise:function(){return e.getPromise()}}};c.addStreamDeferred=function(a,c){var d=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),e=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$9({pausableStreamPromise:a,changeStatusDeferred:d,createStreamDeferred:e,loggerProviderWithStreamContext:c});var f=function(){return e.getPromise()};return{genStream:f,cancel:function(){f().then(function(a){return a.pauseStream()})},getStatusChangePromise:function(){return d.getPromise()}}};c.$9=function(a){var c=this,d=a.pausableStreamPromise,e=a.changeStatusDeferred,f=a.createStreamDeferred,i=a.loggerProviderWithStreamContext,j=a.loggingPayloads;a=this.$1.getPromise();var k=b("oz-player/shims/ozPerformanceNow")(),l=this.$1=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));a.then(function(){return d}).then(function(a){if(a){var d=a.pausableStream;a.loggingPayloads&&(j=a.loggingPayloads);f.resolve(d.getStream());c.$4=d;var e=b("oz-player/shims/ozPerformanceNow")();a=c.$10(d.startStream());i&&g(a,i,"fetch_stream",function(){},function(a){j&&h(a,j.getRequestUrl(),j.isPrefetch(),j.segments,e-k,d.getBytesStreamed(),j.getResponse())});return a}return null}).then(function(a){c.$4=null,l.resolve(),e.resolve(a||"cancelled")})["catch"](function(a){c.$4=null,c.$3.reject(a),e.reject(a)})};c.$10=function(a){return a.then(function(a){a=a.statusPromise;return a.then(function(a){return a==="stream_done"?"done":"error"})})};return a}();e.exports=a}),null);
__d("oz-player/networks/OzStreamingTaskStateManager",["Promise","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/networks/OzStreamingTask","oz-player/networks/OzStreamingTaskQueueProvider"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e){var f=this;this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$4=0;this.$9=!1;this.$5=a;this.$1=c;this.$6=b("oz-player/networks/OzStreamingTaskQueueProvider").getQueue(this.$5);this.$7=d;this.$8=e;this.$3.addSubscriptions(this.$1.addListener("state_changed",function(a,b){f.$10(a,b),f.$2&&f.$6.updatePriority(f.$2,f.$4)}))}var c=a.prototype;c.startStream=function(a){var b=a.streamableSegments,c=a.networkManager;a=a.segmentsLoggerProvider;var d=this.$11(a),e=this.$12();c=c.createPausableStream(b,e,a);b=c.pausableStream;e=c.loggingPayloads;this.$9=!0;c=d.addStream(b,a,e);d={getStream:c.getStream,cancel:c.cancel,getStatusChangePromise:this.$13(c.getStatusChangePromise)};return d};c.$12=function(){var a=[];a.push(b("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$5));return a};c.startStreamDeferred=function(a){var c=a.segmentsPromise,d=a.networkManager,e=a.segmentsLoggerProvider;a=this.$11(e);var f=this.$12(),g=new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,b){c.then(function(b){b.length>0?a(d.createPausableStream(b,f,e)):a(null)})["catch"](function(a){return b(a)})});this.$9=!0;a=a.addStreamDeferred(g,e);g={genStream:a.genStream,cancel:a.cancel,getStatusChangePromise:this.$13(a.getStatusChangePromise)};return g};c.$11=function(a){a=this.$2;this.$10(this.$1.compute(),"start_stream");!a||a.isCancelled()?(a=this.$2=new(b("oz-player/networks/OzStreamingTask"))(this.$8,this.$7),this.$6.enqueue(a,this.$4)["catch"](function(){})):this.$6.updatePriority(a,this.$4);return a};c.$13=function(a){var c=this;return function(){return a().then(function(a){c.$14();return a})["catch"](function(a){c.$14();return b("Promise").reject(a)})}};c.finishTaskIfNoOngoingStream=function(){this.$9||this.$15()};c.destroy=function(){this.$3.release();var a=this.$2;this.$2=null;a&&this.$6.remove(a)};c.$14=function(){this.$9=!1,this.$10(this.$1.compute(),"end_stream"),this.$4<b("oz-player/networks/OzStreamingTaskQueueProvider").OZ_QUEUE_MAX_PRIORITY&&this.$15()};c.$15=function(){this.$2&&(this.$2.finish(),this.$2=null)};c.$10=function(a,b){if(a===this.$4)return;this.$4=a;this.$7&&this.$7.getOperationLogger("priority_changed").setPriorityFloat(this.$4).setInitiator(b).log()};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzStreamLengthStrategy",[],(function(a,b,c,d,e,f){"use strict";a={getStreamingSegments:function(a,b,c,d,e){var f=a.getNumber("segments_to_stream_under_playhead_threshold");a=a.getNumber("low_segment_stream_playhead_threshold");f>0&&d.getCurrentTime()<a&&(b=f);d=[];d.push(e);for(var a=1;a<b;a++){f=c.getSegmentAfter(e);if(!f)break;e=f;d.push(e)}return d}};e.exports=a}),null);
__d("oz-player/streams/OzMediaStreamLoopDriver",["oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/ozSetTimeoutAcrossTransitions");a=function(){function a(a){var b=this;this.$2=null;this.$3=!1;this.$4=function(){b.$5();if(b.$3)return;var a=b.$1.execute(),c=b.$1.getLoopInterval();c&&(b.$2=g(function(){b.$4()},c));a&&a.then(b.$4)["catch"](function(a){b.$5();a=b.$1.handleError(a);a?b.$2=g(b.$4,a):b.$3=!0})};this.$1=a}var c=a.prototype;c.start=function(){if(this.$3)throw new Error("restart is not implemented");this.$4()};c.stop=function(){this.$5(),this.$3=!0};c.$5=function(){this.$2&&(b("oz-player/shims/ozClearTimeout")(this.$2),this.$2=null)};return a}();e.exports=a}),null);
__d("oz-player/utils/OzRangeUtils",[],(function(a,b,c,d,e,f){"use strict";a={getRangeForTime:function(a,b){b=b.filter(function(b){return b.startTime<=a&&b.endTime>=a});return b!=null&&b.length>0?b[0]:null}};e.exports=a}),null);
__d("oz-player/streams/OzSegmentLocator",["oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzRangeUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/utils/OzRangeUtils").getRangeForTime;a={getEndingSequenceNumber:function(a){a=a.getEndingSegment();return a!=null&&a.getSequenceNumber()!=null?a.getSequenceNumber()||0:0},getSegment:function(a,c,d,e,f,h,i,j){var k=a.getPredictedSegmentAfter(h);if(k&&c.isPlaying())return k;k=c.getCurrentTime();k=e?g(k,e.getBufferedRanges()):null;e=h?h.getTimeRange().endTime:0;if(i.getBool("use_stream_end_time_in_segment_locator")&&k&&k.endTime===j)return null;h=c.getCurrentTime()||0;e?h=e:k&&(h=k.endTime);j=h-c.getCurrentTime();if(i.getBool("compute_buffer_ahead_with_timeline_gaps")){e=f.getTimeRanges();j=new(b("oz-player/utils/OzNumericalRangeUtil"))().findDiffCoveredByRanges(c.getCurrentTime(),h,e.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}))}if(j>d)return null;k=a.getSegment(0);i.getNumber("auto_seek_playhead_slack")===0&&k&&k.getTimeRange().startTime>h&&(h=k.getTimeRange().startTime);f=a.getSegmentByTime(h);return f}};e.exports=a}),null);
__d("oz-player/utils/OzTaggedTimeRanges",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=a?a:function(a,b){return a===b}}var b=a.prototype;b.add=function(a,b,c){if(b<a)return;if(b===a)return;if(this.$1.length===0){this.$1.push({startTime:a,endTime:b,tag:c});return}var d=0,e=0;for(var f=0;f<this.$1.length;f++){if(a===this.$1[f].startTime&&b===this.$1[f].endTime){d=f;e=f+1;break}a>=this.$1[f].startTime&&(d=f+1);b<=this.$1[f].endTime&&(e=f);if(b<this.$1[f].startTime)break}this.$1.splice(d,e-d,{startTime:a,endTime:b,tag:c});this.$5(d)};b.$5=function(a){var b=this.$1[a],c=null;a!==0&&(c=this.$1[a-1]);c!==null&&(this.$4(c.tag,b.tag)?c.endTime>=b.startTime&&(this.$1.splice(a-1,2,{startTime:c.startTime,endTime:Math.max(b.endTime,c.endTime),tag:b.tag}),a--):(c.endTime>b.startTime&&c.startTime===b.startTime?(this.$1.splice(a-1,1),a--):c.endTime>b.startTime&&this.$1.splice(a-1,1,{startTime:c.startTime,endTime:b.startTime,tag:c.tag}),c.endTime>b.endTime&&this.$1.splice(a+1,0,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})));c=null;a!==this.$1.length-1&&(c=this.$1[a+1]);c&&(this.$4(c.tag,b.tag)?c.startTime<=b.endTime&&this.$1.splice(a,2,{startTime:b.startTime,endTime:Math.max(c.endTime,b.endTime),tag:b.tag}):c.startTime<=b.endTime&&(c.endTime<b.endTime?(this.$1.splice(a,1,{startTime:b.startTime,endTime:c.startTime,tag:b.tag}),this.$1.push({startTime:c.endTime,endTime:b.endTime,tag:b.tag})):this.$1.splice(a+1,1,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})))};b.get=function(a){var b=a>=this.$3?this.$2:0,c=null;for(var b=b;b<this.$1.length;b++)if(this.$1[b].startTime<=a&&a<this.$1[b].endTime){c=b;break}this.$2=c===null?0:c;this.$3=a;return c===null?null:this.$1[c].tag};b.getLength=function(){return this.$1.length};return a}();e.exports=a}),null);
__d("oz-player/streams/OzMediaStream",["oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/networks/OzNetworkManager","oz-player/networks/OzReadableStreamDataReader","oz-player/networks/OzStreamingTaskStateManager","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozvariant","oz-player/strategies/OzStreamLengthStrategy","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMimeUtil","oz-player/utils/OzRangeUtils","oz-player/utils/OzTaggedTimeRanges","oz-player/streams/OzMediaStreamLoopDriver","oz-player/streams/OzSegmentLocator","oz-player/shims/OzEventEmitter"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/utils/OzMimeUtil").getMimeType;b("oz-player/utils/OzRangeUtils").getRangeForTime;var h=b("oz-player/shims/ozSetTimeoutAcrossTransitions"),i=1e3,j=.2;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,h,i,j,k,l,m,n,o,p,q){var r;r=a.call(this)||this;r.$OzMediaStream2=0;r.$OzMediaStream3=[0,1,1,2,3,5,8,13,21,34];r.$OzMediaStream11=null;r.$OzMediaStream13=!1;r.$OzMediaStream14=null;r.$OzMediaStream15=new(b("oz-player/shims/OzSubscriptionsHandler"))();r.$OzMediaStream17=[];r.$OzMediaStream21=0;r.$OzMediaStream28=!0;r.$OzMediaStream30=!1;r.$OzMediaStream31=null;r.$OzMediaStream32=new(b("oz-player/utils/OzErrorEmitter"))();r.$OzMediaStream1=c;r.$OzMediaStream4=d;r.$OzMediaStream4.then(function(a){r.$OzMediaStream5=a,r.$OzMediaStream14&&r.$OzMediaStream14.setSourceBuffer(a),r.$OzMediaStream26.setSourceBufferState(a.getSourceBufferState()),r.$OzMediaStream34()});r.$OzMediaStream19=e;r.$OzMediaStream10=f;r.$OzMediaStream6=h;r.$OzMediaStream12=i;r.$OzMediaStream12.registerMediaStream(babelHelpers.assertThisInitialized(r));r.$OzMediaStream25=j;r.$OzMediaStream26=k;r.$OzMediaStream27=l;r.$OzMediaStream14=m;r.$OzMediaStream16=p.cloneContext();r.$OzMediaStream24=new(b("oz-player/utils/OzTaggedTimeRanges"))(function(a,b){return a.id===b.id});r.$OzMediaStream15.addSubscriptions(r.$OzMediaStream6.addEventListener("seeking",function(){r.$OzMediaStream1.getBool("fix_seek_performance")?r.restartLoopBody():(r.$OzMediaStream8=null,r.$OzMediaStream30=!1,r.$OzMediaStream23&&r.$OzMediaStream23.resolve())}));r.$OzMediaStream20=g(o.getMimeCodecs());r.$OzMediaStream29=new(b("oz-player/networks/OzStreamingTaskStateManager"))(r.$OzMediaStream20,r.$OzMediaStream26,r.$OzMediaStream16,r.$OzMediaStream1);r.$OzMediaStream22=new(b("oz-player/streams/OzMediaStreamLoopDriver"))(babelHelpers.assertThisInitialized(r));n===o.getID()?r.$OzMediaStream7=o:r.$OzMediaStream35(o);return r}var d=c.prototype;d.start=function(){this.$OzMediaStream22.start()};d.getCurrentRepresentation=function(){return this.$OzMediaStream7};d.switchRepresentation=function(a){this.$OzMediaStream35(a,"user")};d.onError=function(a){return this.$OzMediaStream32.onError(a)};d.updateRunTimeConfigs=function(a){a=a.videoStreamDataHandler;a!==void 0&&(this.$OzMediaStream33=a)};d.$OzMediaStream35=function(a,c){var d=this;c===void 0&&(c="internal");var e=function(){var a=d.$OzMediaStream1.getBool("clear_buffer_when_switch_representation_initiator_is_user");return a?c==="user":!0};e()&&(this.$OzMediaStream8=null);e=this.$OzMediaStream16.cloneContext().setType(this.$OzMediaStream20+";init");var f=this.$OzMediaStream10.request([a.getInitSegment()],[b("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream20)],e,"ENABLE_CACHE"),g=e.getOperationLogger("stream_switch").setPreviousRepresentationID(this.$OzMediaStream7?this.$OzMediaStream7.getID():null).setRepresentationID(a.getID()).setReason(this.$OzMediaStream14&&this.$OzMediaStream14.getLastEvaluationReason()).start();this.$OzMediaStream7=a;this.emit("switchRepresentation",c,a);this.$OzMediaStream36(f.getStream(),function(){g.log(),d.emit("initAppended"),d.$OzMediaStream12.notifyRepresentationSwitched(d)},function(a){g.setError(a).log(),d.$OzMediaStream1.getBool("fallback_on_append_error")&&a instanceof b("oz-player/utils/OzError")&&a.getType()!=="OZ_NETWORK"&&d.$OzMediaStream32.emitError(a)},e.cloneContext(),0)};d.getLoopInterval=function(){return this.$OzMediaStream21};d.execute=function(){var a=this.$OzMediaStream37();if(a){var c=this.$OzMediaStream23=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));a.then(function(){return c.resolve()})["catch"](function(a){return c.reject(a)});return c.getPromise()}return null};d.$OzMediaStream38=function(a){a===void 0&&(a=null);if(this.$OzMediaStream14&&this.$OzMediaStream28&&(this.$OzMediaStream1.getBool("enable_abr_for_first_request")||this.$OzMediaStream13||this.$OzMediaStream19>0)){a=this.$OzMediaStream14.getBestRepresentation(a);if(this.$OzMediaStream7!==a)return a}return null};d.$OzMediaStream39=function(a){var c=this.$OzMediaStream5?this.$OzMediaStream5.getSourceBufferState():null,d=this.$OzMediaStream19>0?this.$OzMediaStream7.getSegment(this.$OzMediaStream19-1):null,e=null;a&&(e=this.$OzMediaStream7.getCustomFieldFirstSegment());e||(e=b("oz-player/streams/OzSegmentLocator").getSegment(this.$OzMediaStream7,this.$OzMediaStream6,this.$OzMediaStream25.computeBufferTarget(),c,this.$OzMediaStream7,this.$OzMediaStream8||d,this.$OzMediaStream1,this.$OzMediaStream31));if(this.$OzMediaStream7.canPredict()){a=this.$OzMediaStream9&&this.$OzMediaStream9.getSequenceNumber()||0;c=e&&e.getSequenceNumber()||0;if(e&&this.$OzMediaStream9&&a>=c){d=b("oz-player/streams/OzSegmentLocator").getEndingSequenceNumber(this.$OzMediaStream7);return this.$OzMediaStream1.getBool("pdash_continue_interrupt_from_error")&&(d||0)>=a?this.$OzMediaStream9:null}}return e};d.$OzMediaStream40=function(){return!this.$OzMediaStream13&&this.$OzMediaStream19===0};d.$OzMediaStream41=function(a,c){var d=[];if(c)d=[a];else{c=this.$OzMediaStream27.computeMin(this.$OzMediaStream6,a,this.$OzMediaStream7);var e=this.$OzMediaStream38(c);if(e){this.$OzMediaStream35(e);e=this.$OzMediaStream39(!1);if(!e&&this.$OzMediaStream1.getBool("handle_switch_to_unparsed_representation_sidx"))return[];else if(e)return this.$OzMediaStream41(e,!1)}d=b("oz-player/strategies/OzStreamLengthStrategy").getStreamingSegments(this.$OzMediaStream1,c,this.$OzMediaStream7,this.$OzMediaStream6,a);d=b("oz-player/networks/OzNetworkManager").getStreamableSegmentsRange(d)}return d};d.$OzMediaStream42=function(){var a=this;return new(b("oz-player/shims/OzMaybeNativePromise"))(function(b,c){var d=a.getCurrentRepresentation().addUpdateListener(function(){b(),a.$OzMediaStream18=null,d.remove()});a.$OzMediaStream18=d})};d.$OzMediaStream43=function(a,c){var d=this;return new(b("oz-player/shims/OzMaybeNativePromise"))(function(b,c){c=d.$OzMediaStream39(a);c==null?b([]):b(d.$OzMediaStream41(c,a))})};d.$OzMediaStream37=function(){var a=this,c=this.$OzMediaStream5?this.$OzMediaStream5.getSourceBufferState():null;if(this.$OzMediaStream7.canPredict()&&this.$OzMediaStream9&&this.$OzMediaStream7.isEndingSegment(this.$OzMediaStream9)){this.endStream();return}if(this.$OzMediaStream7.canPredict()&&this.$OzMediaStream8&&this.$OzMediaStream7.isEndingSegment(this.$OzMediaStream8)){this.endStream();return}var d=this.$OzMediaStream40(),e=this.$OzMediaStream39(d);if(this.$OzMediaStream30&&this.$OzMediaStream1.getBool("no_new_loop_body_promise_when_stream_ongoing")){this.$OzMediaStream21=i;return null}this.$OzMediaStream19>0&&this.$OzMediaStream1.getBool("maybe_end_stream_if_prepended_segments")&&!this.$OzMediaStream44()&&this.endStreamIfBufferedToEndTime();if(!e||this.$OzMediaStream30){this.$OzMediaStream21=i;this.$OzMediaStream30||this.$OzMediaStream29.finishTaskIfNoOngoingStream();return this.$OzMediaStream42()}this.$OzMediaStream21=0;var f=this.$OzMediaStream41(e,d);if(this.$OzMediaStream1.getBool("handle_switch_to_unparsed_representation_sidx")&&f.length===0)return this.$OzMediaStream42();this.$OzMediaStream13=!0;var g=f[f.length-1]||null;g&&!this.$OzMediaStream1.getBool("clear_prepended_segments_count_on_append")&&(this.$OzMediaStream19=0);g&&this.$OzMediaStream7.isEndingSegment(g);var h=this.$OzMediaStream7,j=function(){return h.isEndingSegment(g)};f.length!==0||b("oz-player/shims/ozvariant")(0,23148);e=f[0];var k=e.getTimeRange().startTime,l=g.getTimeRange().endTime,m=this.$OzMediaStream16.cloneContext();m.setRepresentationID(this.$OzMediaStream7.getID()).setSegmentStartTime(k).setSegmentEndTime(l);var n,o,p=null,q=this.$OzMediaStream1.getBool("disable_audio_scheduler")&&this.$OzMediaStream20.indexOf("audio")!==-1;this.$OzMediaStream1.getBool("use_scheduler")&&!q&&!d?this.$OzMediaStream1.getBool("use_deferred_streaming_task")?o=this.$OzMediaStream29.startStreamDeferred({segmentsPromise:this.$OzMediaStream43(d,f),networkManager:this.$OzMediaStream10,sourceBufferState:c,playbackState:this.$OzMediaStream6,segmentsLoggerProvider:m}):n=this.$OzMediaStream29.startStream({streamableSegments:f,networkManager:this.$OzMediaStream10,sourceBufferState:c,playbackState:this.$OzMediaStream6,segmentsLoggerProvider:m}):n=this.$OzMediaStream10.request(f,[b("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream20)],m);this.$OzMediaStream11=n;this.$OzMediaStream30=!0;var r=this.$OzMediaStream45(e,g,f.length),s={startTime:k,endTime:l,tag:{id:this.$OzMediaStream7.getID()}},t=m.getOperationLogger("queued_append");t.start().setReason(this.$OzMediaStream14&&this.$OzMediaStream14.getLastEvaluationReason());var u=function(c){a.$OzMediaStream36(c,function(b){t.setAppendedBufferMs(Math.round(b*1e3)).log(),f.forEach(function(b){a.emit("SegmentAppended",a.$OzMediaStream46(b))}),j()&&a.endStream(),a.$OzMediaStream1.getBool("clear_prepended_segments_count_on_append")&&(a.$OzMediaStream19=0)},function(c){t.setError(c).log(),a.$OzMediaStream1.getBool("fallback_on_append_error")&&c instanceof b("oz-player/utils/OzError")&&c.getType()!=="OZ_NETWORK"&&a.$OzMediaStream32.emitError(c)},m,r,s)},v;!!o||!!n||b("oz-player/shims/ozvariant")(0,23147);o?(o.genStream().then(function(a){return u(a)})["catch"](function(b){return a.$OzMediaStream32.emitError(b)}),v=o.getStatusChangePromise()):n&&(u(n.getStream()),v=n.getStatusChangePromise());q=v.then(function(b){a.$OzMediaStream47(b,g);return a.$OzMediaStream48(p)}).then(function(){a.$OzMediaStream2=0});return q["catch"](function(b){return a.$OzMediaStream49(b,p,g)})};d.handleError=function(a){return 0};d.$OzMediaStream47=function(a,b){a!=="cancelled"&&(this.$OzMediaStream8=b)};d.$OzMediaStream48=function(a){this.$OzMediaStream30=!1,a&&a.finish()};d.$OzMediaStream49=function(a,c,d){this.$OzMediaStream30=!1;var e,f;a instanceof b("oz-player/utils/OzError")?(e=a.getExtra().code||"",f=a):(e=a.status?a.status.toString():"0",f=new(b("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:a.message,extra:{originalError:a,code:e,url:a.url}}));var g=JSON.parse(this.$OzMediaStream1.getString("network_end_broadcasts_json"));if(g.includes(e)){this.$OzMediaStream9=d;this.endStream();return b("oz-player/shims/OzMaybeNativePromise").resolve()}g=JSON.parse(this.$OzMediaStream1.getString("network_skip_json"));if(g.includes(e)){c&&c.finish();this.$OzMediaStream8=d;this.$OzMediaStream29.finishTaskIfNoOngoingStream();return new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,b){h(a,0)})}var i=this.$OzMediaStream1.getBool("back_off_pdash_504_retry")?this.$OzMediaStream3[this.$OzMediaStream2++]:0;g=JSON.parse(this.$OzMediaStream1.getString("network_reload_mpd_json"));if(this.$OzMediaStream1.getBool("back_off_pdash_504_retry")&&i==null)return this.$OzMediaStream50(a,f);if(i!=null&&g.includes(e)){c&&c.finish();this.$OzMediaStream8=null;this.$OzMediaStream9=d;this.$OzMediaStream29.finishTaskIfNoOngoingStream();if(this.$OzMediaStream5!=null)return this.$OzMediaStream5.cancelOperationAndCleanQueue().then(function(){return new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,b){h(a,i*1e3)})})}g=JSON.parse(this.$OzMediaStream1.getString("network_retry_intervals_json"));var j=g[e];if(j){c&&c.finish();this.$OzMediaStream29.finishTaskIfNoOngoingStream();return new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,b){h(a,j)})}return this.$OzMediaStream50(a,f)};d.$OzMediaStream50=function(a,c){this.$OzMediaStream32.emitError(c);this.$OzMediaStream2=0;return a instanceof b("oz-player/utils/OzError")&&a.getType()==="OZ_NETWORK"&&this.$OzMediaStream5?this.$OzMediaStream5.cancelOperationAndCleanQueue():b("oz-player/shims/OzMaybeNativePromise").resolve()};d.$OzMediaStream36=function(a,b,c,d,e,f){f===void 0&&(f=null),this.$OzMediaStream17.push({stream:a,dataAppendedCallback:b,dataAppendedErrorCallback:c,loggerProvider:d,appendTarget:e,timeRange:f}),this.$OzMediaStream5&&this.$OzMediaStream34()};d.$OzMediaStream34=function(){var a=this;this.$OzMediaStream17.forEach(function(c){var d=c.stream,e=c.dataAppendedCallback,f=c.dataAppendedErrorCallback,g=c.loggerProvider,h=c.appendTarget,i=c.timeRange;c=a.$OzMediaStream33==null?d:d.pipeThrough(new(b("oz-player/networks/OzReadableStreamDataReader"))(a.$OzMediaStream33.bind(a,a.$OzMediaStream7)));a.$OzMediaStream5&&a.$OzMediaStream5.queueData(c,g,h).then(function(b){e(b.appendedSec),i&&a.$OzMediaStream7.canPredict()&&b.startTime_UNSAFE&&b.endTime_UNSAFE?a.$OzMediaStream24.add(b.startTime_UNSAFE,b.endTime_UNSAFE,i.tag):i&&a.$OzMediaStream24.add(i.startTime,i.endTime,i.tag)})["catch"](function(a){f(a)})});this.$OzMediaStream17=[]};d.$OzMediaStream45=function(a,b,c){var d=0,e=this.$OzMediaStream1.getNumber("appends_per_segment");if(e>0){a=a.getByteRange();b=b.getByteRange();a&&b&&b.endByte!=null&&(d=Math.ceil((b.endByte-a.startByte+1)/(c*e)))}d===0&&(d=this.$OzMediaStream1.getNumber("append_byte_target_without_range"));return d};d.getIsAdaptationEnabled=function(){return this.$OzMediaStream28};d.enableAdaptation=function(){this.$OzMediaStream28=!0};d.disableAdaptation=function(){this.$OzMediaStream28=!1};d.cleanup=function(){this.$OzMediaStream4.then(function(a){a.destroy()}),this.$OzMediaStream29.destroy(),this.$OzMediaStream15.release(),this.$OzMediaStream15.engage(),this.$OzMediaStream18&&this.$OzMediaStream18.remove(),this.$OzMediaStream22.stop()};d.getRepresentationIDAtTime=function(a){var b=this.$OzMediaStream24.get(a);if(!b){var c=this.$OzMediaStream7.getTimeRanges();c=c[c.length-1];var d=.001;c&&a>=c.endTime&&a<=this.$OzMediaStream6.getDuration()+d&&(b=this.$OzMediaStream24.get(c.endTime-d))}return b?b.id:null};d.endStream=function(){this.$OzMediaStream12.notifyMediaStreamEnded(this),this.$OzMediaStream51()};d.endStreamIfBufferedToEndTime=function(){var a=this.$OzMediaStream7.getTimeRanges();if(a.length>0){a=a[a.length-1].endTime;if(this.$OzMediaStream5){var b=this.$OzMediaStream5.getSourceBufferState().getBufferedRanges();b.length>0&&(Math.abs(b[b.length-1].endTime-a)<j&&this.endStream())}}};d.$OzMediaStream46=function(a){return{type:this.$OzMediaStream20.charAt(0),segment:a,sourceBuffer:this.$OzMediaStream5?this.$OzMediaStream5.getDebug().SourceBuffer:null}};d.restartLoopBody=function(){this.$OzMediaStream8=null,this.$OzMediaStream30=!1,this.$OzMediaStream11&&this.$OzMediaStream11.cancel(),this.$OzMediaStream21!==0&&this.$OzMediaStream23&&this.$OzMediaStream23.resolve()};d.$OzMediaStream51=function(){if(this.$OzMediaStream5){var a=this.$OzMediaStream5.getSourceBufferState().getBufferedRanges();a.length>0&&(this.$OzMediaStream31=a[a.length-1].endTime)}};d.$OzMediaStream44=function(){return this.$OzMediaStream31!==null};d.getDebug=function(){return{SourceBufferManager:this.$OzMediaStream5,MediaStreamAbrManager:this.$OzMediaStream14}};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/utils/getRepresentationInCache",["oz-player/networks/RequestParamCreator"],(function(a,b,c,d,e,f){"use strict";var g=new(b("oz-player/networks/RequestParamCreator"))();function a(a,b){b===void 0&&(b=null);return a.find(function(a){a=a.getInitSegment();var c=a&&a.getByteRange();return a&&c&&b?b.hasCacheValue(g.createRequestParam(a.getURI(),c).uri.toString()):!1})||null}e.exports=a}),null);
__d("oz-player/Player",["Promise","oz-player/configs/OzConfigUtils","oz-player/drm/OzDrmManager","oz-player/loggings/OzDevConsolePerfLogger","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/loggings/OzOperationLoggerObserver","oz-player/manifests/OzVideoRepresentation","oz-player/media_source/MediaSourceManager","oz-player/media_source/OzMediaSeekableRangeManager","oz-player/networks/OzNetworkManager","oz-player/parsers/OzMpdParser","oz-player/parsers/OzMpdUpdater","oz-player/playback_controls/OzPlaybackTimeRangeManager","oz-player/playback_controls/OzPlayheadManager","oz-player/playback_controls/OzPlayheadNudger","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozvariant","oz-player/states/OzObservedPlaybackState","oz-player/strategies/OzAbrManager","oz-player/strategies/OzAudioIBRManager","oz-player/strategies/OzBufferAheadPriorityStrategy","oz-player/strategies/OzBufferAheadTargetStrategy","oz-player/strategies/OzBufferingDetector","oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy","oz-player/strategies/OzBufferTargetCalculator","oz-player/strategies/OzLiveheadDeltaCatchupStrategy","oz-player/strategies/OzPausedStreamSegmentsCountStrategy","oz-player/strategies/OzPlayheadAtInterruptionDetector","oz-player/strategies/OzPlayingStatePriorityStrategy","oz-player/strategies/OzPriorityCalculator","oz-player/strategies/OzStartupBufferTargetStrategy","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/OzStreamSegmentsCountCalculator","oz-player/streams/OzEndOfStreamWatcher","oz-player/streams/OzHandleUserRepresentationSwitch","oz-player/streams/OzMediaStream","oz-player/utils/getRepresentationInCache","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzPlaybackRestrictionsUtils","oz-player/utils/OzReadableStreamUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/configs/OzConfigUtils").getInternalDefaultConfig,h=b("oz-player/drm/OzDrmManager").OzDrmManager,i=b("oz-player/loggings/OzDevConsolePerfLogger").OzDevConsolePerfLoggerProvider,j=b("oz-player/loggings/OzLoggingUtils").executeOperationAndLog,k=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,l=b("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider,m=b("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions,n=b("oz-player/utils/OzReadableStreamUtils").pumpString;function o(a){a||b("oz-player/shims/ozvariant")(0,21876);return a}a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$Player4=new Map();d.$Player5=new Map();d.$Player9=void 0;d.$Player10=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$Player11=new(b("oz-player/utils/OzErrorEmitter"))();d.$Player25=[];d.$Player31=null;d.$Player32=null;d.$Player46=!1;d.$Player48=null;var e=c.audioOnly;e=e===void 0?!1:e;var f=c.videoNodeOrQuickStarter,h=c.config,i=c.rawMpdXml,j=c.mpdUrl;j=j===void 0?null:j;var k=c.loggerConfig;k=k===void 0?{perfLoggerProviders:[],observedOperationLoggers:[],isOzDevConsoleEnabled:!1}:k;var m=c.prefetchCache;m=m===void 0?null:m;var n=c.overrideOzRequestImplementation;n=n===void 0?null:n;var o=c.networkRequestStreamHandlers,p=c.getShouldIncludeCredentials;p=p===void 0?null:p;var q=c.initialRepresentationIDs;q=q===void 0?[]:q;var r=c.debugCreateInitiator;r=r===void 0?null:r;var s=c.customParsers;s=s===void 0?new Map():s;var t=c.entityKey;t=t===void 0?"":t;var u=c.videoPlaybackRestrictions;u=u===void 0?[]:u;var v=c.customSegmentTimelineParser;v=v===void 0?null:v;var w=c.customRepresentationParsers;w=w===void 0?{}:w;var x=c.videoAbrManagerFactory;x=x===void 0?null:x;var y=c.seekHandler;y=y===void 0?null:y;var z=c.initialPlaybackPositionForDynamicMpd;z=z===void 0?-20:z;var A=c.liveheadFallBehindBlockThreshold;A=A===void 0?30:A;var B=c.liveheadFallBehindBlockMargin;B=B===void 0?5.9:B;var C=c.startTimeStamp;C=C===void 0?0:C;var D=c.drmProviders;D=D===void 0?[]:D;c=c.getVideoDimensions;c=c===void 0?null:c;d.$Player44=r;r=k.perfLoggerProviders;var E=k.observedOperationLoggers;k=k.isOzDevConsoleEnabled;d.$Player16=k||!1;d.$Player15=new l(d.$Player49().concat(r));d.$Player1=e;d.$Player3=g(h);d.$Player50();d.$Player22=new(b("oz-player/loggings/OzOperationLoggerObserver"))();d.$Player22.observe(E,d.$Player15);d.$Player24=m;d.$Player48=n;k=m&&m.getCachedRepresentations(t);d.$Player25=k||q;d.$Player27=s;d.$Player30=u;d.$Player28=w;d.$Player29=v;d.$Player34=x;d.$Player35=y;d.$Player36=C;d.$Player37=z;d.$Player38=A;d.$Player39=B;d.$Player42=D;f instanceof HTMLVideoElement?(d.$Player2=f,d.$Player6=new(b("oz-player/media_source/MediaSourceManager"))(d.$Player2,d.$Player3,d.$Player15)):(d.$Player2=f.getVideoNode(),d.$Player6=f.getMediaSourceManager(),d.$Player7=f);d.$Player40=o;d.$Player41=p;d.$Player12=new(b("oz-player/networks/OzNetworkManager"))(d.$Player3,d.$Player24,d.$Player40,d.$Player48,d.$Player41);d.$Player17=j;d.$Player8=i;d.$Player13=new(b("oz-player/states/OzObservedPlaybackState"))(d.$Player2,d.$Player15);d.$Player47=c;d.$Player14=new(b("oz-player/streams/OzEndOfStreamWatcher"))(d.$Player6,d.$Player3);d.$Player10.addSubscriptions(d.$Player14.addListener("streamEnd",function(){d.$Player46=!0,d.emit("streamEnd")}));d.$Player23=new(b("oz-player/media_source/OzMediaSeekableRangeManager"))(d.$Player6,d.$Player3);d.$Player26=d.$Player51();d.$Player7==null&&d.$Player3.getBool("use_internal_buffering_detector")&&(d.$Player45=d.$Player52());return d}var d=c.prototype;d.setupPlayer=function(){this.$Player53();this.$Player7&&this.$Player10.addSubscriptions(this.$Player7.onError(this.$Player11.emitError));try{var a=j(this.$Player15.cloneContext().setInitiator(this.$Player44),"parse_manifest",this.$Player54.bind(this,this.$Player8));this.$Player3.getBool("async_parse_manifest_xml")&&!this.$Player3.getBool("call_load_instead_of_setup_player")?b("oz-player/shims/OzMaybeNativePromise").resolve(a).then(this.$Player55.bind(this))["catch"](this.$Player11.emitError.bind(this)):this.$Player55(a)}catch(a){if(a instanceof b("oz-player/utils/OzError"))this.$Player11.emitError(a);else throw a}};d.$Player55=function(a){this.$Player9=o(a);if(this.$Player17!==null&&this.$Player17!==void 0){var c=new(b("oz-player/parsers/OzMpdUpdater"))(this.$Player3,a,this.$Player12,this.$Player13,this.$Player15,{customParsers:this.$Player27,customRepresentationParsers:this.$Player28,customSegmentTimelineParser:this.$Player29},this.$Player43);this.$Player56(c);this.$Player10.addSubscriptions(c.onError(this.$Player11.emitError),c.addListener("streamTransitionToStatic",this.$Player57.bind(this)));c.setupUpdateLoop();this.$Player21=c}this.$Player36=a.isStaticMpd()?this.$Player36:this.$Player37;this.$Player18=new(b("oz-player/playback_controls/OzPlayheadManager"))({video:this.$Player2,mpd:a,playheadCatchup:this.$Player33,playbackState:this.$Player13,config:this.$Player3,perfLoggerProvider:this.$Player15,seekHandler:this.$Player35,initialPlaybackPosition:this.$Player36});this.$Player19=new(b("oz-player/playback_controls/OzPlayheadNudger"))(this.$Player3,this.$Player2);this.$Player20=new(b("oz-player/playback_controls/OzPlaybackTimeRangeManager"))(this.$Player2,a,this.$Player38,this.$Player39);this.$Player58();this.$Player3.getBool("async_parse_manifest_xml")&&this.emit("mpd_ready",a)};d.load=function(a){var c=this;try{if(this.$Player8!=null)this.setupPlayer();else if(a!=null){this.$Player17=a;var d=this.$Player12.requestRawUrl(a,{},null,this.$Player15);d=d.getStream().getReader();n(d).then(function(a){c.$Player8=a,c.setupPlayer()})["catch"](function(d){if(d instanceof b("oz-player/utils/OzError"))c.$Player11.emitError(d);else{c.$Player11.emitError(new(b("oz-player/utils/OzError"))({type:"OZ_INITIALIZATION",description:"Failed to load the mpd url "+a+("; errorMessage: "+d.message+"; errorDescription: "+((d=d.description)!=null?d:"")+";")}))}})}else this.$Player11.emitError(new(b("oz-player/utils/OzError"))({type:"OZ_INITIALIZATION",description:"Cannot start Oz without a raw mpd xml or mpd url"}))}catch(a){if(a instanceof b("oz-player/utils/OzError"))this.$Player11.emitError(a);else{this.$Player11.emitError(new(b("oz-player/utils/OzError"))({type:"OZ_INITIALIZATION",description:"Failed to call load"+("; errorMessage: "+a.message+"; errorDescription: "+((d=a.description)!=null?d:"")+";")}))}}};d.updatePlayerRunTimeConfig=function(a){var b=a.manifestUrl;a=a.videoStreamDataHandler;if(a!==void 0){var c=this.$Player4.get("video");c&&c.updateRunTimeConfigs({videoStreamDataHandler:a})}b!=null&&b!==""&&this.$Player59(b)};d.$Player60=function(a,b){var c=this,d=a.getMimeCodecs(),e,f=0,g=null,h=this.$Player7;h&&(e=h.getSourceBufferManagerPromise(d),f=h.getPrependedSegmentsCount(d),this.$Player3.getBool("fix_quick_starter_overhead")&&(g=h.getRepresentationId(d)));e||(e=this.$Player6.createSourceBufferManager(d,this.$Player3.getBool("set_source_buffer_append_window_end")));this.$Player61(e,b,g,a,f);return k(e,this.$Player15,"source_attach",function(a){a.setType(b)}).then(function(a){return c.$Player18.observeSourceBufferState(a.getSourceBufferState(),b)})};d.isDrm=function(){var a=this.$Player43;if(a!==null&&a!==void 0){a=a.hasContentProtections();return a!=null?a:!1}return!1};d.$Player53=function(){if(this.$Player42.length>0){var a=this.$Player43=new h(this.$Player15,this.$Player2);a.onError(this.$Player11.emitError);this.$Player42&&this.$Player42.forEach(a.addProvider,a);this.$Player28.drmProtections&&this.$Player11.emitError(new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:'"drmProtections" is a reserved parser name for "customRepresentationParsers". Please rename your parser.'}));this.$Player28.drmProtections=a.parseContentProtectionForRepresentation.bind(this.$Player43)}};d.$Player62=function(a){var c=o(this.$Player9);a=[this.$Player3,a,c.getVideoRepresentations(),this.$Player30,this.$Player13,window.devicePixelRatio||1,this.$Player63.bind(this)];return this.$Player34?this.$Player34.apply(this,a):new(Function.prototype.bind.apply(b("oz-player/strategies/OzAbrManager"),[null].concat(a)))()};d.$Player61=function(a,c,d,e,f){var g=this,h=o(this.$Player9),i=this.$Player5.get(c),j=new(b("oz-player/streams/OzMediaStream"))(this.$Player3,a,f,this.$Player12,this.$Player13,this.$Player14,this.$Player26,this.$Player64(),this.$Player65(i),i,d,e,this.$Player15.cloneContext().setType(c));this.$Player36===0?j.start():this.$Player10.addSubscriptions(this.$Player18.addListener("initialPlaybackPositionSet",function(){g.$Player13.forceUpdateCurrentTime(),j.start()}));this.$Player10.addSubscriptions(j.onError(this.$Player11.emitError),this.$Player23.listenToMediaStreamInitAppended(j));c==="video"&&(this.$Player32=new(b("oz-player/streams/OzHandleUserRepresentationSwitch"))(this.$Player3,this.$Player13,m(this.$Player30,this.$Player63(),h.getVideoRepresentations()),j,a));this.$Player4.set(c,j);this.$Player10.addSubscriptions(j.addListener("switchRepresentation",function(){c==="video"&&g.emit("switchVideoRepresentation")}),j.addListener("SegmentAppended",function(a){g.$Player66("SegmentAppended",a)}))};d.$Player51=function(){return new(b("oz-player/strategies/OzBufferTargetCalculator"))([new(b("oz-player/strategies/OzStartupBufferTargetStrategy"))(this.$Player13,this.$Player3),new(b("oz-player/strategies/OzBufferAheadTargetStrategy"))(this.$Player3)])};d.$Player56=function(a){var c=this;if(this.$Player3.getNumber("stream_interrupt_check_mpd_stale_count_threshold")>0){var d=new(b("oz-player/strategies/OzPlayheadAtInterruptionDetector"))(this.$Player2);this.$Player10.addSubscriptions(d.addListener("playheadAtInterruption",function(a){return c.emit("streamInterruptAt",a)}),a.addListener("streamInterruptAt",function(a){return d.notifyStreamInterrupted(a)}),a.addListener("streamResumedAt",function(a){d.notifyStreamResumed(),c.emit("streamResumedAt",a)}));this.$Player31=d}};d.$Player64=function(){var a=[new(b("oz-player/strategies/OzPlayingStatePriorityStrategy"))(this.$Player13),new(b("oz-player/strategies/OzBufferAheadPriorityStrategy"))(this.$Player13)];return new(b("oz-player/strategies/OzPriorityCalculator"))(a)};d.$Player65=function(a){var c=[new(b("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(this.$Player3),new(b("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy"))(this.$Player26,this.$Player3)];this.$Player3.getNumber("paused_stream_segments_count")!==0&&c.push(new(b("oz-player/strategies/OzPausedStreamSegmentsCountStrategy"))(this.$Player13,this.$Player3));if(a){a=a.getStreamSegmentsCountStrategy();a&&c.push(a)}return new(b("oz-player/strategies/OzStreamSegmentsCountCalculator"))(c)};d.onError=function(a){return this.$Player11.onError(a)};d.getCurrentQuality=function(){var a=this.$Player9;if(!a)return"";var c=this.$Player4.get("video");c=c&&c.getCurrentRepresentation();if(c instanceof b("oz-player/manifests/OzVideoRepresentation"))return c.getQualityLabel();c=a.getVideoRepresentations();a=c[0];if(a)return a.getQualityLabel();a||b("oz-player/shims/ozvariant")(0,19857);return""};d.switchToVideoQuality=function(a){var b=o(this.$Player9);b=b.getVideoRepresentations().find(function(b){return b.getQualityLabel()===a});if(b){var c=this.$Player4.get("video");c&&(c.switchRepresentation(b),c.disableAdaptation())}};d.getIsVideoQualityAdaptationEnabled=function(){var a=this.$Player4.get("video");return a?a.getIsAdaptationEnabled():!1};d.enableVideoQualityAdaptation=function(){var a=this.$Player4.get("video");a&&a.enableAdaptation()};d.getVideoQualities=function(){var a=this.$Player9;return!a?[]:a.getVideoRepresentations().map(function(a){return a.getQualityLabel()})};d.setEnableLiveheadCatchup=function(a){this.$Player20&&(a?this.$Player15.getOperationLogger("live_catchup_enabled").log():this.$Player15.getOperationLogger("live_catchup_disabled").log(),this.$Player20.setTimelineBlockingEnabled(a))};d.$Player58=function(){var a=this,c=this.$Player1?[this.$Player67({liveConfigsFromAudioStream:!0})]:[this.$Player68(),this.$Player67({})],d=[];return b("Promise").all(c).then(function(){var b=a.$Player4.get("video"),c=a.$Player4.get("audio");b&&d.push(b.getCurrentRepresentation());c&&d.push(c.getCurrentRepresentation());d.forEach(function(b){a.$Player10.addSubscriptions(b.addUpdateListener(function(){a.$Player66("SegmentIndexesUpdated",d)}))});a.$Player66("InitialSegmentIndexes",d);a.$Player2&&a.$Player2.style&&(a.$Player2.style.display=a.$Player1?"none":"block")})};d.$Player69=function(a){if(a.getTimeRanges().length){a=a.getTimeRanges()[a.getTimeRanges().length-1].endTime;this.$Player6.updateDuration(a)}};d.$Player70=function(a){this.$Player69(a),this.$Player23.setTimeRangeProvider(a),this.$Player18.setTimeRangeProvider(a),this.$Player20!=null&&this.$Player20.setTimeRangeProvider(a)};d.$Player68=function(){var a=o(this.$Player9);a=m(this.$Player30,this.$Player63(),a.getVideoRepresentations());if(!a.length)return b("oz-player/shims/OzMaybeNativePromise").reject(new Error("no representation available."));this.$Player70(a[0]);var c=this.$Player71(a);if(this.$Player3.getBool("enable_adaptation")){var d=this.$Player62(c||a[0]);this.$Player5.set("video",d);this.$Player3.getBool("use_abr_for_missing_default_representation")&&!c&&(c=d.getBestRepresentation())}return this.$Player60(c||a[0],"video")};d.$Player67=function(a){a=a.liveConfigsFromAudioStream;a=a===void 0?!1:a;var c=o(this.$Player9);c=c.getAudioRepresentations();a&&this.$Player70(c[0]);return c.length?this.$Player60(this.$Player72(c)||c[0],"audio"):b("oz-player/shims/OzMaybeNativePromise").resolve()};d.getMpd=function(){return this.$Player9};d.destroy=function(a){a=this.$Player15.getOperationLogger("unload").setInitiator(a).start();this.$Player4.forEach(function(a){a.cleanup()});this.$Player32&&this.$Player32.cleanup();this.$Player4=new Map();this.$Player10.release();this.$Player10.engage();this.$Player13.destroy();this.$Player18&&this.$Player18.destroy();this.$Player19&&(this.$Player19.destroy(),this.$Player19=null);this.$Player20&&(this.$Player20.destroy(),this.$Player20=null);this.$Player43&&this.$Player43.destroy();this.$Player12&&this.$Player12.destroy();this.$Player47&&(this.$Player47=null);this.$Player3.getBool("detach_media_source_manager")&&this.$Player6&&this.$Player6.detach();var c=b("Promise").resolve();this.$Player3.getBool("cleanup_video_node_on_destroy")&&(this.$Player2.pause(),this.$Player3.getBool("remove_src_attr_on_unload")?this.$Player2.removeAttribute("src"):this.$Player2.src="",this.$Player2.setMediaKeys&&"function"===typeof this.$Player2.setMediaKeys&&(c=this.$Player2.setMediaKeys(null)));this.$Player21&&this.$Player21.destroy();this.$Player31&&this.$Player31.destroy();this.$Player22.destroy();this.$Player23.destroy();this.$Player45&&this.$Player45.destroy();a.log();this.emit("destroyed");a=[c];return b("Promise").all(a)};d.$Player71=function(a){var c=this,d;d=a.find(function(a){return c.$Player25.indexOf(a.getID())!==-1});if(!d&&this.$Player7&&this.$Player3.getBool("fix_quick_starter_overhead")){var e=this.$Player7.getRepresentationId("video");e!==null&&e!==void 0&&(d=a.find(function(a){return a.getID()===e}))}d||(d=b("oz-player/utils/getRepresentationInCache")(a,this.$Player24));return d||null};d.$Player72=function(a){var c=this,d=o(this.$Player9),e;e=a.find(function(a){return c.$Player25.indexOf(a.getID())!==-1});if(!e&&this.$Player7&&this.$Player3.getBool("fix_quick_starter_overhead")){var f=this.$Player7.getRepresentationId("audio");f!==null&&f!==void 0&&(e=a.find(function(a){return a.getID()===f}))}e||(e=b("oz-player/utils/getRepresentationInCache")(a,this.$Player24));if(!e&&!d.isStaticMpd()&&a.length>1&&this.$Player3.getBool("live_audio_ibr")){d=new(b("oz-player/strategies/OzAudioIBRManager"))(this.$Player3,this.$Player15);e=d.getInitialAudioRepresentation(a)}return e||null};d.$Player54=function(a){var c=new(b("oz-player/parsers/OzMpdParser"))(this.$Player3,{mpdUrl:this.$Player17,customParsers:this.$Player27,customRepresentationParsers:this.$Player28,customSegmentTimelineParser:this.$Player29},this.$Player12,this.$Player15,this.$Player43);this.$Player10.addSubscriptions(c.onError(this.$Player11.emitError));return c.parse(a)};d.$Player49=function(){var a=[];this.$Player16&&a.push(new i());return a};d.$Player73=function(a,b){b=this.$Player4.get(b);return b?b.getRepresentationIDAtTime(a):null};d.getAudioRepresentationIDAtTime=function(a){return this.$Player73(a,"audio")};d.getVideoRepresentationIDAtTime=function(a){return this.$Player73(a,"video")};d.getCurrentVideoRepresentation=function(){var a=this.$Player4.get("video");return a!=null?a.getCurrentRepresentation():null};d.getCurrentAudioRepresentation=function(){var a=this.$Player4.get("audio");return a!=null?a.getCurrentRepresentation():null};d.$Player57=function(){this.$Player4.forEach(function(a){return a.endStreamIfBufferedToEndTime()})};d.getDebug=function(){var a=this,b=this.$Player4.get("video"),c=this.$Player4.get("audio"),d,e,f,g,h;b&&(d=b.getDebug().MediaStreamAbrManager,e=b.getDebug().SourceBufferManager,e&&(f=e.getDebug().SourceBuffer));c&&(g=c.getDebug().SourceBufferManager,g&&(h=g.getDebug().SourceBuffer));return{getManifest:function(){return o(a.$Player9)},indentifiersIntact:!0,VideoSourceStream:b,VideoAbrManager:d,VideoBufferManager:e,VideoSourceBuffer:f,AudioSourceStream:c,AudioBufferManager:g,AudioSourceBuffer:h}};d.$Player66=function(a,b){this.emit("debug/dashPlayerEvent",{detail:{type:a,event:b}})};d.$Player50=function(){this.$Player3.getBool("live_playhead_catch_up")&&(this.$Player33=new(b("oz-player/strategies/OzLiveheadDeltaCatchupStrategy"))(this.$Player3))};d.$Player52=function(){var a=this,c=new(b("oz-player/strategies/OzBufferingDetector"))(this.$Player2,this.$Player3.getLegacyConfig(),function(){return a.$Player46?a.$Player2.duration:Infinity});this.$Player10.addSubscriptions(c.addListener("enter_buffering",function(){a.emit("enter_buffering")}),c.addListener("leave_buffering",function(){a.emit("leave_buffering")}));return c};d.$Player63=function(){var a=this.$Player47?this.$Player47():{width:this.$Player2.offsetWidth,height:this.$Player2.offsetHeight};return a};d.getMpdUrl=function(){return this.$Player17};d.$Player59=function(a){var b=this,c=o(this.$Player9);this.$Player17=a;c.updateLocation(a);var d=null;a=function(){d&&d.remove(),b.$Player4.forEach(function(a,d){var e=a.getCurrentRepresentation(),f=e.getQualityLabel();e=d==="video"?c.getVideoRepresentations().slice():c.getAudioRepresentations().slice();if(d==="video"){d=b.$Player5.get(d);d&&d.updateRepresentations(c.getVideoRepresentations())}d=e[0];e.forEach(function(a){var b=a.getQualityLabel();b===f&&(d=a)});a.switchRepresentation(d);a.restartLoopBody()})};d=c.addListener("updated",a)};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player",["oz-player/Player"],(function(a,b,c,d,e,f){"use strict";e.exports=b("oz-player/Player")}),null);
__d("XVideoUnifiedCVCControllerRouteBuilder",["cometRouteBuilder"],(function(a,b,c,d,e,f){a=b("cometRouteBuilder")("/video/unified_cvc/",Object.freeze({}),void 0);e.exports=a}),null);
__d("useEventCallbackOn",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,b,c){g.useEffect(function(){a.addEventListener(b,c);return function(){a.removeEventListener(b,c)}},[a,b,c])}}),null);
__d("useIsBackgrounded",["React","VideoPlayerShakaGlobalConfig","useEventCallbackOn"],(function(a,b,c,d,e,f){"use strict";e.exports=d;var g=b("React");function c(){var b=a.document;if(typeof b.hidden!=="undefined")return"visibilitychange";else if(typeof b.mozHidden!=="undefined")return"mozvisibilitychange";else if(typeof b.msHidden!=="undefined")return"msvisibilitychange";else if(typeof b.webkitHidden!=="undefined")return"webkitvisibilitychange";return"visibilitychange"}function h(){var b=a.document;if(typeof b.hidden!=="undefined")return b.hidden;else if(typeof b.mozHidden!=="undefined")return b.mozHidden;else if(typeof b.msHidden!=="undefined")return b.msHidden;else if(typeof b.webkitHidden!=="undefined")return b.webkitHidden;return!1}var i=c();function j(){var c=a.document.hasFocus?a.document.hasFocus():!0,d=h(),e=b("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1);return d||(e?!1:!c)}function d(c){var d=g.useState(function(){return j()}),e=d[0],f=d[1],h=!!c&&c.scrollTerminatesBackgrounded===!0;d=g.useCallback(function(){f(j())},[f,j]);c=d;var k=g.useCallback(function(){var a=j();a&&h&&e&&f(!1)},[e,h,f]);b("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1)&&(c=function(){});b("useEventCallbackOn")(a.window,"blur",c);b("useEventCallbackOn")(a.window,"focus",c);b("useEventCallbackOn")(a.document,i,d);b("useEventCallbackOn")(a.window,"scroll",k);return e}}),null);
__d("VideoPlayerViewabilityProvider.react",["React","VideoPlayerViewabilityContexts"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.isFullscreen;a=a.videoPlayerPassiveViewabilityInfo;return g.jsx(b("VideoPlayerViewabilityContexts").VideoPlayerPassiveViewabilityInfoContext.Provider,{value:a,children:g.jsx(b("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:d,children:c})})}}),null);
__d("wrapWithContextProviders",["React"],(function(a,b,c,d,e,f){"use strict";f.wrapWithContextProviders=a;f.makeRenderProviderFn=c;var g=b("React");function a(a,b){return b.reduceRight(function(a,b){return b(a)},a)}function c(a,b){return function(c){return g.jsx(a.Provider,{value:b,children:c})}}}),null);
__d("VideoPlayerComponentContainer.react",["CometVisualCompletionAttributes","React","VideoPlayerContexts","VideoPlayerHooks","VideoPlayerViewabilityProvider.react","clearTimeout","requireCond","setTimeout","stylex","wrapWithContextProviders","cr:1269159"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c=g.useRef(a);g.useEffect(function(){c.current=a},[a]);var d=g.useState(!1),e=d[0],f=d[1];d=g.useState(function(){var a=null;return{cleanup:function(){a&&a()},pingNotIdle:function(){a&&a();f(!1);var d=b("setTimeout")(function(){f(!0)},c.current);a=function(){b("clearTimeout")(d),a=null}}}});d=d[0];var h=d.cleanup;d=d.pingNotIdle;g.useEffect(function(){return h},[h]);return{isIdle:e,pingNotIdle:d}}function i(){var a=g.useState(!1),b=a[0],c=a[1];a=3e3;a=h(a);var d=a.isIdle,e=a.pingNotIdle;a=g.useCallback(function(){c(!0),e()},[e]);var f=g.useCallback(function(){c(!1),e()},[e]),i=g.useCallback(function(){c(!0),e()},[e]),j=g.useCallback(function(){e()},[e]),k=g.useCallback(function(){e()},[e]);return{isHovering:b,isIdle:d,onMouseDown:j,onMouseEnter:a,onMouseLeave:f,onMouseMove:i,onMouseUp:k}}function j(a){var c=i(),d=c.isHovering,e=c.isIdle,f=c.onMouseDown,h=c.onMouseEnter,j=c.onMouseLeave,k=c.onMouseMove;c=c.onMouseUp;var l=b("VideoPlayerHooks").useIsFullscreen();return g.jsx("div",babelHelpers["extends"]({className:"k4urcfbm kr520xx4 pmk7jnqg datstx6m"+(l&&e?" sorcqhzv":"")},b("CometVisualCompletionAttributes").IGNORE,{onMouseDown:f,onMouseEnter:h,onMouseLeave:j,onMouseMove:k,onMouseUp:c,children:g.jsx(b("VideoPlayerContexts").VideoPlayerMouseHoverContext.Provider,{value:d,children:g.jsx(b("VideoPlayerContexts").VideoPlayerMouseIdleContext.Provider,{value:e,children:a.children})})}))}function a(a){var c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var d=a.adClientToken,e=a.autoplayGatingResult,f=a.broadcastStatus,h=a.canAutoplay,i=a.controller,k=a.dimensions,l=a.instanceKey,m=a.isFullscreen,n=a.lastMuteReason,o=a.lastPauseReason,p=a.lastPlayReason,q=a.originalHeight,r=a.originalWidth,s=a.videoFBID,t=a.videoPlayerPassiveViewabilityInfo,u=a.videoState,v=u.activeCaptions,w=u.availableVideoQualities,x=u.bufferEnd,y=u.captionsLoaded,z=u.captionsVisible,A=u.currentVideoQuality,B=u.duration,C=u.ended,D=u.error,E=u.inbandCaptionsAutogenerated,F=u.inPlayStalling,G=u.isAbrEnabled,H=u.isLiveRewindActive,I=u.lastPlayedTimeMs,J=u.loopCount,K=u.loopCurrent,L=u.muted,M=u.paused,N=u.playerImplementationName,O=u.playing,P=u.seekableRanges,Q=u.seeking,R=u.selectedVideoQuality,S=u.stalling,T=u.streamInterrupted,U=u.targetAudioQuality,V=u.targetVideoQuality,W=u.volume;u=u.watchTimeMs;c=g.jsx(j,{children:c});b("cr:1269159")(l,{controller:i,coreVideoStates:a,videoPlayerPassiveViewabilityInfo:t});s=(a=b("wrapWithContextProviders")).wrapWithContextProviders(c,[a.makeRenderProviderFn((c=b("VideoPlayerContexts")).VideoFBIDContext,s),a.makeRenderProviderFn(c.StallingContext,S),a.makeRenderProviderFn(c.PlayingContext,O),a.makeRenderProviderFn(c.InPlayStallingContext,F),a.makeRenderProviderFn(c.BufferEndContext,x),a.makeRenderProviderFn(c.LastMuteReasonContext,n),a.makeRenderProviderFn(c.LastPlayReasonContext,p),a.makeRenderProviderFn(c.LastPauseReasonContext,o),a.makeRenderProviderFn(c.PausedContext,M),a.makeRenderProviderFn(c.CurrentVideoQualityContext,A),a.makeRenderProviderFn(c.MutedContext,L),a.makeRenderProviderFn(c.VolumeContext,W),a.makeRenderProviderFn(c.SelectedVideoQualityContext,R),a.makeRenderProviderFn(c.SeekingContext,Q),a.makeRenderProviderFn(c.DurationContext,B),a.makeRenderProviderFn(c.EndedContext,C),a.makeRenderProviderFn(c.ErrorContext,D),a.makeRenderProviderFn(c.DimensionsContext,k||null),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").InstanceKeyContext,l),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").ControllerContext,i),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").AvailableVideoQualitiesContext,w),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").PlayerImplementationNameContext,N),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").IsAbrEnabledContext,G),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").TargetAudioQualityContext,U),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").TargetVideoQualityContext,V),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").CanAutoplayContext,h),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").AutoplayGatingResultContext,e),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").BroadcastStatusContext,f),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").LoopCountContext,J),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").LoopCurrentContext,K),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").AdClientTokenContext,d),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").ActiveCaptionsContext,v),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").CaptionsVisibleContext,z),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").CaptionsLoadedContext,y),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").InbandCaptionsAutogeneratedContext,E),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").StreamInterruptedContext,T),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").WatchTimeContext,u),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").LastPlayedTimeContext,I),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").SeekableRangesContext,P),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").IsLiveRewindActiveContext,H),function(a){return g.jsx(b("VideoPlayerContexts").VideoOriginalDimensionsContextMemoProvider,{originalHeight:q,originalWidth:r,children:a})},function(a){return g.jsx(b("VideoPlayerViewabilityProvider.react"),{isFullscreen:m,videoPlayerPassiveViewabilityInfo:t,children:a})}]);return g.jsx("div",{"data-instancekey":l,"data-testid":void 0,children:s})}c=g.memo(a);e.exports=c}),null);
__d("GlobalVideoPortsID",["cometUniqueID","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.makeVideoID=a;f.ensureVideoID=c;f.makePlaceID=d;function a(){return"id-pv-"+b("cometUniqueID")()}function c(a){if(typeof a==="string"){var c="id-pv-";if(a.indexOf(c)===0&&a.length>c.length)return a;else throw b("unrecoverableViolation")('Expected a GlobalVideoPortsVideoID, got a string that does not look like it: "'+a+'"',"comet_video_player")}else return null}function d(){return"id-pp-"+b("cometUniqueID")()}}),null);
__d("VideoPlayerFullscreenController",["CometFullScreen","removeFromArray","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.createFullscreenController=a;function g(a){return a.current!=null&&b("CometFullScreen").getFullScreenElement()===a.current}function a(a){var c=[];function d(){c.forEach(function(a){a()})}var e=null;return{getIsFullscreen:function(){return g(a)},requestSetIsFullscreen:function(c){var d=a.current;if(d==null)throw b("unrecoverableViolation")("Requested full screen while the element is not present","comet_video_player");c!==g(a)&&(c===!0?b("CometFullScreen").requestFullScreen(d):c===!1&&b("CometFullScreen").exitFullScreen())},subscribe:function(a){c.length===0&&e==null&&(e=b("CometFullScreen").subscribeToFullScreenChangeEvent(d));c.push(a);return{remove:function(){b("removeFromArray")(c,a),c.length===0&&e!=null&&(e(),e=null)}}}}}}),null);
__d("VideoPlayerPortalingPlaceState",["GlobalVideoPortsContexts","GlobalVideoPortsID","React","gkx","usePrevious"],(function(a,b,c,d,e,f){"use strict";f.useVideoPlayerPortalingPlaceState=a;var g=b("React");c=function(a,c){var d=b("usePrevious")(a);g.useEffect(function(){a!==d&&(d!==null&&d&&!a&&c(b("GlobalVideoPortsID").makeVideoID()))},[a,d,c])};d=function(a,c){var d=g.useState(null),e=d[0];d=d[1];a!==e&&(e!==null&&e&&!a&&c(b("GlobalVideoPortsID").makeVideoID()),d(a))};var h=b("gkx")("1375802")?d:c;f.useRegenerateUniqueVideoID_exportedForTest=h;function a(a){var c=a.portalingEnabled;a=a.portalingFromVideoID;var d=b("GlobalVideoPortsContexts").useGlobalVideoPortsLoader(),e=b("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),f=b("GlobalVideoPortsContexts").useGlobalVideoPortsState(),i=e!=null&&f!=null,j=(i||d!=null)&&(c||a!=null),k=g.useState(function(){return b("GlobalVideoPortsID").makePlaceID()});k=k[0];var l=g.useState(function(){return b("GlobalVideoPortsID").makeVideoID()}),m=l[0];l=l[1];c=j&&c&&a!=null;a=c&&a!=null?a:m;h(c,l);g.useEffect(function(){j&&!i&&d&&d()},[i,j,d]);return{canBecomePortableLater:j,currentVideoID:a,globalVideoPortsManager:e,globalVideoPortsState:f,thisPlaceID:k}}}),null);
__d("VideoPlayerPortalingPlaceWithPortaling.react",["CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsRenderers.react","React","getOwnObjectValues","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.coreVideoPlayerMetaData,d=a.currentVideoID,e=a.fullscreenController,f=a.globalVideoPortsManager,h=a.globalVideoPortsState,i=a.implementations,j=a.isFullscreen,k=a.portablePlaceMetaData,l=a.renderComponents,m=a.renderPlaceholder,n=a.thisPlaceID,o=a.trackingDataEncrypted,p=a.trackingNodes,q=a.viewportMarginsForViewability;a=g.useState(function(){return b("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})});var r=a[0],s=g.useRef(null);b("useLayoutEffect_SAFE_FOR_SSR")(function(){f.addOrUpdatePlace({coreVideoPlayerMetaData:c,fullscreenController:e,implementations:i,injectCoreVideoStatesRef:s,isFullscreen:j,portablePlaceContainer:r,portablePlaceID:n,portablePlaceMetaData:k,portableVideoID:d,renderComponents:l,renderPlaceholder:m,trackingDataEncrypted:o,trackingNodes:p,viewportMarginsForViewability:q})},[].concat(b("getOwnObjectValues")(c),[d,e,j,f,r],b("getOwnObjectValues")(k||{}),[l,m,n,o,p,q]));b("useLayoutEffect_SAFE_FOR_SSR")(function(){return function(){f.removePlace({portablePlaceID:n})}},[f,n]);a=f.getPortableVideoState(h,d);return g.jsxs(g.Fragment,{children:[g.jsx(b("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:r},n),g.jsx(b("GlobalVideoPortsRenderers.react").GlobalVideoPortsVideoComponentsRenderer,{currentPlaceID:(h=(h=f.getCurrentPlaceStateForVideo(h,d))==null?void 0:h.portablePlaceID)!=null?h:null,currentVideoID:d,injectCoreVideoStatesRef:s,previousPlaceMetaData:(h=a==null?void 0:a.previousPlaceMetaData)!=null?h:null,renderComponents:l,thisPlaceID:n})]})}}),null);
__d("VideoPlayerPortalingPlace.react",["CometTrackingCodeContext","CometTrackingNodesContext","CometViewportMarginsContext","CoreVideoPlayer.react","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsID","GlobalVideoPortsRenderers.react","React","VideoPlayerFullscreenController","VideoPlayerPortalingPlaceInfoProvider.react","VideoPlayerPortalingPlaceState","VideoPlayerPortalingPlaceWithPortaling.react","recoverableViolation","useStable"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h={bottom:0,left:0,right:0,top:0},i=g.forwardRef(function(a,c){var d=a.children;a=a.debugRole;return g.jsx(b("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentContainer,{debugRole:a,ref:c,children:d})});function a(a){var c=a.implementations,d=a.portalingEnabled,e=a.portalingFromVideoID,f=a.portalingPlaceMetaData,j=a.renderComponents,k=a.renderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","renderComponents","renderPlaceholder"]);g.useEffect(function(){return function(){}},[]);var l=e!=null?b("GlobalVideoPortsID").ensureVideoID(e):null;e!=null&&l==null&&b("recoverableViolation")("The provided portalingFromVideoID ("+String(e)+") does not look like such an ID. The video player will not use portaling until a valid ID is provided","comet_video_player");e=b("VideoPlayerPortalingPlaceState").useVideoPlayerPortalingPlaceState({portalingEnabled:d,portalingFromVideoID:l});d=e.canBecomePortableLater;l=e.currentVideoID;var m=e.globalVideoPortsManager,n=e.globalVideoPortsState;e=e.thisPlaceID;var o=g.useContext(b("CometViewportMarginsContext")),p=g.useRef(null),q=b("useStable")(function(){return b("VideoPlayerFullscreenController").createFullscreenController(p)}),r=g.useState(q.getIsFullscreen()),s=r[0],t=r[1];g.useEffect(function(){var a=q.subscribe(function(){var a=q.getIsFullscreen();t(a)});t(q.getIsFullscreen());return function(){a.remove()}},[q,t]);r=g.useContext(b("CometTrackingNodesContext"));r=r.join("");var u=g.useContext(b("CometTrackingCodeContext"));u=(u=u.encrypted_tracking[0])!=null?u:"";o=s?h:o;if(!d)return g.jsx(i,{debugRole:null,ref:p,children:g.jsx(b("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:e,currentVideoID:l,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:e,children:g.jsx(b("CoreVideoPlayer.react"),babelHelpers["extends"]({},a,{fullscreenController:q,implementations:c,isFullscreen:s,renderWithCoreVideoStates:j,trackingDataEncrypted:u,trackingNodes:r,viewportMarginsForViewability:o}))})});if(m&&n)return g.jsx(i,{debugRole:null,ref:p,children:g.jsx(b("VideoPlayerPortalingPlaceWithPortaling.react"),{coreVideoPlayerMetaData:a,currentVideoID:l,fullscreenController:q,globalVideoPortsManager:m,globalVideoPortsState:n,implementations:c,isFullscreen:s,portablePlaceMetaData:f,renderComponents:j,renderPlaceholder:k,thisPlaceID:e,trackingDataEncrypted:u,trackingNodes:r,viewportMarginsForViewability:o})});else return g.jsx(i,{debugRole:null,ref:p,children:g.jsx(b("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:null,currentVideoID:l,originalHeight:a.originalHeight,originalWidth:a.originalWidth,previousPlaceMetaData:null,renderPlaceholder:k,thisPlaceID:e})})}}),null);
__d("VideoPlayerTracePolicyProvider.react",["React","VideoPlayerTracePolicyContext"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.initialTracePolicy,e=a.routeTracePolicy;a=g.useState(d);var f=a[0],h=a[1];a=g.useState(e);var i=a[0],j=a[1];g.useEffect(function(){f!==d&&h(d),i!==e&&j(e)},[d,e,f,i]);return g.jsx(b("VideoPlayerTracePolicyContext").VideoPlayerTracePolicyContext.Provider,{value:{initialTracePolicy:f,routeTracePolicy:i},children:c})}}),null);
__d("CoreVideoPlayerWithComponents.react",["React","VideoPlayerComponentContainer.react","VideoPlayerPortalingPlace.react","VideoPlayerTracePolicyProvider.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.implementations,e=a.portalingEnabled,f=a.portalingFromVideoID,h=a.portalingPlaceMetaData,i=a.portalingRenderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder"]);var j=g.useCallback(function(a){return g.jsx(b("VideoPlayerComponentContainer.react"),babelHelpers["extends"]({},a,{children:c}))},[c]);return g.jsx(b("VideoPlayerTracePolicyProvider.react"),{initialTracePolicy:a.initialTracePolicy,routeTracePolicy:a.routeTracePolicy,children:g.jsx(b("VideoPlayerPortalingPlace.react"),babelHelpers["extends"]({},a,{implementations:d,portalingEnabled:e,portalingFromVideoID:f,portalingPlaceMetaData:h,renderComponents:j,renderPlaceholder:i}))})}}),null);
__d("VideoPlayerErrorBoundary.react",["FBLogger","React","getErrorSafe"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={error:null},c.suppressReactDefaultErrorLogging=!0,b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromError=function(a){return{error:b("getErrorSafe")(a)}};var d=c.prototype;d.componentDidCatch=function(a,c){c=c.componentStack;a=b("getErrorSafe")(a);a.componentStack=c;c=this.props;var d=c.description,e=c.onError;c=c.project;var f="ErrorBoundary caught an Error";d!=null&&(f=f+" ("+d+")");d=["OZ_NETWORK","BUFFERING_TIMEOUT","MEDIA_ERR_DECODE"];var g=!0;for(var h=0;h<d.length;h++)a.message.includes(d[h])&&(g=!1);d=b("FBLogger")(c==null?"comet_video_player":c).catching(a);g?d.fatal(f):d.warn(f);e!=null&&e(a)};d.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.error;return c?typeof a==="function"?a(c):a:b};return c}(a.PureComponent);e.exports=c}),null);
__d("CometWatchAndScrollHooks",["CometWatchAndScrollSetUnmutedPlayingVideoContext","CometWatchAndScrollUnmutedPlayingVideoContext","CometWatchAndScrollVideoContext","React","VideoPlayerHooks","emptyFunction","qex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(){var a=b("VideoPlayerHooks").useController(),c=b("VideoPlayerHooks").useMuted(),d=g.useContext(b("CometWatchAndScrollVideoContext")),e=b("VideoPlayerHooks").usePlaying(),f=g.useContext(b("CometWatchAndScrollSetUnmutedPlayingVideoContext"));g.useEffect(function(){if(!c&&d!=null&&e&&a!==(d==null?void 0:d.controller)){var b=d.controller.getCurrentState();!b.muted&&b.playing&&d.controller.setMuted(!0,"product_initiated")}!c&&e&&f!=null&&f({controller:a})},[a,d,c,f,e])}function c(){var a=b("VideoPlayerHooks").useController(),c=b("VideoPlayerHooks").useMuted(),d=b("VideoPlayerHooks").usePlaying(),e=g.useContext(b("CometWatchAndScrollUnmutedPlayingVideoContext"));g.useEffect(function(){if(!c&&e!=null&&d&&a!==(e==null?void 0:e.controller)){var b=e.controller.getCurrentState();!b.muted&&b.playing&&e.controller.setMuted(!0,"user_initiated")}},[c,e,a,d])}d=b("qex")._("1645923")?b("emptyFunction"):c;f.useMuteUnmutedVideo=d;e=b("qex")._("1645923")?b("emptyFunction"):a;f.useMuteUnmutedWatchAndScrollVideo=e}),null);
__d("VideoPlayerAutoplayHooks",["React","VideoPlayerAutoplayContexts","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.useAutoplayApi=a;f.useVideoAutoplayLocalScope=c;var g=b("React");function a(){var a=g.useContext(b("VideoPlayerAutoplayContexts").AutoplayApiContext);if(a==null)throw b("unrecoverableViolation")("Empty AutoplayApiContext. Are you rendering useAutoplayApi outside of VideoAutoplayManagerX?","comet_video_player");return a}function c(){return g.useContext(b("VideoPlayerAutoplayContexts").VideoAutoplayLocalScopeContext)}}),null);
__d("VideoPlayerDebugAutoplayAPI",["emptyFunction","requireCond","cr:1453865"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1453865"))!=null?a:{useVideoPlayerDebugAPI:b("emptyFunction").thatReturns(null),useVideoPlayerDebugAPIDefinition:b("emptyFunction"),useVideoPlayerDebugInfo:b("emptyFunction").thatReturns(null)};e.exports=c}),null);
__d("evaluateVideoAutoplayDefaultAllowRule",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){return"ALLOW"}a.displayName="evaluateVideoAutoplayDefaultRule"}),null);
__d("evaluateVideoAutoplayDefaultIgnoreRule",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){return"IGNORE"}a.displayName="evaluateVideoAutoplayDefaultIgnoreRule"}),null);
__d("makeSelectedAutoplayVideoSymbol",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){b=b+"::"+a;return b}}),null);
__d("AutoplayRulesEngine",[],(function(a,b,c,d,e,f){"use strict";var g=-2,h=-1;a=function(){function a(a){this.$1=g,this.$2=a}var b=a.prototype;b.evaluateAutoplay=function(a,b){b=b();var c=h;if(a)for(var d=0;d<this.$2.length;d++){var e=this.$2[d](a);if(e!=="SKIP"){b=e;c=d;break}}this.$1=c;return b};b.getIndexOfLastWinningRule=function(){return this.$1};b.getRules=function(){return this.$2};return a}();e.exports=a}),null);
__d("useAutoplayRulesEngine",["AutoplayRulesEngine","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=g.useRef(a),d=g.useState(function(){return new(b("AutoplayRulesEngine"))(a)}),e=d[0],f=d[1];g.useEffect(function(){c.current!==a&&f(function(){return new(b("AutoplayRulesEngine"))(a)})},[a]);g.useEffect(function(){c.current=e.getRules()},[e]);return e}}),null);
__d("useConcurrentAutoplayManagementAPI",["React","removeFromArray","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";f.useAutoplayControlID=a;f.createConcurrentAutoplayManagementAPI=h;f.useConcurrentAutoplayManagementAPI=c;var g=b("React");function a(){var a=b("useCometUniqueID")();return a}function h(){var a=[];return{isControllingComponent:function(b){var c=a.length;return a[c-1]===b},registerControllingComponent:function(c){b("removeFromArray")(a,c),a.push(c)},unregisterControllingComponent:function(c){var d=a.length;d>1&&b("removeFromArray")(a,c);return d>1}}}function c(){var a=g.useState(function(){return h()});a=a[0];return a}}),null);
__d("useVideoAutoplayState",["HiddenSubtreePassiveContext","JSScheduler","React","VideoPlayerHooks","VideoPlayerViewabilityHooks","gkx","useIsBackgrounded"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a,c=(a=b("VideoPlayerHooks")).useAdClientToken(),d=a.useAutoplayGatingResult(),e=a.useBroadcastStatus(),f=a.useEnded(),h=a.useIsFrozenPassive(),i=a.useLastPauseReason(),j=a.useLastPlayReason(),k=a.useMuted(),l=a.usePaused(),m=g.useContext(b("HiddenSubtreePassiveContext"));a=!c;var n=b("useIsBackgrounded")({scrollTerminatesBackgrounded:a}),o=b("VideoPlayerViewabilityHooks").useVideoPlayerPassiveViewabilityInfo();a=g.useState(m.getCurrentState().backgrounded);var p=a[0],q=a[1];a=g.useState(m.getCurrentState().hidden);var r=a[0],s=a[1];g.useEffect(function(){function a(a,b){s(a),q(b)}var c=m.subscribeToChanges(function(c){b("gkx")("1500552")?b("JSScheduler").next(function(){var b=m.getCurrentState();a(b.hidden,b.backgrounded)}):a(c.hidden,c.backgrounded)}),d=m.getCurrentState().hidden,e=m.getCurrentState().backgrounded;b("gkx")("1500552")?b("JSScheduler").next(function(){var b=m.getCurrentState();a(b.hidden,b.backgrounded)}):a(d,e);return function(){c.remove()}},[m,q,s]);a=g.useState(function(){return h.getCurrentState()});var t=a[0],u=a[1];g.useEffect(function(){var a=h.subscribeToChanges(function(a){u(a)}),b=h.getCurrentState();u(b);return function(){a.remove()}},[h,u]);var v=g.useMemo(function(){return{adClientToken:c,autoplayGatingResult:d,broadcastStatus:e,controllerIsFrozen:t,currentSubtreeIsBackgrounded:p,currentSubtreeIsHidden:r,ended:f,hiddenSubtreePassive:m,isBackgrounded:n,isFrozenPassive:h,lastPauseReason:i,lastPlayReason:j,muted:k,paused:l,videoPlayerPassiveViewabilityInfo:o}},[c,d,e,t,p,r,f,m,n,h,i,j,k,l,o]);a=g.useState(v);var w=a[0],x=a[1],y=g.useRef(w);g.useEffect(function(){y.current=w},[w]);g.useEffect(function(){var a=!1;for(var b in v)if(Object.prototype.hasOwnProperty.call(v,b)&&v[b]!==y.current[b]){a=!0;break}a&&x(v)},[v,x]);return w}}),null);
__d("CoreVideoPlayerAutoplayClient.react",["CoreVideoPlayerAutoplayClientUtils","HiddenSubtreePassiveContext","React","VideoPlayerAutoplayHooks","VideoPlayerDebugAutoplayAPI","VideoPlayerHooks","WwwCometVideoAutoplayFalcoEvent","evaluateVideoAutoplayDefaultAllowRule","evaluateVideoAutoplayDefaultIgnoreRule","makeSelectedAutoplayVideoSymbol","useAutoplayRulesEngine","useCometUniqueID","useConcurrentAutoplayManagementAPI","useVideoAutoplayState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a,c=b("useCometUniqueID")(),d=(a=b("VideoPlayerHooks")).useCanAutoplay(),e=a.useInstanceKey(),f=g.useMemo(function(){return b("makeSelectedAutoplayVideoSymbol")(c,e)},[c,e]),h=g.useRef(f);g.useEffect(function(){h.current=f},[f]);var i=g.useContext(b("HiddenSubtreePassiveContext")),j=a.useController(),k=b("useConcurrentAutoplayManagementAPI").useAutoplayControlID();g.useEffect(function(){b("CoreVideoPlayerAutoplayClientUtils").log(h.current,"[ASSUME CONTROL] "+k),j.registerControllingComponent(k)},[j,k]);var l=a.useVideoPlayerPassiveViewabilityInfo(),m=b("useVideoAutoplayState")(),n=b("VideoPlayerAutoplayHooks").useVideoAutoplayLocalScope(),o=g.useRef(n);g.useEffect(function(){o.current=n},[n]);var p=b("useAutoplayRulesEngine")(n.autoplayLocalRules),q=d==="allow"?b("evaluateVideoAutoplayDefaultAllowRule"):b("evaluateVideoAutoplayDefaultIgnoreRule");a=g.useState(function(){return q});var r=a[0],s=a[1];a=g.useState(null);var t=a[0],u=a[1];a=g.useState(function(){return p.evaluateAutoplay(m,q)});var v=a[0],w=a[1];a=g.useState(null);var x=a[0],y=a[1],z=g.useRef(v),A=b("VideoPlayerAutoplayHooks").useAutoplayApi(),B=g.useRef(A);g.useEffect(function(){B.current=A},[A]);var C=d!=="dangerously_disable_autoplay_management";g.useEffect(function(){A.register(f,e,n,j,i,C);b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"register",autoplay_scope_id:o.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:A.getAutoplayManagerDebugInfo(o.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:z.current}});return function(){A.unregister(f),b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"unregister",autoplay_scope_id:o.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:A.getAutoplayManagerDebugInfo(o.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:z.current}})}},[A,n,j,i,e,C,f]);g.useEffect(function(){var a=function(){var c=p.evaluateAutoplay(m,q);z.current=c;var d=p.getRules(),e=p.getIndexOfLastWinningRule(),a=e>=0?d[e]:q;d=l&&l.getCurrent();e=j.getCurrentState();e=e.paused;(x===null||x!==c)&&(w(c),y(c));if(c==="PAUSE"&&!e&&j.isControllingComponent(k)){e="[PAUSE] via short-circuit on "+a.name+".";b("CoreVideoPlayerAutoplayClientUtils").log(h.current,e);j.pause("autoplay_initiated");b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:o.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:A.getAutoplayManagerDebugInfo(o.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:c}})}(t===null||t!==a)&&(s(function(){return a}),u(function(){return a}),b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"rule_changed",autoplay_scope_id:o.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:A.getAutoplayManagerDebugInfo(o.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:c}}));b("CoreVideoPlayerAutoplayClientUtils").log(h.current,"[DECISION: "+c+"] from "+a.name);d&&A.update(f,c,d)},c=i.subscribeToChanges(function(a){i.getCurrentState().hidden||i.getCurrentState().backgrounded?j.isControllingComponent(k)||j.unregisterControllingComponent(k):j.registerControllingComponent(k)}),d=l?l.subscribe(function(){i.getCurrentState().hidden||i.getCurrentState().backgrounded?j.isControllingComponent(k)||j.unregisterControllingComponent(k):j.registerControllingComponent(k),a()}):null;a();return function(){c.remove(),d&&d.remove()}},[A,k,p,j,q,i,t,x,s,w,u,y,f,m,l]);g.useEffect(function(){var a=j.isControllingComponent(k),c=j.getCurrentState();c=c.paused;b("CoreVideoPlayerAutoplayClientUtils").componentShouldPause(v,z.current,c,a)&&(b("CoreVideoPlayerAutoplayClientUtils").log(h.current,"[PAUSE] the video for "+v),j.pause("autoplay_initiated"),b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:o.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:B.current.getAutoplayManagerDebugInfo(o.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:v}}))},[v,j,k]);g.useEffect(function(){return function(){b("CoreVideoPlayerAutoplayClientUtils").log(h.current,"[RELEASE CONTROL] "+k),j.unregisterControllingComponent(k)}},[j,k]);b("VideoPlayerDebugAutoplayAPI").useVideoPlayerDebugAPIDefinition({applicableRule:r,autoplayApiRef:B,autoplayDecision:v,autoplayLocalScope:n,symbol:f});return null}}),null);
__d("VideoPlayerCaptionsAreaDeferred.react",["React","deferredLoadComponent","requireDeferredForDisplay"],(function(a,b,c,d,e,f){"use strict";b("React");a=b("deferredLoadComponent")(b("requireDeferredForDisplay")("VideoPlayerCaptionsArea.react"));e.exports=a}),null);
__d("VideoPlayerWebSessionExtender.react",["React","VideoPlayerHooks","WebSessionExtender","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=b("VideoPlayerHooks").usePlaying(),c=b("useCometUniqueID")();g.useEffect(function(){if(a){b("WebSessionExtender").subscribe(c,"video");return function(){b("WebSessionExtender").unsubscribe(c)}}},[a,c]);return null}}),null);
__d("useVideoPlayerDefaultLoadingIndicatorsLogic",["VideoPlayerHooks"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){var a=b("VideoPlayerHooks").useStalling(),c=b("VideoPlayerHooks").useStreamInterrupted(),d=b("VideoPlayerHooks").useIsLiveRewindActive();c=c&&!d;d=a;a=c?"live_video_interrupted_overlay":d?"spinner":"none";return{liveVideoInterruptedOverlayVisible:c,loadingIndicatorType:a,spinnerVisible:d}}}),null);
__d("useVideoPlayerDefaultLoadingIndicators",["CometPlaceholder.react","React","deferredLoadComponent","requireDeferred","requireDeferredForDisplay","useVideoPlayerDefaultLoadingIndicatorsLogic"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=b("deferredLoadComponent")(b("requireDeferredForDisplay")("VideoPlayerSpinner.react")),i=b("deferredLoadComponent")(b("requireDeferred")("VideoPlayerWithLiveVideoInterruptedOverlay.react"));function a(){var a=b("useVideoPlayerDefaultLoadingIndicatorsLogic")(),c=a.loadingIndicatorType;a=a.spinnerVisible;var d=g.jsx(b("CometPlaceholder.react"),{fallback:null,children:g.jsx(i,{})});a=g.jsx(h,{isVisible:a});var e=null;switch(c){case"spinner":e=a;break;case"live_video_interrupted_overlay":e=d;break;case"none":default:e=a}return{loadingIndicatorElement:e,loadingIndicatorType:c}}}),null);
__d("UnifiedVideoCVCSubscription",["CVCv3DisabledPlayerOrigins","CVCv3DisabledPlayerSubOrigins","CVCv3SubscriptionHelper","DateConsts","XVideoUnifiedCVCControllerRouteBuilder","clearTimeout","cometAsyncFetch","emptyFunction","gkx","promiseDone","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=Object.values(b("CVCv3DisabledPlayerOrigins")),h=Object.values(b("CVCv3DisabledPlayerSubOrigins")),i=10;a=function(){function a(a,c,d,e,f,i,j){var k=this;this.$17=function(){k.$10=null,k.$16(),k.$15(0)};this.$1=new(b("CVCv3SubscriptionHelper"))(a,c,d);this.$5=f;this.$6=null;this.$7=j;this.$10=null;this.$11=!this.$1.isValidSubscription();this.$3=null;this.$2=null;a=c!=null?g.includes(c):!1;f=d!=null?h.includes(d):!1;!a&&!f&&(this.$3=e,this.$12=i,this.$4=e.subscribe(function(){if(k.$3==null)return;var a=k.$3.getCurrentState();a.playing?k.$13(a):k.$14()}))}var c=a.prototype;c.$13=function(a){if(this.$3==null)return;var c=!1;this.$7!=null&&(c=b("gkx")("1113562"));c||(c=this.$5?!0:b("gkx")("1124976"));if(!c)return;if(a.playing){if(this.$2==null){c=this.$3.getPlayheadPosition();c>=0&&(this.$2=c)}}else this.$2=null;this.$15(0)};c.stopUnifiedCVC=function(){this.$14()};c.destroy=function(){this.$14(),this.$4!=null&&this.$4.remove(),this.$4=null,this.$3=null};c.$14=function(){b("clearTimeout")(this.$9),b("clearTimeout")(this.$8),this.$9=null,this.$8=null,this.$2=null,this.$1.clearAnyPreviousContext(),this.$10=null};c.$16=function(){b("clearTimeout")(this.$8),this.$8=null};c.$15=function(a){var c=this;if(this.$3==null||this.$9!=null||this.$10!=null||this.$11)return;this.$9=b("setTimeout")(function(){c.$9=null;var a=c.$18();if(a==null)return;c.$10=a;b("promiseDone")(a,function(b){if(a!==c.$10)return;c.$10=null;if(b!=null){b=c.$1.processUnifiedResponse(b);c.$19(b)}},b("emptyFunction"));c.$8=b("setTimeout")(c.$17,i*b("DateConsts").MS_PER_SEC)},a)};c.$19=function(a){this.$16();a.d!=null&&this.$12!=null&&this.$12(a.d);if(a.a!=null){var c=a.a.t;switch(c){case"p":c=a.a.pi;c==null&&(c=i);this.$15(c*b("DateConsts").MS_PER_SEC);break;case"s":this.$11=!0;break}}};c.$18=function(){var a=this.$20();if(a==null)return null;a={d:JSON.stringify(a)};return b("cometAsyncFetch")(b("XVideoUnifiedCVCControllerRouteBuilder").buildURL({}),{data:a,method:"POST"})};c.$20=function(){if(this.$3==null)return null;var a={};this.$7!=null&&(a.lr=this.$7);this.$6!=null&&(a.lc=this.$6);this.$5&&(a.ls=!0);var b=0,c=0;this.$2!=null&&(b=this.$2,c=this.$3.getPlayheadPosition());var d=this.$3.getCurrentState();b=this.$1.makeUnifiedVideoCVCUpdate(b,c,this.$21(d),d.muted,a);return b};c.$21=function(a){if(a.playing||a.seeking)return"playing";else if(a.ended)return"ended";else if(a.paused)return"paused";else return"unknown"};c.testing_setLastStartPosition=function(a){this.$2=a};c.testing_makeUnifiedStateUpdate=function(){return this.$20()};c.testing_handleUnifiedResponse=function(a){return this.$19(a)};return a}();e.exports=a}),null);
__d("getPlayerFormatForLogData",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){return a===!0?"full_screen":b!=null?b:"inline"}}),null);
__d("useVideoPlayerUnifiedCVCProvider",["UnifiedVideoCVCSubscription","VideoPlayerHooks","createVideoStateHook","getPlayerFormatForLogData","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";f.useVideoPlayerUnifiedCVCProvider=a;c=b("createVideoStateHook").createVideoStateHook(null);var g=c.setterHook;d=b("createVideoStateHook").createVideoStateHook(null);var h=d.setterHook;e=d.valueHook;function a(a){var c=a.livingRoomID,d=a.playerFormat,e=a.subOrigin,f=a.videoFBID,i=b("VideoPlayerHooks").useIsLive(),j=b("VideoPlayerHooks").useIsFullscreen(),k=b("VideoPlayerHooks").useController(),l=g(),m=h();b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=new(b("UnifiedVideoCVCSubscription"))(f,b("getPlayerFormatForLogData")(j,d),e,k,i,function(a){m(a)},c);l(a);return function(){a.destroy()}},[c,j,i,d,m,l,e,k,f])}a=e;f.useVideoPlayerUnifiedCVCData=a}),null);
__d("VideoPlayerXImplSurface.react",["CometWatchAndScrollHooks","CoreVideoPlayerAutoplayClient.react","React","VideoPlayerCaptionsAreaDeferred.react","VideoPlayerInteractionOverlay.react","VideoPlayerWebSessionExtender.react","emptyFunction","gkx","requireCond","useVideoPlayerDefaultLoadingIndicators","useVideoPlayerUnifiedCVCProvider","cr:1583596","cr:946298"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c,d=a.children,e=a.disableLoadingIndicator;e=e===void 0?!1:e;var f=a.instreamVideoAdBreaksPlayer,h=a.livingRoomID,i=a.playerFormat,j=a.subOrigin,k=a.videoFBID;a=a.videoPlayerSpherical;c=(c=b("CometWatchAndScrollHooks").useMuteUnmutedWatchAndScrollVideo)!=null?c:b("emptyFunction");b("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCProvider({livingRoomID:h,playerFormat:i,subOrigin:j,videoFBID:k});c();h=b("useVideoPlayerDefaultLoadingIndicators")();i=h.loadingIndicatorElement;return g.jsxs(g.Fragment,{children:[a,e?null:i,b("gkx")("1586633")?g.jsx(b("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{}):null,g.jsx(b("VideoPlayerCaptionsAreaDeferred.react"),{children:d}),g.jsx(b("CoreVideoPlayerAutoplayClient.react"),{}),b("cr:1583596")?g.jsx(b("cr:1583596"),{}):null,b("cr:946298")?g.jsx(b("cr:946298"),{subOrigin:j}):null,f,g.jsx(b("VideoPlayerWebSessionExtender.react"),{})]})}}),null);
__d("normalizeVideoPlayerLoopCount",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){c===void 0&&(c=null);d===void 0&&(d=null);if(a==null){d=((c=c)!=null?c:!1)?(c=d)!=null?c:0:0;d===-1?c=-1:d<0||!Number.isFinite(d)||Math.floor(d)!==d?c=0:c=d}else if(a===-1||a===Number.POSITIVE_INFINITY)c=-1;else if(a<0||!Number.isFinite(a)||Math.floor(a)!==a)throw b("unrecoverableViolation")("Invalid loopingCount: "+a,"comet_video_player");else c=a;return c}}),null);
__d("VideoPlayerXImpl.react",["CoreVideoPlayerWithComponents.react","React","VideoPlayerXImplSurface.react","normalizeVideoPlayerLoopCount","usePlayerOriginRouteTracePolicy"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.disableLoadingIndicator,e=a.implementations,f=a.instreamVideoAdBreaksPlayer,h=a.portalingEnabled,i=a.portalingFromVideoID,j=a.portalingPlaceMetaData,k=a.portalingRenderPlaceholder,l=a.videoPlayerSpherical;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","disableLoadingIndicator","implementations","instreamVideoAdBreaksPlayer","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder","videoPlayerSpherical"]);var m=b("usePlayerOriginRouteTracePolicy")(),n=a.loopCount,o=a.playerFormat,p=a.subOrigin,q=a.videoFBID;n=b("normalizeVideoPlayerLoopCount")(n);return g.jsx(b("CoreVideoPlayerWithComponents.react"),babelHelpers["extends"]({},a,{implementations:e,loopCount:n,portalingEnabled:h,portalingFromVideoID:i,portalingPlaceMetaData:j,portalingRenderPlaceholder:k,routeTracePolicy:m,children:g.jsx(b("VideoPlayerXImplSurface.react"),{children:c,disableLoadingIndicator:d,instreamVideoAdBreaksPlayer:f,livingRoomID:a.livingRoomID,playerFormat:o,subOrigin:p,videoFBID:q,videoPlayerSpherical:l})}))}}),null);
__d("GraphQLVideoAutoplayGatingResult",[],(function(a,b,c,d,e,f){"use strict";f.makeGraphQLVideoAutoplayGatingResult=a;function a(a,b,c){a=a!=null?a:"unknown";b=b?b:null;a={autoplayGatingResult:a,autoplaySetting:b,canAutoplay:c!=null?c:!1};return a}}),null);
__d("getVideoPlayerAutoplayProps",["gkx"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){c=c!=null?c:"respect_user_settings";var e=c==="dangerously_always_autoplay";d=d!=null?d:"unknown";var f=b("gkx")("1454109")?a.autoplaySetting||"default_autoplay":a.autoplaySetting,g=b("gkx")("1454109")?f==="off":!1;e=e||c==="respect_user_settings"&&!g&&a.canAutoplay;g=c==="do_not_autoplay"?d:a.autoplayGatingResult;d=e?"allow":c==="dangerously_disable_autoplay_management"?"dangerously_disable_autoplay_management":"deny";return{autoplayGatingResult:g,autoplaySetting:f,canAutoplay:d}}}),null);
__d("VideoPlayerCaptionsController",["JSResource","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.createCaptionsController=a;var g=b("JSResource")("VideoPlayerHTML5ApiCea608State").__setRef("VideoPlayerCaptionsController"),h=b("JSResource")("VideoPlayerHTML5ApiWebVttState").__setRef("VideoPlayerCaptionsController");function a(a){var c=a.captionsUrl,d=a.inbandCaptionsExpected,e=a.onCaptionsLoaded,f=null,i=null,j=null,k=null;function l(a){var c=h.load().then(function(b){if(c!==j)return;f=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(b){b.loadFromUrl(a)}})})["catch"](function(a){if(c!==j)return;b("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiWebVttState module: "+a.message,"comet_video_player")});return c}function m(){var a=g.load().then(function(b){if(a!==k)return;i=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(a){a.processQueue()}})})["catch"](function(c){if(a!==k)return;b("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiCea608State module: "+c.message,"comet_video_player")});return a}c!=null?j=l(c):d===!0&&(k=m());return{destroy:function(){f&&(f.destroy(),f=null),i&&(i.destroy(),i=null),j&&(j=null),k&&(k=null)},handleCea608BytesReceived:function(a){i&&i.enqueueBytes(a)},handleTimeUpdate:function(a){if(f){f.source&&f.source.handleTimeUpdate(a);return f.getCurrentScreenRepresentation()}else if(i){i.source&&i.source.handleTimeUpdate(a);return i.getCurrentScreenRepresentation()}return null},updateCaptionsUrl:function(a){f&&(f.destroy(),f=null),a!=null&&(j=l(a))},updateInbandCaptionsExpected:function(a){i&&(i.destroy(),i=null),a&&(k=m())}}}}),null);
__d("VideoPlayerFallbackCover.react",["fbt","React","requireCond","cr:1405514"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c;c=(c=a.message)!=null?c:g._("Sorry, we're having trouble playing this video.");return h.jsx(b("cr:1405514"),{message:c,onRetry:a.onRetry})}}),null);
__d("VideoPlayerRetryableErrorBoundary.react",["React","VideoPlayerErrorBoundary.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.description,e=a.fallback;a=g.useState(0);var f=a[0],h=a[1],i=g.useCallback(function(){h(function(a){return a+1})},[]);a=g.useCallback(function(){return e({retry:i})},[e,i]);return g.jsx(b("VideoPlayerErrorBoundary.react"),{description:d,fallback:a,project:"comet_video_player",children:c},f)}}),null);
__d("VideoPlayerBanzaiLogFlusher",["Banzai","BanzaiConsts","emptyFunction","gkx"],(function(a,b,c,d,e,f){"use strict";var g,h="video_player";a=b("emptyFunction");c=function(){function a(a){this.$1=a}var c=a.prototype;c.flushLogs=function(){var a=this.$1.consumeLoggerEvents();a.forEach(function(a){var c={event:a.eventType,logData:a.logData,routeTracePolicy:a.routeTracePolicy,source:a.source_VPL_LOGGING_HACK};a=(a=a.logData)==null?void 0:a.ad_client_token;var d=b("gkx")("1426867")?{batch:1500,delay:(g||(g=b("BanzaiConsts"))).VITAL_WAIT}:{delay:(g||(g=b("BanzaiConsts"))).VITAL_WAIT};b("gkx")("1107827")?b("Banzai").post(h,c,d):a!=null?b("Banzai").post(h,c,b("Banzai").VITAL):(d.delay=(g||(g=b("BanzaiConsts"))).BASIC_WAIT_COMET,b("Banzai").post(h,c,d))})};return a}();e.exports=c}),null);
__d("VideoPlayerBanzaiODS",["BanzaiODS","Random"],(function(a,b,c,d,e,f){"use strict";a=function(a,c,d){b("Random").coinflip(d)&&b("BanzaiODS").bumpEntityKey(2079,a,c,d)};f.bumpEntityKey=a}),null);
__d("VideoPlayerImplementationErrors",["getErrorMessageFromMediaErrorCode","getErrorNameFromMediaErrorCode"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerErrorFromHTMLVideoElementError=a;f.createVideoPlayerErrorFromVideoElementPlayPromiseRejectionReason=c;f.createVideoPlayerErrorFromGenericError=d;function a(a){var c=a.errorLocation,d=a.hostCallError,e=a.videoElementError,f=a.videoElementNetworkState;a=a.videoElementReadyState;var g=e==null?void 0:e.code,h=d!=null&&typeof d.message==="string"?d.message:null;h==null&&(h=e==null?void 0:e.message);h==null&&g!=null&&(h=b("getErrorMessageFromMediaErrorCode")(g));e={createdTimestamp:Date.now(),errorDescription:((e=h)!=null?e:"Empty error")+("; code: "+((h=g)!=null?h:"undefined"))+("; readyState: "+a)+("; networkState: "+f),errorLocation:c,errorName:b("getErrorNameFromMediaErrorCode")(g),originalError:d};return e}function c(a,b){if(a==null){var c={createdTimestamp:Date.now(),errorDescription:"Empty rejection reason from video play()",errorLocation:b,errorName:"PlayRejectedError"};return c}c={createdTimestamp:Date.now(),errorCode:typeof a.code==="string"?a.code:typeof a.code==="number"?String(a.code):void 0,errorDescription:typeof a.message==="string"?a.message:String(a),errorLocation:b,errorName:typeof a.name==="string"?a.name:"PlayRejectedError"};return c}function d(a,b,c){var d;d={message:(d=b==null?void 0:b.message)!=null?d:"",name:(d=b==null?void 0:b.name)!=null?d:"UnknownError",stack:(b==null?void 0:b.stack)||new Error().stack};b={createdTimestamp:Date.now(),errorCode:null,errorDescription:d.name+" "+d.message,errorLocation:c,errorName:a,stack:d.stack,url:null};return b}}),null);
__d("VideoPlayerImplementationStateMachine",["VideoPlayerImplementationErrors","gkx","recoverableViolation","shallowEqual","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerImplementationStateMachine=m;f.createVideoPlayerImplementationStateMachineWithStateTransitionHandlers=a;f.createReactVideoElementCallbacksForStateMachine=c;function g(a){var b=a.bufferingDetected,c=a.seeking;a=a.waitingForDomPlaying;return!b&&!c&&!a}function h(a){var c=a.bufferingDetected,d=a.prevPlaybackState,e=a.seeking;a=a.waitingForDomPlaying;c=g({bufferingDetected:c,seeking:e,waitingForDomPlaying:a});e=d;switch(d){case"stalling":e=c?"playing":"stalling";break;case"ended":case"paused":case"playing":break;default:d;b("recoverableViolation")("unexpected playbackState: "+d,"comet_video_player");break}return e}function i(a,c,d){switch(d.type){case"host_call_pause":case"host_call_play":case"host_call_set_current_time":case"host_call_set_volume":case"host_call_set_muted":case"host_call_set_playback_rate":case"host_call_set_video_quality":return babelHelpers["extends"]({},a,{hostCallQueue:a.hostCallQueue.concat([d])});case"dom_event_ended":return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});case"dom_event_pause":if(a.playbackState==="ended")return a;if(c.videoElementEnded===!0)return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});return a.playbackState==="paused"?a:babelHelpers["extends"]({},a,{playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play":var e=a.playbackState,f=e;switch(e){case"playing":case"stalling":case"ended":case"paused":f="stalling";break;default:e;b("recoverableViolation")("unexpected playbackState: "+e,"comet_video_player");break}e=!0;return babelHelpers["extends"]({},a,{playbackState:f,waitingForDomPlaying:e});case"dom_event_playing":f=a.bufferingDetected;e=a.seeking;var g=!1,i=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:h({bufferingDetected:f,prevPlaybackState:i,seeking:e,waitingForDomPlaying:g}),waitingForDomPlaying:g});case"dom_event_timeupdate":if(a.waitingForDomTimeUpdateAfterSeeked){f=a.bufferingDetected;i=a.seeking;e=!1;g=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:h({bufferingDetected:f,prevPlaybackState:g,seeking:i,waitingForDomPlaying:e}),waitingForDomPlaying:e,waitingForDomTimeUpdateAfterSeeked:!1})}return a;case"dom_event_seeking":f=a.playbackState;g=f;switch(f){case"paused":case"ended":break;case"stalling":case"playing":g="stalling";break;default:f,b("recoverableViolation")("unexpected playbackState: "+f,"comet_video_player")}return babelHelpers["extends"]({},a,{playbackState:g,seeking:!0,waitingForDomPlaying:!0});case"dom_event_seeked":i=a.bufferingDetected;e=a.waitingForDomPlaying;f=!1;g=a.playbackState;return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:null,playbackState:h({bufferingDetected:i,prevPlaybackState:g,seeking:f,waitingForDomPlaying:e}),seeking:f,waitingForDomTimeUpdateAfterSeeked:!0});case"dom_event_error":i=b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromHTMLVideoElementError({errorLocation:"dom_event_error",hostCallError:null,videoElementError:d.payload.videoElementError,videoElementNetworkState:d.payload.videoElementNetworkState,videoElementReadyState:d.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:i,playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play_promise_created":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:d.payload.hostCallPlayID});case"dom_event_play_promise_resolved":return a.hostCallPlayIDLast!==d.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"dom_event_play_promise_rejected":return a.hostCallPlayIDLast!==d.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null,playbackState:a.playbackState==="stalling"?"paused":a.playbackState,waitingForDomPlaying:!1});case"implementation_host_call_queue_flushed":return babelHelpers["extends"]({},a,{hostCallQueue:[]});case"implementation_host_call_failed":g=b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromHTMLVideoElementError({errorLocation:d.payload.errorLocation,hostCallError:d.payload.hostCallError,videoElementError:d.payload.videoElementError,videoElementNetworkState:d.payload.videoElementNetworkState,videoElementReadyState:d.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:g,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_video_node_unmounted":return a;case"implementation_engine_initialized":return babelHelpers["extends"]({},a,{availableQualities:d.payload.availableQualities,selectedVideoQuality:d.payload.selectedVideoQuality,targetVideoQuality:d.payload.targetVideoQuality,videoProjection:d.payload.videoProjection});case"implementation_engine_destroyed":return a;case"implementation_fatal_error":return babelHelpers["extends"]({},a,{error:d.payload.fatalError,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:d.payload.seekSourcePosition});case"representation_changed":return babelHelpers["extends"]({},a,{targetVideoQuality:d.payload.targetVideoQuality});case"controller_pause_requested":return a.playbackState==="ended"?a:babelHelpers["extends"]({},a,{lastPauseReason:d.payload.reason,lastPausedTimeMs:Date.now(),lastPlayedTimeMs:0,playbackState:"paused",waitingForDomPlaying:!1,watchTimeMs:a.lastPlayedTimeMs>0?a.watchTimeMs+(Date.now()-a.lastPlayedTimeMs):a.watchTimeMs});case"controller_play_requested":if(a.playbackState!=="paused"&&a.playbackState!=="ended")return a;e=a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1?d.payload.reason==="loop_initiated"?a.loopCurrent+1:a.loopCurrent:0;return babelHelpers["extends"]({},a,{lastPlayReason:d.payload.reason,lastPlayedTimeMs:a.lastPlayedTimeMs===0?Date.now():a.lastPlayedTimeMs,loopCurrent:e,playbackState:"stalling",waitingForDomPlaying:!0});case"controller_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(f=c.videoElementPlayheadPosition)!=null?f:a.implementationSeekSourcePosition,seekTargetPosition:d.payload.seekTargetPosition,seeking:!0});case"controller_quality_requested":return babelHelpers["extends"]({},a,{selectedVideoQuality:d.payload.selectedVideoQuality});case"controller_muted_requested":return babelHelpers["extends"]({},a,{lastMuteReason:d.payload.reason,muted:d.payload.muted});case"controller_volume_requested":return babelHelpers["extends"]({},a,{volume:d.payload.volume});case"controller_scrub_begin_requested":return a.scrubbing?a:babelHelpers["extends"]({},a,{scrubbing:!0,seekTargetPosition:null});case"controller_scrub_end_requested":return!a.scrubbing?a:babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(i=c.videoElementPlayheadPosition)!=null?i:a.implementationSeekSourcePosition,scrubbing:!1,seekTargetPosition:d.payload.seekTargetPosition,seeking:d.payload.seekTargetPosition!=null});case"buffering_begin_requested":g=a.playbackState;e=g;switch(g){case"paused":case"ended":break;case"playing":case"stalling":e="stalling";break;default:g;b("recoverableViolation")("unexpected playbackState: "+g,"comet_video_player");break}return babelHelpers["extends"]({},a,{bufferingDetected:!0,playbackState:e});case"buffering_end_requested":f=a.seeking;c=a.waitingForDomPlaying;i=!1;g=a.playbackState;return babelHelpers["extends"]({},a,{bufferingDetected:i,playbackState:h({bufferingDetected:i,prevPlaybackState:g,seeking:f,waitingForDomPlaying:c})});case"controller_set_captions_visible_requested":e=d.payload.captionsVisible;return a.captionsVisible===e?a:babelHelpers["extends"]({},a,{activeCaptions:e?a.activeCaptions:null,captionsVisible:e});case"controller_set_active_captions_requested":i=d.payload.activeCaptions;f=(g=i==null?void 0:i.rows)!=null?g:[];c=a.activeCaptions;var j=(e=c==null?void 0:c.rows)!=null?e:[];return j.length===f.length&&f.every(function(a,b){return j[b]===a})?a:babelHelpers["extends"]({},a,{activeCaptions:i});case"captions_loaded":return babelHelpers["extends"]({},a,{activeCaptions:a.activeCaptions,captionsLoaded:!0});case"captions_unloaded":return babelHelpers["extends"]({},a,{activeCaptions:null,captionsLoaded:!1});case"inband_captions_autogenerated_changed":g=d.payload.inbandCaptionsAutogenerated;return a.inbandCaptionsAutogenerated===g?a:babelHelpers["extends"]({},a,{inbandCaptionsAutogenerated:g});case"stream_ended":return babelHelpers["extends"]({},a,{streamEnded:!0});case"stream_interrupted":return babelHelpers["extends"]({},a,{streamInterrupted:!0});case"stream_resumed":return babelHelpers["extends"]({},a,{streamInterrupted:!1});case"seekable_ranges_changed":c=d.payload.seekableRanges;return babelHelpers["extends"]({},a,{seekableRanges:c});case"controller_set_is_live_rewind_active_requested":e=d.payload.isLiveRewindActive;return babelHelpers["extends"]({},a,{isLiveRewindActive:e});case"loop_count_change_requested":f=d.payload.loopCount;return f===a.loopCount?a:babelHelpers["extends"]({},a,{loopCount:f,loopCurrent:0});case"player_dimensions_changed":i=d.payload.dimensions;g=i.height;c=i.width;return c===a.dimensions.width&&g===a.dimensions.height?a:babelHelpers["extends"]({},a,{dimensions:{height:g,width:c}});default:return a}}function j(a,c,d){var e=c.type!=="dom_seeking";e=e?d:a.uncontrolledState;d=!b("shallowEqual")(e,a.uncontrolledState);c=i(a.controlledState,e,c);var f=!b("shallowEqual")(c,a.controlledState);return d||f?babelHelpers["extends"]({},a,{controlledState:f?c:a.controlledState,uncontrolledState:d?e:a.uncontrolledState}):a}var k,l;function m(a){var c=a.collectUncontrolledState,d=a.initialState,e=a.onDispatched,f=a.onFatalError,g=d,h=g,i=0,k=!1,l=!1,m=!0,n=!0;return{dispatch:function(a){if(!n)return;var d=null,g=null;try{++i;if(i>=10)if(!k){k=!0;throw b("unrecoverableViolation")("Video player state machine loop detected","comet_video_player")}else return;var o=h.uncontrolledState;if(m)try{o=c()}catch(a){m=!1,g=a}var p=h;o=j(p,a,o);h=o;e(p,o,a)}catch(a){n=!1,d=a}finally{if(!l&&(d!=null||g!=null)){l=!0;try{f((p=d)!=null?p:g)}catch(a){}}--i}},getCurrentState:function(){return h},getInitialState:function(){return g}}}var n,o;function a(a){var b=a.collectUncontrolledState,c=a.stateTransitionHandlers,d=a.initialState;a=a.onFatalError;function e(a,b,d){try{var e=!0,f=0;while(e&&f<c.length){var g=c[f];e=g(a,b,d);++f}}finally{}}return m({collectUncontrolledState:b,initialState:d,onDispatched:e,onFatalError:a})}function c(a,b){function c(){}function d(a){return a}function e(c){return function(e){var f=d(e.currentTarget);b(f,["reactEvent("+e.type+")"]);a.dispatch(c)}}return{onAbort:c,onCanPlay:c,onCanPlayThrough:c,onDurationChange:e({type:"dom_event_durationchange"}),onEmptied:c,onEncrypted:c,onEnded:e({type:"dom_event_ended"}),onError:function(c){var e=d(c.currentTarget);b(e,["reactEvent("+c.type+")"]);a.dispatch({payload:{videoElementError:e.error,videoElementNetworkState:e.networkState,videoElementReadyState:e.readyState},type:"dom_event_error"})},onLoadStart:c,onLoadedData:c,onLoadedMetadata:c,onPause:e({type:"dom_event_pause"}),onPlay:e({type:"dom_event_play"}),onPlaying:e({type:"dom_event_playing"}),onProgress:e({type:"dom_event_progress"}),onRateChange:e({type:"dom_event_ratechange"}),onSeeked:e({type:"dom_event_seeked"}),onSeeking:e({type:"dom_event_seeking"}),onStalled:c,onSuspend:c,onTimeUpdate:e({type:"dom_event_timeupdate"}),onVolumeChange:e({type:"dom_event_volumechange"}),onWaiting:e({type:"dom_event_waiting"})}}}),null);
__d("VideoPlayerImplementationStateMachineHostCallQueue",["cometUniqueID","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f){"use strict";f.makeHostCallID=g;f.applyOrQueueHostCall=i;f.flushHostCallQueue=a;c=b("emptyFunction");function g(){return"id-vpdom-"+b("cometUniqueID")()}function h(a){var c=a.engineExtrasAPI,d=a.hostCall,e=a.machine;a=a.videoElementAPI;switch(d.type){case"host_call_play":var f=a.play();f&&(e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_created"}),b("promiseDone")(f.then(function(){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_resolved"})},function(a){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID,playPromiseRejectionReason:a},type:"dom_event_play_promise_rejected"})})));break;case"host_call_pause":a.pause();break;case"host_call_set_playback_rate":a.setPlaybackRate(d.payload.playbackRate);break;case"host_call_set_muted":a.setMuted(d.payload.muted);break;case"host_call_set_volume":a.setVolume(d.payload.volume);break;case"host_call_set_current_time":a.setPlayheadPosition(d.payload.currentTime);break;case"host_call_set_video_quality":c.setUserSelectedVideoQuality(d.payload.selectedVideoQuality);break;default:d.type;return!1}return!0}function i(a){var b=a.engineExtrasAPI,c=a.hostCall,d=a.machine;a=a.videoElementAPI;if(!a||!b)d.dispatch(c);else{var e=!1;try{e=h({engineExtrasAPI:b,hostCall:c,machine:d,videoElementAPI:a})}catch(b){d.dispatch({payload:{errorLocation:"apply_host_call_catch",hostCall:c,hostCallError:b,videoElementError:a.getError(),videoElementNetworkState:a.getNetworkState(),videoElementReadyState:a.getReadyState()},type:"implementation_host_call_failed"})}e&&d.dispatch({payload:{hostCall:c},type:"implementation_host_call_applied"})}}function j(a){var b=[];function c(){b=b.filter(function(a){return a.type!=="host_call_play"&&a.type!=="host_call_pause"})}function d(a){b=b.filter(function(b){return b.type!==a})}a.forEach(function(a){switch(a.type){case"host_call_play":c();break;case"host_call_pause":c();break;case"host_call_set_playback_rate":d(a.type);break;case"host_call_set_muted":d(a.type);break;case"host_call_set_volume":d(a.type);break;case"host_call_set_current_time":d(a.type);break;case"host_call_set_video_quality":d(a.type);break;default:a.type}b=b.concat([a])});return b}function a(a){var b=a.engineExtrasAPI,c=a.machine,d=a.reason,e=a.state,f=a.videoElementAPI;a=[{payload:{hostCallID:g(),reason:d,volume:e.controlledState.volume},type:"host_call_set_volume"},{payload:{hostCallID:g(),muted:e.controlledState.muted,reason:d},type:"host_call_set_muted"},{payload:{hostCallID:g(),reason:d,selectedVideoQuality:e.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"}];d=j(e.controlledState.hostCallQueue.concat(a));d.forEach(function(a){i({engineExtrasAPI:b,hostCall:a,machine:c,videoElementAPI:f})});c.dispatch({payload:{hostCallsFlushed:d},type:"implementation_host_call_queue_flushed"})}}),null);
__d("VideoPlayerMutedStateChange",[],(function(a,b,c,d,e,f){"use strict";f.getVideoPlayerMutedStateChange=a;function a(a){var b=a.currMuted,c=a.currVolume,d=a.prevMuted;a=a.prevVolume;b=b||c===0;c=d||a===0;if(c===b)return null;return b?"muted":"unmuted"}}),null);
__d("VideoPlayerImplementationStateMachineLogger",["VideoMimeTypes","VideoPlayerConnectionQuality","VideoPlayerLoggerPlayerStates","VideoPlayerMutedStateChange","VideoPlayerStateBasedLoggingEvents","emptyFunction","getPlayerFormatForLogData","getVideoBrowserTabId","gkx","mapObject","recoverableViolation","removeFromArray"],(function(a,b,c,d,e,f){"use strict";var g,h=b("VideoPlayerMutedStateChange").getVideoPlayerMutedStateChange,i=6e4,j=.5,k=null,l=function(a){var b;k=(b=k)!=null?b:document.createElement("video");return!("canPlayType"in k)?"":k.canPlayType(a)};d=c=b("emptyFunction");f=c;d=c;f=c;function m(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,debugSubscribers:[],dontLogPauseOnUnpausedSeeking:!1,hasLoggedStallData:!1,hasLoggedStartedPlaying:!1,hasPausedOnce:!1,hasPendingRequestedPlaying:!1,initialSuborigin:void 0,isLoggingScrubbingSequence:!1,lastLoggedError:null,lastLoggedFullscreenState:!1,lastLoggedViewabilityPercentage:void 0,lastStartTimePosition:null,lastTrackedRepresentation:null,nextHeartbeatTime:null,sequenceNumber:0,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1,stallCount:0,stallCount200ms:0,stallDuration:0,stallStartTimestamp:0,stallCountTotal:0,stallDurationTotal:0,startStallCountTotal:0,startStallDurationTotal:0,vplEventSequenceNumber:0}}function n(a,b){return b==="muted"||b==="unmuted"||b==="started_playing"||b==="caption_change"||b==="unpaused"?a.controlledState.captionsVisible?"on":"off":void 0}function a(a){var c=new Map(),d=a.initialLoggingMetaData,e=d,f=[],k=m(),o=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);function p(a){k.debugSubscribers.push(a);return function(){b("removeFromArray")(k.debugSubscribers,a)}}function q(a){k.debugSubscribers.forEach(function(b){return b(a)})}function r(a){var b=k.stallStartTimestamp;if(b>0){k.stallCount+=1;k.stallCountTotal+=1;k.hasPendingRequestedPlaying&&(k.startStallCountTotal+=1);a=a-b;k.stallDurationTotal+=a;k.stallDuration+=a;k.stallCount200ms+=a>200?1:0;k.hasPendingRequestedPlaying&&(k.startStallDurationTotal+=a)}}function s(a,b){a=a.uncontrolledState.videoElementPlayheadPosition==null?null:a.uncontrolledState.videoElementPlayheadPosition;var c=null;switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"heart_beat":case"representation_ended":c=k.lastStartTimePosition;break;case"scrubbed":c=a;break;default:break}switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"scrubbed":k.lastStartTimePosition=null;break;case"started_playing":case"unpaused":case"heart_beat":case"representation_ended":k.lastStartTimePosition=a;break;default:break}return{video_last_start_time_position:c}}function t(a,b){var c=b.uncontrolledState.clockTimestamp;a=a.controlledState.playbackState;var d=b.controlledState.playbackState;a!=="stalling"&&d==="stalling"&&(q("stall_start"),k.stallStartTimestamp=c);a==="stalling"&&d!=="stalling"&&(r(b.uncontrolledState.clockTimestamp),k.stallStartTimestamp=0,q("stall_end"))}function u(a,b,c){var d={stall_count:null,stall_count_200_ms:null,stall_time:null},e=b.uncontrolledState.clockTimestamp,f=function(){var a={stall_count:k.stallCount,stall_count_200_ms:k.stallCount200ms,stall_time:k.stallDuration};k.stallCount=0;k.stallCount200ms=0;k.stallDuration=0;k.stallStartTimestamp=0;return a};a=a.controlledState.playbackState;var g=b.controlledState.playbackState;a!=="stalling"&&g==="stalling"&&(k.stallStartTimestamp=e);switch(c){case"started_playing":case"unpaused":case"finished_playing":case"paused":case"cancelled_requested_playing":case"representation_ended":r(b.uncontrolledState.clockTimestamp);d=f();break;case"heart_beat":b.controlledState.playbackState!=="stalling"&&(r(b.uncontrolledState.clockTimestamp),d=f());break;default:break}return d}function v(a,b){a=a?a.getAndFlushTracedFrames():null;switch(b){case"finished_playing":case"paused":case"heart_beat":return a!=null?JSON.stringify(a):null;default:return null}}function w(a){a=a.controlledState.playbackState;switch(a){case"playing":case"stalling":return"playing";case"paused":return"paused";case"ended":return"finished";default:a;return"unknown"}}function x(){return{state:k.hasLoggedStartedPlaying?b("VideoPlayerLoggerPlayerStates").UNPAUSED:b("VideoPlayerLoggerPlayerStates").STARTED}}function y(e){var g=e.eventType,h=e.logDataOverrides,i=e.prevState,j=e.state;e=s(j,g);e=e.video_last_start_time_position;i=u(i,j,g);var l=i.stall_count,m=i.stall_count_200_ms;i=i.stall_time;var p=v(a.initialLoggingMetaData.videoLiveTrace,g),q=[],r=a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplayGatingResult;r&&q.push(r);r=g==="entered_fs"?!0:g==="exited_fs"?!1:k.lastLoggedFullscreenState;var t=b("getPlayerFormatForLogData")(r,d.coreVideoPlayerMetaData.playerFormat),x=j.uncontrolledState.viewabilityPercentage,y=Boolean(j.uncontrolledState.isFBIsLiveTemplated),z=Boolean(j.uncontrolledState.isFBWasLive);y={access_token:a.initialLoggingMetaData.accessToken,ad_client_token:d.coreVideoPlayerMetaData.adClientToken,autoplay_eligible:a.initialLoggingMetaData.coreVideoPlayerMetaData.canAutoplay==="allow",autoplay_failure_reasons:JSON.stringify(q),autoplay_setting:a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplaySetting,broadcaster_origin:a.initialLoggingMetaData.coreVideoPlayerMetaData.broadcasterOrigin,browser_tab_id:b("getVideoBrowserTabId")(),caption_state:n(j,g),current_viewability_percentage:x,data_connection_quality:b("VideoPlayerConnectionQuality").evaluate(function(){return j.uncontrolledState.estimatedBandwidth}),dropped_frame_count:j.uncontrolledState.videoElementDroppedFrameCount,external_log_id:d.coreVideoPlayerMetaData.externalLogID,external_log_type:d.coreVideoPlayerMetaData.externalLogType,frame_events:p,is_abr_enabled:j.isAbrEnabled,is_fbms:j.uncontrolledState.isFBMS,is_sound_on:!j.controlledState.muted,is_live_video_rewound:j.controlledState.isLiveRewindActive,is_templated_manifest:y||z,last_viewability_percentage:k.lastLoggedViewabilityPercentage,living_room_session_id:a.initialLoggingMetaData.coreVideoPlayerMetaData.livingRoomID,playback_is_drm:Boolean(a.initialLoggingMetaData.coreVideoPlayerMetaData.graphQLVideoDRMInfo),playback_duration:j.uncontrolledState.videoElementDuration,playback_is_broadcast:a.initialLoggingMetaData.coreVideoPlayerMetaData.isVideoBroadcast,playback_is_live_streaming:a.initialLoggingMetaData.coreVideoPlayerMetaData.isLiveStreaming,player_format:t,player_instance_key:d.instanceKey,player_origin:d.coreVideoPlayerMetaData.playerOriginOverride,player_state:w(j),player_suborigin:d.coreVideoPlayerMetaData.subOrigin,player_version:j.playerVersion,representation_id:j.uncontrolledState.videoRepresentationID,source_VPL_LOGGING_HACK:d.coreVideoPlayerMetaData.source_VPL_LOGGING_HACK,stall_count:l,stall_count_200_ms:m,stall_time:i,streaming_format:j.streamingFormat,total_frame_count:j.uncontrolledState.videoElementTotalFrameCount,tracking_data_encrypted:a.initialLoggingMetaData.trackingDataEncrypted,tracking_nodes:a.initialLoggingMetaData.trackingNodes,v2_heart_beat:b("gkx")("1434599")&&g==="heart_beat"?!0:null,video_bandwidth:j.uncontrolledState.estimatedBandwidth,video_id:d.coreVideoPlayerMetaData.videoFBID,video_last_start_time_position:e,video_play_reason:j.controlledState.lastPlayReason,video_player_height:(q=d.dimensions)==null?void 0:q.height,video_player_width:(p=d.dimensions)==null?void 0:p.width,video_time_position:j.uncontrolledState.videoElementPlayheadPosition};z={event_seq_num:++k.vplEventSequenceNumber,seq_num:o.has(g)?++k.sequenceNumber:null,time_ms:Date.now()};var A={};c.forEach(function(a,b){A[b]=a});t=babelHelpers["extends"]({},A,y,h,z);m=(l=k.initialSuborigin)!=null?l:d.coreVideoPlayerMetaData.subOrigin;e=(i=t.source_VPL_LOGGING_HACK)!=null?i:m;p=(q=d.coreVideoPlayerMetaData.initialTracePolicy)!=null?q:d.coreVideoPlayerMetaData.routeTracePolicy;y={eventType:g,logData:t,routeTracePolicy:p,source_VPL_LOGGING_HACK:e};f.push(y);k.initialSuborigin==null&&m!=null&&(k.initialSuborigin=m);k.lastLoggedFullscreenState=r;g==="viewability_changed"&&(k.lastLoggedViewabilityPercentage=x)}var z={};function A(a,b,c){y({eventType:"requested_playing",logDataOverrides:babelHelpers["extends"]({},c,x()),prevState:a,state:b});k.hasPendingRequestedPlaying=!0;k.canLogPausedOrFinishedPlaying=!0;return z}function B(a,b,c){if(!k.canLogPausedOrFinishedPlaying)return z;else if(k.hasPendingRequestedPlaying){C(a,b,c);k.canLogPausedOrFinishedPlaying=!1;k.hasPendingRequestedPlaying=!1;return z}else{y({eventType:"paused",logDataOverrides:c,prevState:a,state:b});k.canLogPausedOrFinishedPlaying=!1;k.hasPendingRequestedPlaying=!1;return z}}function C(a,b,c){y({eventType:"cancelled_requested_playing",logDataOverrides:babelHelpers["extends"]({},c,x()),prevState:a,state:b});return z}function D(a,b,c){if(c.type==="dom_event_play_promise_rejected"&&k.hasPendingRequestedPlaying){c=c.payload.playPromiseRejectionReason;if(c!=null&&c.name==="NotAllowedError"){C(a,b,{debug_reason:"not_allowed"});return z}else return z}else return z}function E(a,b,c){if((c.type==="controller_play_requested"||c.type==="dom_event_play"&&!k.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==b.controlledState.playbackState){c=b.uncontrolledState.liveTraceContext;c=c?{live_trace_source_id:c.sourceId,live_trace_stream_id:c.streamId,live_trace_stream_type:c.streamType}:null;A(a,b,c);return z}else return z}function F(a,b,c){if(a.controlledState.playbackState==="stalling"&&b.controlledState.playbackState==="playing"&&k.canLogPlayingEvent){y({eventType:k.hasLoggedStartedPlaying?"unpaused":"started_playing",prevState:a,state:b});k.hasLoggedStartedPlaying=!0;k.canLogPlayingEvent=!1;k.hasPendingRequestedPlaying=!1;return z}else return z}function G(a,c,d){var e=c.controlledState.playbackState,f=a.controlledState.playbackState;if(d.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){B(a,c);k.isLoggingScrubbingSequence=!0;return z}else if(!a.controlledState.seeking&&c.controlledState.seeking&&!k.isLoggingScrubbingSequence&&e!=="paused"&&e!=="ended"&&!k.hasPendingRequestedPlaying){B(a,c);k.shouldLogRequestedPlayingForScrub=!0;return z}else if(d.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){A(a,c,{video_time_position:d.payload.seekTargetPosition});return z}else if(a.controlledState.seeking&&!c.controlledState.seeking){d=c.uncontrolledState.videoElementPlayheadPosition;var g=a.controlledState.implementationSeekSourcePosition;(!b("gkx")("1482680")||g!=null&&d!=null&&Math.abs(g-d)>j)&&(k.shouldLogRequestedPlayingForScrub&&e!=="paused"&&e!=="ended"&&A(a,c),y({eventType:"scrubbed",prevState:a,state:c}),k.isLoggingScrubbingSequence=!1,k.shouldLogRequestedPlayingForScrub=!1,f!=="paused"&&f!=="ended"&&(k.canLogPlayingEvent=!0));return z}else return z}function H(a,b,c){if(a.controlledState.playbackState!==b.controlledState.playbackState&&b.controlledState.playbackState==="ended"&&k.canLogPausedOrFinishedPlaying){y({eventType:"finished_playing",prevState:a,state:b});k.canLogPausedOrFinishedPlaying=!1;return z}else return z}function I(a,b,c){if((c.type==="controller_pause_requested"||c.type==="dom_event_pause"&&!k.shouldIgnoreDomPause)&&a.controlledState.playbackState!==b.controlledState.playbackState){B(a,b);return z}else return z}function J(a,c,d){var e=c.controlledState.playbackState;if(e!=="paused"&&e!=="ended"){b("gkx")("1469813")&&d.type==="implementation_video_node_unmounted"?B(a,a,{debug_reason:"unloaded"}):(d.type==="implementation_unmounted"||d.type==="implementation_engine_destroy_requested")&&B(a,c,{debug_reason:"unloaded"});return z}else return z}function K(a,c,d){d=c.controlledState.muted;var e=c.controlledState.volume,f=a.controlledState.muted,g=a.controlledState.volume;d=h({currMuted:d,currVolume:e,prevMuted:f,prevVolume:g});f={current_volume:Math.round(e*100)};switch(d){case"muted":y({eventType:"muted",logDataOverrides:f,prevState:a,state:c});return z;case"unmuted":y({eventType:"unmuted",logDataOverrides:f,prevState:a,state:c});return z;case null:if(g<e){y({eventType:"volume_increase",logDataOverrides:f,prevState:a,state:c});return z}else if(g>e){y({eventType:"volume_decrease",logDataOverrides:f,prevState:a,state:c});return z}else return z;default:d;b("recoverableViolation")('Unexpected mutedStateChange "'+d+'"',"comet_video_player");return z}}function L(a,b,c){c=b.uncontrolledState.videoRepresentationID;var d=k.lastTrackedRepresentation,e=b.controlledState.playbackState,f=b.controlledState.seeking;if(!f&&e!=="paused"&&e!=="ended"&&d!=null&&d!==c){y({eventType:"representation_ended",logDataOverrides:{next_representation_id:c,representation_id:d},prevState:a,state:b});k.lastTrackedRepresentation=c;q("quality_change");return z}else if(d==null&&d!==c){k.lastTrackedRepresentation=c;return z}else return z}function M(a,c){var e=a.controlledState.error;return{currentVideo:{audioStreamId:a.uncontrolledState.audioRepresentationID,dashAudioFormat:void 0,hasHD:void 0,hasRateLimit:void 0,hasSubtitles:a.controlledState.captionsLoaded,isDrm:Boolean(d.coreVideoPlayerMetaData.graphQLVideoDRMInfo),isHD:void 0,isLiveStream:d.coreVideoPlayerMetaData.isLiveStreaming,isRateLimited:void 0,liveManifestUrl:void 0,projection:void 0,resourceUrl:void 0,streamId:a.uncontrolledState.videoRepresentationID,streamType:a.streamingFormat,tagHD:void 0,tagSD:void 0,videoID:d.coreVideoPlayerMetaData.videoFBID},player:{canPlayType:(g||(g=b("mapObject")))(b("VideoMimeTypes"),l),dimensions:d.dimensions?{height:d.dimensions.height,width:d.dimensions.width}:null,droppedFrames:a.uncontrolledState.videoElementDroppedFrameCount,inPlayStallCount:void 0,inPlayStallTime:void 0,initializationTime:void 0,initializationTimestamp:void 0,interruptCount:void 0,interruptTime:void 0,lastError:e,loggedError:k.lastLoggedError,stack:e==null?void 0:e.stack,stallCount:k.stallCount,stallTime:k.stallDuration,state:w(a),totalFrames:a.uncontrolledState.videoElementTotalFrameCount,version:a.playerVersion,videoSource:void 0,viewabilityPercentage:a.uncontrolledState.viewabilityPercentage},playerStateMachine:{action:c,state:a}}}function N(a,c,d){var e=c.controlledState.error;if(e!=null&&e!==k.lastLoggedError&&e.errorCode!=="410"){var f=e.errorDescription,g=e.errorName,h=e.url,i=e.errorCode==null||e.errorCode===""?g:e.errorCode;d=M(c,d);y({eventType:"error",logDataOverrides:babelHelpers["extends"]({},b("gkx")("1565232")?x():null,{error:g,error_code:i,error_description:f,error_domain:g,error_user_info:JSON.stringify(d),resource_url:h}),prevState:a,state:c});k.lastLoggedError=e}return z}function O(a,b,c){c=b.controlledState.playbackState;c==="paused"||c==="ended"?k.nextHeartbeatTime=null:c!=="stalling"&&k.nextHeartbeatTime==null&&(k.nextHeartbeatTime=Date.now()+i);var d=k.nextHeartbeatTime;if(d!=null){var e=Date.now();e>=d&&(c!=="stalling"&&y({eventType:"heart_beat",prevState:a,state:b}),k.nextHeartbeatTime=e+i)}return z}function P(a,b,c){if(c.type==="implementation_mounted"){y({eventType:"player_loaded",prevState:a,state:b});return z}else return z}function Q(a,b,c){y({eventType:c?"entered_fs":"exited_fs",prevState:a,state:b})}function R(a,b,c){c=d.coreVideoPlayerMetaData.playerFormat;e.coreVideoPlayerMetaData.playerFormat!==c&&y({eventType:"player_format_changed",prevState:a,state:b});return z}function S(a,b,c){if(c.type!=="notify_fullscreen_changed")return z;c=k.lastLoggedFullscreenState;var d=b.uncontrolledState.isFullscreen;if(c!==!0&&d===!0){Q(a,b,d);return z}else if(c===!0&&d===!1){Q(a,b,d);return z}else return z}function T(a,c,e){e=d.coreVideoPlayerMetaData.adClientToken;if((e==null||e==="")&&b("gkx")("1401747"))return z;e=c.controlledState.playbackState;var f=k.lastLoggedViewabilityPercentage,g=c.uncontrolledState.viewabilityPercentage;if(e!=="paused"&&e!=="ended"&&f!=null&&f!==g){y({eventType:"viewability_changed",prevState:a,state:c});return z}else return z}function U(a,b,c){if(c.type==="controller_set_captions_visible_requested"){y({eventType:"caption_change",prevState:a,state:b});return z}else return z}function V(a){e=d;if(a.type==="notify_logging_metadata_change"){a=a.payload.loggingMetaData;d=a}}return{addDebugSubscriber:function(a){return p(a)},consumeLoggerEvents:function(){var a=f.splice(0);return a},getLoggerState:function(){return k},handleStateMachine:function(a,b,c){V(c);var d=b.controlledState.playbackState;t(a,b);var e=[R,S,T,D,E,G,F,H,I,K,J,P,U,L,N,O];e.forEach(function(d){d(a,b,c)});(d==="paused"||d==="ended")&&(k.canLogPlayingEvent=!0);c.type==="controller_pause_requested"&&(k.hasPausedOnce=!0,k.shouldIgnoreDomPause=!0);c.type==="controller_play_requested"&&(k.hasPausedOnce=!0,k.shouldIgnoreDomPlay=!0);c.type==="dom_event_pause"&&(k.shouldIgnoreDomPause=!1);c.type==="dom_event_play"&&(k.shouldIgnoreDomPlay=!1,k.lastLoggedViewabilityPercentage=b.uncontrolledState.viewabilityPercentage)},logVPLEvent:function(a){var b=a.eventType,c=a.logDataOverrides;a=a.state;y({eventType:b,logDataOverrides:c,prevState:a,state:a})},setAdditionalLogData:function(a,b){c.set(a,b)}}}e.exports={HEARTBEAT_INTERVAL:i,createVideoPlayerImplementationStateMachineLogger:a}}),null);
__d("convertToViewabilityPercentage",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){if(a>=.99)return 100;else if(a>=.75)return 75;else if(a>=.5)return 50;else if(a>=.25)return 25;else if(a>=0)return 0;else return-2}}),null);
__d("VideoPlayerImplementationStateMachineStateUncontrolledState",["convertToViewabilityPercentage","gkx"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerImplementationStateMachineStateUncontrolledState=a;function a(a){var c=a.engineExtrasAPI,d=a.fullscreenControllerRef,e=a.videoElementAPI,f=a.videoLiveTraceRef;a=a.videoPlayerPassiveViewabilityInfoRef;f=f.current;if(e==null){var g={audioRepresentationID:void 0,clockTimestamp:Date.now(),currentPlayingVideoQuality:void 0,estimatedBandwidth:void 0,isFBIsLiveTemplated:void 0,isFBMS:void 0,isFBWasLive:void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,liveTraceContext:f?f.getLiveTraceContext():void 0,videoElementDebugCurrentSrc:void 0,videoElementDebugSrc:void 0,videoElementDroppedFrameCount:void 0,videoElementDuration:void 0,videoElementEnded:void 0,videoElementError:void 0,videoElementLastBufferEndPosition:void 0,videoElementMuted:void 0,videoElementNetworkState:void 0,videoElementPaused:void 0,videoElementPlaybackRate:void 0,videoElementPlayheadPosition:void 0,videoElementReadyState:void 0,videoElementTotalFrameCount:void 0,videoElementVolume:void 0,videoRepresentationID:void 0,viewabilityPercentage:void 0};return g}g=e.getPlayheadPosition();a=a&&a.current;a=a&&a.getCurrent();d={audioRepresentationID:c?c.getAudioRepresentationIDAtTime(g):void 0,clockTimestamp:Date.now(),currentPlayingVideoQuality:c?c.getCurrentPlayingVideoQuality():void 0,estimatedBandwidth:c?c.getEstimatedBandwidth():void 0,isFBIsLiveTemplated:c?c.isFBIsLiveTemplated():void 0,isFBMS:c?c.isFBMS():void 0,isFBWasLive:c?c.isFBWasLive():void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,liveTraceContext:f?f.getLiveTraceContext():void 0,videoElementDebugCurrentSrc:b("gkx")("1526990")?(d=e.getUnderlyingVideoElement())==null?void 0:d.currentSrc:void 0,videoElementDebugSrc:b("gkx")("1526990")?(f=e.getUnderlyingVideoElement())==null?void 0:f.src:void 0,videoElementDroppedFrameCount:e.getDroppedFrameCount(),videoElementDuration:e.getDuration(),videoElementEnded:e.getEnded(),videoElementError:e.getError(),videoElementLastBufferEndPosition:e.getLastBufferEndPosition(),videoElementMuted:e.getMuted(),videoElementNetworkState:e.getNetworkState(),videoElementPaused:e.getPaused(),videoElementPlaybackRate:e.getPlaybackRate(),videoElementPlayheadPosition:g,videoElementReadyState:e.getReadyState(),videoElementTotalFrameCount:e.getTotalFrameCount(),videoElementVolume:e.getVolume(),videoRepresentationID:c?c.getVideoRepresentationIDAtTime(g):void 0,viewabilityPercentage:a?b("convertToViewabilityPercentage")(a.visiblePercentage):void 0};return d}}),null);
__d("VideoPlayerImplementationStateMachineState",["VideoPlayerImplementationStateMachineStateUncontrolledState"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerImplementationStateMachineInitialState=a;function a(a){var c=a.alwaysShowCaptions,d=a.areCaptionsAutogenerated,e=a.dimensions,f=a.isAbrEnabled,g=a.playerImplementationName,h=a.playerVersion;a=a.streamingFormat;var i=!0,j=1,k=b("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:null,fullscreenControllerRef:{current:null},videoElementAPI:null,videoLiveTraceRef:{current:null},videoPlayerPassiveViewabilityInfoRef:{current:null}});return{controlledState:{activeCaptions:null,availableQualities:[],bufferingDetected:!1,captionsLoaded:!1,captionsVisible:c,dimensions:e,error:null,hostCallPlayIDLast:null,hostCallQueue:[],implementationSeekSourcePosition:null,inbandCaptionsAutogenerated:d,isLiveRewindActive:!1,lastMuteReason:null,lastPauseReason:null,lastPausedTimeMs:0,lastPlayReason:null,lastPlayedTimeMs:0,loopCount:0,loopCurrent:0,muted:i,playbackState:"paused",scrubbing:!1,seekTargetPosition:null,seekableRanges:null,seeking:!1,selectedVideoQuality:"notselected",streamEnded:!1,streamInterrupted:!1,targetAudioQuality:"",targetPlaybackRate:1,targetVideoQuality:"",videoProjection:null,volume:j,waitingForDomPlaying:!1,waitingForDomTimeUpdateAfterSeeked:!1,watchTimeMs:0},isAbrEnabled:f,playerImplementationName:g,playerVersion:h,streamingFormat:a,uncontrolledState:k}}}),null);
__d("VideoPlayerImplementationEngineAPI",["Banzai","ErrorMetadata","FBLogger","React","RunComet","SubscriptionsHandler","VideoPlayerBanzaiLogFlusher","VideoPlayerBanzaiODS","VideoPlayerCaptionsController","VideoPlayerImplementationErrors","VideoPlayerImplementationStateMachine","VideoPlayerImplementationStateMachineHostCallQueue","VideoPlayerImplementationStateMachineLogger","VideoPlayerImplementationStateMachineState","VideoPlayerImplementationStateMachineStateUncontrolledState","clearTimeout","deepEquals","err","gkx","killswitch","recoverableViolation","removeFromArray","requireCond","setTimeout","unrecoverableViolation","useConcurrentAutoplayManagementAPI","useStable","cr:683059"],(function(a,b,c,d,e,f){"use strict";f.internal_createVideoPlayerImplementationControllerImpl=j;f.internal_createVideoPlayerImplementationEngineStateMachineWithEffects=m;f.internal_createVideoPlayerImplementationExposedStateFromStateMachineState=q;f.createVideoPlayerImplementationEngine=a;f.useVideoPlayerImplementationEngine=c;var g=b("React"),h=6e4,i=function(){function a(a){var b=a.pauseRequestCallbacks,c=a.playRequestCallbacks,d=a.scrubBeginRequestCallbacks;a=a.scrubEndRequestCallbacks;this.$1=c;this.$2=b;this.$3=d;this.$4=a}var c=a.prototype;c.playRequest=function(a){var c=this;this.$1.push(a);return function(){b("removeFromArray")(c.$1,a)}};c.pauseRequest=function(a){var c=this;this.$2.push(a);return function(){b("removeFromArray")(c.$2,a)}};c.scrubBeginRequest=function(a){var c=this;this.$3.push(a);return function(){b("removeFromArray")(c.$3,a)}};c.scrubEndRequest=function(a){var c=this;this.$4.push(a);return function(){b("removeFromArray")(c.$4,a)}};return a}();function j(a){var c=a.concurrentAutoplayManagementAPI,d=a.debugAPI,e=a.fullscreenControllerRef,f=a.getCurrentExposedState,g=a.getCurrentIsFullscreen,h=a.getCurrentPlayheadPosition,j=a.loggerAPI,k=a.pauseImpl,m=a.playImpl,n=a.scrubBeginImpl,o=a.scrubEndImpl,p=a.seekImpl,q=a.selectVideoQualityImpl,r=a.setCaptionsVisibleImpl,s=a.setIsLiveRewindActiveImpl,t=a.setMutedImpl,u=a.setVolumeImpl,v=a.subscribers,w=a.videoElementAPIRef,x=new Set(),y=!1,z=null,A=[],B=[],C=[],D=[],E=new i({pauseRequestCallbacks:B,playRequestCallbacks:A,scrubBeginRequestCallbacks:C,scrubEndRequestCallbacks:D}),F={freeze:function(){if(!f().paused)throw b("unrecoverableViolation")("Video player must be paused before the controller freeze","comet_video_player");var a={};try{var c=!1;x.size===0&&(c=!0,z={exposedState:f(),isFullscreen:g(),playheadPosition:h()});x.add(a);c&&(y=!0,v.forEach(function(a){a()}))}finally{y=!1}return a},isFrozen:function(){return z!=null},unfreeze:function(a){if(!x.has(a))throw b("unrecoverableViolation")("Video player controller unfreeze token not found","comet_video_player");x["delete"](a);x.size===0&&(z=null,v.forEach(function(a){a()}))}};return babelHelpers["extends"]({},c,F,j,{debugAPI:d,getCurrentState:function(){return z!=null?z.exposedState:f()},getIsFullscreen:function(){return z!=null?z.isFullscreen:g()},getPlayheadPosition:function(){return z!=null?z.playheadPosition:h()},internal_getVideoElement:function(){if(w!=null){var a=l(w);if(a!=null){a=a.getUnderlyingVideoElement();return a}}return null},observeOn:function(){return E},pause:function(a){if(F.isFrozen())return;B.forEach(function(b){return b(a)});k(a)},play:function(a){if(F.isFrozen())return;A.forEach(function(b){return b(a)});m(a)},requestSetIsFullscreen:function(a){if(F.isFrozen())return;var b=e.current;b&&b.requestSetIsFullscreen(a)},scrubBegin:function(){if(F.isFrozen())return;C.forEach(function(a){return a()});n()},scrubEnd:function(a){if(F.isFrozen())return;D.forEach(function(b){return b(a)});o(a)},seek:function(a){if(F.isFrozen())return;p(a)},selectVideoQuality:function(a){if(F.isFrozen())return;q(a)},setCaptionsVisible:function(a){if(F.isFrozen())return;r(a)},setIsLiveRewindActive:function(a){if(F.isFrozen())return;s(a)},setMuted:function(a,b){if(F.isFrozen())return;t(a,b)},setVolume:function(a){if(F.isFrozen())return;u(a)},subscribe:function(a){var c=function(){if(F.isFrozen()&&!y)return;a()},d=e.current,f=d?d.subscribe(c):null;v.push(c);return{remove:function(){f&&f.remove(),b("removeFromArray")(v,c)}}},videoElementAPIRef:w})}function k(a){var b=a.concurrentAutoplayManagementAPI,c=a.createExposedState,d=a.debugAPI,e=a.fullscreenControllerRef,f=a.logger,g=a.machine,h=a.subscribers;a=a.videoElementAPIRef;var i={setAdditionalLogData:function(a,b){f.setAdditionalLogData(a,b)}};return j({concurrentAutoplayManagementAPI:b,debugAPI:d,fullscreenControllerRef:e,getCurrentExposedState:function(){return c(g.getCurrentState())},getCurrentIsFullscreen:function(){var a=e.current;return a?a.getIsFullscreen():!1},getCurrentPlayheadPosition:function(){var a,b=0;return(a=g.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?a:b},loggerAPI:i,pauseImpl:function(a){g.dispatch({payload:{reason:a},type:"controller_pause_requested"})},playImpl:function(a){g.dispatch({payload:{reason:a},type:"controller_play_requested"})},scrubBeginImpl:function(){g.dispatch({type:"controller_scrub_begin_requested"})},scrubEndImpl:function(a){g.dispatch({payload:{seekTargetPosition:a},type:"controller_scrub_end_requested"})},seekImpl:function(a){g.dispatch({payload:{seekTargetPosition:a},type:"controller_seek_requested"})},selectVideoQualityImpl:function(a){g.dispatch({payload:{selectedVideoQuality:a},type:"controller_quality_requested"})},setCaptionsVisibleImpl:function(a){g.dispatch({payload:{captionsVisible:a},type:"controller_set_captions_visible_requested"})},setIsLiveRewindActiveImpl:function(a){g.dispatch({payload:{isLiveRewindActive:a},type:"controller_set_is_live_rewind_active_requested"})},setMutedImpl:function(a,b){g.dispatch({payload:{muted:a,reason:b},type:"controller_muted_requested"})},setVolumeImpl:function(a){g.dispatch({payload:{volume:a},type:"controller_volume_requested"})},subscribers:h,videoElementAPIRef:a})}function l(a){a=a.current;if(a==null)throw b("unrecoverableViolation")("Attempted to access VideoElementAPI while it is not available.","comet_video_player");return a}function m(a){var c=a.alwaysShowCaptions,d=a.areCaptionsAutogenerated,e=a.captionsControllerRef,f=a.dimensions,g=a.engineExtrasAPI,i=a.engineMetadata,j=a.fullscreenControllerRef,k=a.handleFatalError,m=a.handleStateMachine,o=a.videoElementAPIRef,p=a.videoLiveTraceRef,q=a.videoPlayerPassiveViewabilityInfoRef;function r(a){b("VideoPlayerImplementationStateMachineHostCallQueue").applyOrQueueHostCall({engineExtrasAPI:g,hostCall:a,machine:t,videoElementAPI:o.current})}var s=null;a=[function(a,c,d){b("cr:683059")&&d.type==="implementation_host_call_applied"&&d.payload.hostCall.type==="host_call_play"&&c.controlledState.lastPlayReason==="autoplay_initiated"?b("cr:683059").addFirstMarkerPoint("firstVideoAutoplayStalling"):b("cr:683059")&&c.controlledState.playbackState!==a.controlledState.playbackState&&c.controlledState.playbackState==="playing"&&c.controlledState.lastPlayReason==="autoplay_initiated"&&b("cr:683059").addFirstMarkerPoint("firstVideoAutoplayPlaying");return!0},function(a,b,c){m(a,b,c);return!0},function(a,c,d){if(b("gkx")("1633455")&&(a.controlledState.streamInterrupted===!1&&c.controlledState.streamInterrupted===!0||a.controlledState.streamInterrupted===!0&&c.controlledState.streamInterrupted===!1)){a=c.controlledState;c=a.bufferingDetected;var e=a.streamInterrupted;a=a.targetPlaybackRate;e?(c&&t.dispatch({type:"buffering_end_requested"}),r({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:d.type},type:"host_call_set_playback_rate"})):(r({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:d.type},type:"host_call_set_playback_rate"}),c&&t.dispatch({type:"buffering_begin_requested"}))}return!0},function(a,c,d){(a.controlledState.bufferingDetected===!1&&c.controlledState.bufferingDetected===!0||a.controlledState.bufferingDetected===!0&&c.controlledState.bufferingDetected===!1)&&(s!==null&&(b("clearTimeout")(s),s=null),c.controlledState.bufferingDetected&&(!b("gkx")("1633455")||!c.controlledState.streamInterrupted)&&(s=b("setTimeout")(function(){s=null;var a=b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError("BUFFERING_TIMEOUT",b("err")("The video has been in a buffering state for over "+h+" ms."),"buffering_timeout");t.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"})},h)));return!0},function(a,c,d){if(!(d.type==="implementation_engine_destroy_requested"))return!0;s!==null&&b("clearTimeout")(s);s=null;return!1},function(a,c,d){if(!(d.type==="implementation_engine_initialized"))return!0;a=l(o);d=d.type;b("VideoPlayerImplementationStateMachineHostCallQueue").flushHostCallQueue({engineExtrasAPI:g,machine:t,reason:d,state:c,videoElementAPI:a});return!1},function(a,b,c){if(!(c.type==="dom_event_ended"))return!0;a=b.controlledState;(a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1)&&t.dispatch({payload:{reason:"loop_initiated"},type:"controller_play_requested"});return!1},function(a,c,d){if(!(d.type==="controller_pause_requested"))return!0;a=c.controlledState.playbackState;if(!(a==="paused"))return!1;r({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type},type:"host_call_pause"});return!1},function(a,c,d){if(!(d.type==="controller_play_requested"))return!0;a=c.controlledState.playbackState;if(!(a==="stalling"))return!1;r({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type},type:"host_call_play"});return!1},function(a,c,d){if(!(d.type==="controller_seek_requested"))return!0;a=c.controlledState;c=a.seeking;a=a.seekTargetPosition;c&&a!=null&&r({payload:{currentTime:a,hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type},type:"host_call_set_current_time"});return!1},function(a,c,d){if(!(d.type==="controller_muted_requested"))return!0;a=c.controlledState.muted;if(!(a===d.payload.muted))return!1;r({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),muted:a,reason:d.type},type:"host_call_set_muted"});return!1},function(a,c,d){if(!(d.type==="controller_scrub_begin_requested"))return!0;r({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:d.type},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="controller_scrub_end_requested"))return!0;a=c.controlledState;c=a.seeking;var e=a.seekTargetPosition;a=a.targetPlaybackRate;c&&e!=null?(r({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:d.type+":seek"},type:"host_call_set_playback_rate"}),r({payload:{currentTime:e,hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type+":seek"},type:"host_call_set_current_time"})):r({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:d.type+":cancel"},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="buffering_begin_requested"))return!0;r({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:d.type},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="buffering_end_requested"))return!0;r({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:c.controlledState.targetPlaybackRate,reason:d.type},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="controller_volume_requested"))return!0;r({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type,volume:c.controlledState.volume},type:"host_call_set_volume"});return!1},function(a,c,d){if(!(d.type==="controller_quality_requested"))return!0;r({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type,selectedVideoQuality:c.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"});return!1},function(a,b,c){if(!(c.type==="dom_event_timeupdate"||c.type==="captions_loaded"))return!0;c=e.current;var d=b.controlledState.captionsVisible,f=o.current;f=f?f.getPlayheadPosition():0;if(c&&d&&b.controlledState.captionsLoaded){d=c.handleTimeUpdate(f);b=a.controlledState.activeCaptions;n(b,d)&&t.dispatch({payload:{activeCaptions:d},type:"controller_set_active_captions_requested"})}c=p.current;c!=null&&c.onUpdateStatus({position:f});return!1},function(a,b,c){if(!(c.type==="cea608_bytes_received"))return!0;a=e.current;if(a){b=c.payload;c=b.timescale;b=b.videoBytes;a.handleCea608BytesReceived({timescale:c,videoBytes:b})}return!1},function(a,b,c){if(!(c.type==="controller_set_is_live_rewind_active_requested"))return!0;g.setEnableLiveheadCatchup(!c.payload.isLiveRewindActive);return!1}];var t=b("VideoPlayerImplementationStateMachine").createVideoPlayerImplementationStateMachineWithStateTransitionHandlers({collectUncontrolledState:function(){var a=o.current;return b("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:g,fullscreenControllerRef:j,videoElementAPI:a,videoLiveTraceRef:p,videoPlayerPassiveViewabilityInfoRef:q})},initialState:b("VideoPlayerImplementationStateMachineState").createVideoPlayerImplementationStateMachineInitialState({alwaysShowCaptions:c,areCaptionsAutogenerated:d,dimensions:f,isAbrEnabled:i.isAbrEnabled,playerImplementationName:i.playerImplementationName,playerVersion:i.playerVersion,streamingFormat:i.streamingFormat}),onFatalError:k,stateTransitionHandlers:a});return t}function n(a,b){if(a===null&&b===null)return!1;if(a===null||b===null)return!0;var c=(b=b.rows)!=null?b:[];a=(b=a.rows)!=null?b:[];return a.length!==c.length||a.some(function(a,b){return a!==c[b]})}function o(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_fullscreen_changed"})}))}function p(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_viewability_changed"})}))}function q(a){var b=a.engineMetadata;a=a.state;var c=a.controlledState,d=c.activeCaptions,e=c.availableQualities,f=c.captionsLoaded,g=c.captionsVisible,h=c.error,i=c.inbandCaptionsAutogenerated,j=c.isLiveRewindActive,k=c.lastMuteReason,l=c.lastPauseReason,m=c.lastPlayedTimeMs,n=c.lastPlayReason,o=c.loopCount,p=c.loopCurrent,q=c.muted,r=c.playbackState,s=c.seekableRanges,t=c.seeking,u=c.seekTargetPosition,v=c.selectedVideoQuality,w=c.streamInterrupted,x=c.targetAudioQuality,y=c.targetVideoQuality,z=c.videoProjection,A=c.volume;c=c.watchTimeMs;var B=a.uncontrolledState,C=B.currentPlayingVideoQuality,D=B.videoElementDuration;B=B.videoElementLastBufferEndPosition;var E=r==="ended",F=r==="paused"||E,G=r==="playing",H=r==="inPlayStalling";r=r==="stalling"||H;d={activeCaptions:d,availableVideoQualities:e,bufferEnd:(d=B)!=null?d:0,captionsLoaded:f,captionsVisible:g,currentVideoQuality:(e=C)!=null?e:"",duration:(B=D)!=null?B:0,ended:E,error:h,inPlayStalling:H,inbandCaptionsAutogenerated:i,isAbrEnabled:b.isAbrEnabled,isLiveRewindActive:j,lastMuteReason:k,lastPauseReason:l,lastPlayReason:n,lastPlayedTimeMs:m,loopCount:o,loopCurrent:p,muted:q,paused:F,playerImplementationName:a.playerImplementationName,playerVersion:a.playerVersion,playing:G,seekTargetPosition:u,seekableRanges:s,seeking:t,selectedVideoQuality:v,stalling:r,streamInterrupted:w,targetAudioQuality:x,targetVideoQuality:y,videoProjection:z,volume:A,watchTimeMs:c};return d}function a(a){var c,d=a.createDebugAPI,e=a.createVideoPlayerError,f=a.debugLog,g=a.destroyEngineParts,h=a.engineExtrasAPI,i=a.engineMetadata,j=a.handleFatalError,l=a.handleVideoElementMounted,n=a.handleVideoElementUnmounted,r=a.handleVideoInfoChange;f=a.initialProps;var s=a.setExposedStateInReact,t=b("VideoPlayerImplementationStateMachineLogger").createVideoPlayerImplementationStateMachineLogger({initialLoggingMetaData:f.loggingMetaData}),u=new(b("VideoPlayerBanzaiLogFlusher"))(t),v={current:(a=f.videoPlayerPassiveViewabilityInfo)!=null?a:null},w={current:(a=f.fullscreenController)!=null?a:null},x={current:null},y={current:(a=f.videoLiveTrace)!=null?a:null};a=b("useConcurrentAutoplayManagementAPI").createConcurrentAutoplayManagementAPI();var z=[],A=function(){z.forEach(function(a){a()}),u.flushLogs()},B={current:null},C={current:{inbandCaptionsAutogeneratedFromManifest:!1,inbandCaptionsExpectedFromManifest:!1,inbandCaptionsExpectedFromProps:f.inbandCaptionsExpected,sideLoadCaptionsExpectedFromProps:f.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(c=f.captionsUrl)!=null?c:null}},D={current:null},E={current:null},F=new(b("SubscriptionsHandler"))(),G="before_mounted";function H(){return G==="mounted"}var I={current:null},J=function(a){a=q({engineMetadata:i,state:a});return a},K={current:null},L={current:null},M=function(a){if(H()){if(a===K.current)return;var c=J(a);if(L.current!=null&&b("deepEquals")(L.current,c))return;K.current=a;L.current=c;s(c)}};c=function(a,b,c){t.handleStateMachine(a,b,c),M(b),A()};var N=function(a,b){},O=function(a){N(a,"state_machine_fatal_error")},P=m({alwaysShowCaptions:Boolean(f.alwaysShowCaptions),areCaptionsAutogenerated:Boolean(f.areCaptionsAutogenerated),captionsControllerRef:x,dimensions:f.dimensions,engineExtrasAPI:h,engineMetadata:i,fullscreenControllerRef:w,handleFatalError:O,handleStateMachine:c,videoElementAPIRef:I,videoLiveTraceRef:y,videoPlayerPassiveViewabilityInfoRef:v}),Q=!1,R=function(a){var c=B.current!=null,d=I.current!=null;F.release();P.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:c},type:"implementation_engine_destroy_requested"});try{b("gkx")("1494163")?g(["destroyEngine("+a+")"]):Q||(Q=!0,g(["destroyEngine("+a+")"]))}catch(e){if(b("gkx")("1494163"))try{b("FBLogger")("comet_video_player").catching(e).warn("Error thrown by destroyEngineParts: %s %s",e.message,JSON.stringify({playerImplementationName:i.playerImplementationName,reason:a,videoElementAPIExisted:d,videoElementExisted:c}))}catch(a){}}var e=x.current;e!=null&&(P.getCurrentState().controlledState.captionsLoaded&&P.dispatch({type:"captions_unloaded"}),x.current=null,e.destroy());e=y.current;e!=null&&(y.current=null);o(null,w,D,P);p(null,v,E,P);P.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:c},type:"implementation_engine_destroyed"})};N=function(a,b){a=e(a,b);P.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"});R("implementation_fatal_error");j(a)};function S(a){return a.sideLoadCaptionsExpectedFromProps&&a.sideLoadCaptionsUrlFromProps!==null}function T(a){return a.inbandCaptionsExpectedFromProps&&((a=a.inbandCaptionsExpectedFromManifest)!=null?a:!1)}function U(a){return(a=a.inbandCaptionsAutogeneratedFromManifest)!=null?a:!1}var V=function(a){var c=S(a),d=T(a),e=U(a),f=x.current;e!==U(C.current)&&P.dispatch({payload:{inbandCaptionsAutogenerated:e},type:"inband_captions_autogenerated_changed"});f!=null?d!==T(C.current)&&(f.updateInbandCaptionsExpected(d),!d&&P.getCurrentState().controlledState.captionsLoaded&&P.dispatch({type:"captions_unloaded"})):(c||d)&&f==null&&(x.current=b("VideoPlayerCaptionsController").createCaptionsController({captionsUrl:c?a.sideLoadCaptionsUrlFromProps:null,inbandCaptionsExpected:d,onCaptionsLoaded:function(){P.getCurrentState().controlledState.captionsLoaded||P.dispatch({type:"captions_loaded"})}}));C.current=a},W=function(a){h!=null&&a&&a.width>0&&a.height>0&&(h.setDimensions(a),P.dispatch({payload:{dimensions:{height:a.height,width:a.width}},type:"player_dimensions_changed"}))},X=function(a){a!==P.getCurrentState().controlledState.loopCount&&P.dispatch({payload:{loopCount:a},type:"loop_count_change_requested"})},Y=function(a){"srcObject"in a&&(a.srcObject=null)},Z=function(a,c){if(B.current===a)return;if(!H()&&b("gkx")("1405244"))return;if(!H()){var d=function(a){switch(a){case"unmounted":return"EngineAPI.handleVideoElement.unmounted";case"before_mounted":return"EngineAPI.handleVideoElement.before_mounted";case"mounted":return null;default:a;return null}}(G);d&&b("VideoPlayerBanzaiODS").bumpEntityKey("comet_video_player",d,1)}a!=null&&B.current!=null&&B.current!==a&&b("recoverableViolation")("The video element was recreated","comet_video_player");d=B.current;d&&Y(d);B.current=a;b("gkx")("1494163")&&(a==null&&(I.current=null));B.current!=null?(P.dispatch({type:"implementation_video_node_mounted"}),l([].concat(c,["handleVideoElement(non-null)"]))):(P.dispatch({type:"implementation_video_node_unmounted"}),n([].concat(c,["handleVideoElement(null)"])))};f=function(a){var b;if(!H())return;o((b=a.fullscreenController)!=null?b:null,w,D,P);p((b=a.videoPlayerPassiveViewabilityInfo)!=null?b:null,v,E,P);if(!r(a)){b={inbandCaptionsAutogeneratedFromManifest:C.current.inbandCaptionsAutogeneratedFromManifest,inbandCaptionsExpectedFromManifest:C.current.inbandCaptionsExpectedFromManifest,inbandCaptionsExpectedFromProps:a.inbandCaptionsExpected,sideLoadCaptionsExpectedFromProps:a.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(b=a.captionsUrl)!=null?b:null};V(b);W(a.dimensions);X((b=a.loopCount)!=null?b:0)}P.dispatch({payload:{loggingMetaData:a.loggingMetaData},type:"notify_logging_metadata_change"})};O=function(){if(G!=="before_mounted"){var a=function(a){switch(a){case"before_mounted":return null;case"unmounted":return"EngineAPI.handleReactMount.unmounted";case"mounted":return"EngineAPI.handleReactMount.mounted";default:a;return null}}(G);a&&b("VideoPlayerBanzaiODS").bumpEntityKey("comet_video_player",a,1)}H()||(G="mounted",F.addSubscriptions(b("RunComet").onUnload(function(){R("page_unload")})),F.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){R("banzai_shutdown")})),P.dispatch({type:"implementation_mounted"}),l(["handleReactMount"]))};c=function(){if(!H()){var a=function(a){switch(a){case"unmounted":return"EngineAPI.handleReactUnmount.unmounted";case"before_mounted":return"EngineAPI.handleReactUnmount.before_mounted";case"mounted":return null;default:a;return null}}(G);a&&b("VideoPlayerBanzaiODS").bumpEntityKey("comet_video_player",a,1)}H()&&(G="unmounted",P.dispatch({payload:{reason:"react_effect_cleanup"},type:"implementation_unmounted"}),R("implementation_unmounted:react_effect_cleanup"))};a=k({concurrentAutoplayManagementAPI:a,createExposedState:J,debugAPI:d({getVideoElementAPI:function(){return I.current},logger:t}),fullscreenControllerRef:w,logger:t,machine:P,subscribers:z,videoElementAPIRef:I});d=b("VideoPlayerImplementationStateMachine").createReactVideoElementCallbacksForStateMachine(P,Z);var $=J(P.getInitialState());O={destroy:R,handleReactMount:O,handleReactPropsChanged:f,handleReactUnmount:c,implementationController:a,initialExposedState:$,logFlusher:u,logger:t,machine:P,notifySubscribers:A,videoElementCallbacks:d,videoElementRefCallback:function(a){Z(a,["videoElementRefCallback"])}};return{engine:O,getCaptionsInfo:function(){return C.current},getVideoElement:function(){return B.current},getVideoLiveTrace:function(){return y.current},handleCaptionsInfoChange:V,handleFatalImplementationError:N,machine:P,videoElementAPIRef:I}}function r(a){var c,d=new Error(a.errorDescription);d.errorName=a.errorName;d.type="error";a.stack!=null&&a.stack!==""&&(d.stack=a.stack);var e=new(b("ErrorMetadata"))();e.addEntries(["COMET_VIDEO","ERROR_LOCATION",a.errorLocation],["COMET_VIDEO","ERROR_CODE",(c=a.errorCode)!=null?c:""],["COMET_VIDEO","ERROR_URL",(c=a.url)!=null?c:""]);c=a.originalError;c!=null&&(typeof c==="string"?e.addEntry("COMET_VIDEO","ORIGINAL_ERROR",c):c instanceof Error&&c.message!=null&&e.addEntry("COMET_VIDEO","ORIGINAL_ERROR",c.message));d.metadata=e;return d}function c(a,c){var d=g.useState(null),e=d[0],f=d[1],h=g.useRef(null);d=g.useState(null);var i=d[0],j=d[1],k=function(a){h.current||(h.current=a,j(a))};g.useEffect(function(){i||(h.current=null)},[i]);var l=g.useRef(a),m=g.useRef(c),n=b("useStable")(function(){return m.current({handleFatalError:b("gkx")("1444664")?k:j,initialProps:l.current,setExposedStateInReact:f})});c=(d=e)!=null?d:n.initialExposedState;d=(e=c.error)!=null?e:i;if(d!=null){if(b("killswitch")("COMET_VIDEO_ERROR_DEAGGREGATION"))throw b("unrecoverableViolation")(d.errorName+": "+d.errorDescription,"comet_video_player",{error:d.originalError instanceof Error?d.originalError:void 0});throw r(d)}g.useEffect(function(){n.handleReactMount();return function(){n.handleReactUnmount()}},[n]);var o=g.useRef(null);g.useEffect(function(){a!==o.current&&n.handleReactPropsChanged(a),o.current=a});return[c,n]}}),null);
__d("VideoPlayerImplementationEngineVideoElementAPI",["Promise","VideoPlaybackQuality"],(function(a,b,c,d,e,f){"use strict";f.getDurationFromVideoElement=h;f.getLastBufferEndPositionFromVideoElement=i;f.getPlayheadPositionFromVideoElement=j;f.createVideoPlayerImplementationEngineVideoElementAPI=a;function g(a){return isNaN(a)?0:a}function h(a){return g(a.duration)}function i(a){a=a.buffered;return a.length>0?a.end(a.length-1):0}function j(a){return g(a.currentTime)}function a(a){return{getDroppedFrameCount:function(){return b("VideoPlaybackQuality").getDroppedFrames(a)},getDuration:function(){return h(a)},getEnded:function(){return a.ended},getError:function(){return a.error},getLastBufferEndPosition:function(){return i(a)},getMuted:function(){return a.muted},getNetworkState:function(){return a.networkState},getPaused:function(){return a.paused},getPlaybackRate:function(){return a.playbackRate},getPlayheadPosition:function(){return j(a)},getReadyState:function(){return a.readyState},getTotalFrameCount:function(){return b("VideoPlaybackQuality").getTotalFrames(a)},getUnderlyingVideoElement:function(){return a},getVolume:function(){return a.volume},pause:function(){a.pause()},play:function(){var c=a.play();c=c&&typeof c.then==="function"?b("Promise").resolve(c):null;return c},setDuration:function(b){a.duration=b},setMuted:function(b){a.muted=b},setPlaybackRate:function(b){a.playbackRate=b},setPlayheadPosition:function(b){a.currentTime=b},setSrc:function(b){b==null||b===""?a.removeAttribute("src"):a.setAttribute("src",b)},setVolume:function(b){a.volume=b}}}}),null);
__d("VideoPlayerImplementationReactVideoElement.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var b=a.implementationController,c=a.implementationExposedState,d=a.renderWithVideoImplementationStates,e=a.src,f=a.videoElementCallbacks;a=a.videoElementRefCallback;f=g.jsxs(g.Fragment,{children:[g.jsx("video",babelHelpers["extends"]({className:"k4urcfbm datstx6m a8c37x1j",controls:!1,muted:!0},f,{ref:a,src:e})),d({implementationController:b,videoState:c})]});return f}}),null);
__d("VideoPlayerProgressiveImplementationData",[],(function(a,b,c,d,e,f){"use strict";f.makeProgressiveImplementationData=a;function a(a){var b=a.hdSrc,c=a.hdSrcPreferred;a=a.sdSrc;return a==null?null:{hdSrc:b,hdSrcPreferred:c,sdSrc:a}}}),null);
__d("VideoPlayerFairplayLicenseHandler",["EventEmitter","EventListener","SubscriptionsHandler","URI","VideoPlayerWindowUtils","XHRRequest","unrecoverableViolation"],(function(a,b,c,d,e,f){var g;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d,e,f){var g;g=a.call(this)||this;g.$VideoPlayerFairplayLicenseHandler5=new(b("SubscriptionsHandler"))();g.$VideoPlayerFairplayLicenseHandler1=d;g.$VideoPlayerFairplayLicenseHandler2=c;g.$VideoPlayerFairplayLicenseHandler3=e;g.$VideoPlayerFairplayLicenseHandler4=f;g.$VideoPlayerFairplayLicenseHandler5.addSubscriptions(b("EventListener").listen(d,"webkitneedkey",g.$VideoPlayerFairplayLicenseHandler6.bind(babelHelpers.assertThisInitialized(g))));return g}var d=c.prototype;d.destroy=function(){this.$VideoPlayerFairplayLicenseHandler5.release(),this.$VideoPlayerFairplayLicenseHandler1=null,this.$VideoPlayerFairplayLicenseHandler4=null};d.$VideoPlayerFairplayLicenseHandler6=function(a){var c=this;a=a.initData;var d=new Uint16Array(a.buffer);d=String.fromCharCode.apply(null,d).substring(8);var e,f=this.$VideoPlayerFairplayLicenseHandler1;if(f.webkitKeys==null){var g=b("VideoPlayerWindowUtils").WebKitMediaKeys;if(g!=null&&g.isTypeSupported("com.apple.fps.1_0","video/mp4"))e="com.apple.fps.1_0";else throw b("unrecoverableViolation")("Key System not supported","FairplayLicenseHandler");this.$VideoPlayerFairplayLicenseHandler1.webkitSetMediaKeys(new g(e))}if(f.webkitKeys==null)throw b("unrecoverableViolation")("Could not create MediaKeys","FairplayLicenseHandler");g=this.concatInitDataIdAndCertificate(a,d);e=this.$VideoPlayerFairplayLicenseHandler1.webkitKeys.createSession("video/mp4",g);if(!e)throw b("unrecoverableViolation")("Could not create key session",e);e.contentId=d;this.$VideoPlayerFairplayLicenseHandler5.addSubscriptions(b("EventListener").listen(e,"webkitkeymessage",this.$VideoPlayerFairplayLicenseHandler7.bind(this)),b("EventListener").listen(e,"webkitkeyerror",function(a){c.emit("error",{error:"webkitkeyerror"})}))};d.concatInitDataIdAndCertificate=function(a,b){var c=new Uint16Array(new ArrayBuffer(b.length*2));for(var d=0,e=b.length;d<e;d++)c[d]=b.charCodeAt(d);b=window.atob(this.$VideoPlayerFairplayLicenseHandler2);d=new Uint8Array(new ArrayBuffer(b.length));for(var e=0;e<b.length;e++)d[e]=b.charCodeAt(e);e=0;b=new ArrayBuffer(a.byteLength+4+c.byteLength+4+d.byteLength);var f=new DataView(b),g=new Uint8Array(b,e,a.byteLength);g.set(a);e+=a.byteLength;f.setUint32(e,c.byteLength,!0);e+=4;g=new Uint16Array(b,e,c.byteLength/2);g.set(c);e+=g.byteLength;f.setUint32(e,d.byteLength,!0);e+=4;a=new Uint8Array(b,e,d.byteLength);a.set(d);return new Uint8Array(b,0,b.byteLength)};d.$VideoPlayerFairplayLicenseHandler7=function(a){var c=this,d=a.target;a=a.message;a=window.btoa(String.fromCharCode.apply(null,new Uint8Array(a)));var e=this.$VideoPlayerFairplayLicenseHandler4[d.contentId];new(b("XHRRequest"))(new(g||(g=b("URI")))(e)).setMethod("POST").setRawData(a).setResponseType("text").setResponseHandler(function(a){c.$VideoPlayerFairplayLicenseHandler8(a,d)}).setRequestHeader("Content-type","application/x-www-form-urlencoded").setErrorHandler(function(){c.$VideoPlayerFairplayLicenseHandler9()}).send()};d.$VideoPlayerFairplayLicenseHandler8=function(a,b){a=window.atob(a);var c=new Uint8Array(new ArrayBuffer(a.length*2));for(var d=0,e=a.length;d<e;d++)c[d]=a.charCodeAt(d);b.update(c)};d.$VideoPlayerFairplayLicenseHandler9=function(){this.emit("error",{error:"Fairplay License fetch failed"})};return c}(b("EventEmitter"));e.exports=a}),null);
__d("VideoPlayerProgressiveImplementationEngineExtrasAPI",[],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerProgressiveImplementationEngineExtrasAPI=a;function a(a){var b=a.getPlayingVideoInfo;a=a.setUserSelectedVideoQuality;a={getAudioRepresentationIDAtTime:function(a){return null},getAvailableVideoQualities:function(){var a;return(a=(a=b())==null?void 0:a.availableQualities)!=null?a:[]},getCurrentAudioRepresentation:function(){return null},getCurrentPlayingVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentTargetVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentVideoRepresentation:function(){return null},getEstimatedBandwidth:function(){return null},getInbandCaptionsAutogeneratedFromManifest:function(){return!1},getInbandCaptionsExpectedFromManifest:function(){return!1},getStreamType:function(){return"progressive"},getUserSelectedVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.selectedQuality)!=null?a:"notselected"},getVideoProjectionType:function(){return"cubemap"},getVideoRepresentationIDAtTime:function(a){return"oep_hd"},getVideoRepresentations:function(){return null},isDrm:function(){return!1},isFBIsLiveTemplated:function(){return!1},isFBMS:function(){return!1},isFBWasLive:function(){return!1},isPredictiveDash:function(){return!1},setDimensions:function(a){},setEnableLiveheadCatchup:function(){},setUserSelectedVideoQuality:a};return a}}),null);
__d("VideoPlayerProgressiveImplementationEngineUtils",["gkx"],(function(a,b,c,d,e,f){"use strict";f.createResolvedVideoInfoProgressive=a;f.updatePlayingVideoInfoProgressiveWithUserSelectedQuality=c;f.updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality=d;var g="hd",h="sd";function a(a){var c=[];a.sdSrc!=null&&c.push(h);a.hdSrc!=null&&c.push(g);var d=a.hdSrcPreferred&&a.hdSrc!=null&&b("gkx")("1483656")?g:h;return babelHelpers["extends"]({},a,{availableQualities:c,playingQuality:null,playingSrc:null,selectedQuality:d,targetQuality:d,targetSrc:null})}function c(a,b){var c=a.hdSrc,d=a.sdSrc,e,f;b==="notselected"||b==="auto"?(e=d!=null?h:c!=null?g:h,f=d!=null?d:c!=null?c:null):b===g&&c!=null?(e=g,f=c):b===h&&d!=null?(e=h,f=d):(e=h,f=null);f===""&&(f=null);return babelHelpers["extends"]({},a,{selectedQuality:b,targetQuality:e,targetSrc:f})}function d(a,b,c){return babelHelpers["extends"]({},a,{playingQuality:b,playingSrc:c})}}),null);
__d("VideoPlayerProgressiveImplementationEngine",["FBLogger","VideoPlayerBanzaiODS","VideoPlayerFairplayLicenseHandler","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerProgressiveImplementationEngineExtrasAPI","VideoPlayerProgressiveImplementationEngineUtils","emptyFunction","gkx","requireCond","unrecoverableViolation","cr:1473550","cr:1512856"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerProgressiveImplementationEngine=a;var g=b("emptyFunction");function h(a,c){return b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError("PROGRESSIVE_JAVASCRIPT_NATIVE",a,c)}function a(a){var c=a.handleFatalError,d=a.initialProps;a=a.setExposedStateInReact;var e={current:null},f={current:null},i={current:null},j={current:null},k=function(){var a=j.current;a!=null&&(j.current=null,a())},l=function(a){k();var c=t();if(c==null)throw b("unrecoverableViolation")("Need videoElement in startSwitchingSource","comet_video_player");if(b("cr:1512856")==null)throw b("unrecoverableViolation")("Need SourceSwitcher in startSwitchingSource","comet_video_player");j.current=b("cr:1512856").startSwitchingVideoElementSource({getShouldBePlaying:function(){return w.getCurrentState().controlledState.playbackState==="playing"||w.getCurrentState().controlledState.playbackState==="stalling"},onSourceSwitchCancelled:function(){w.dispatch({type:"buffering_end_requested"})},onSourceSwitchFailed:function(a){b("FBLogger")("comet_video_player").catching(a).warn("Progressive source switch failed: %s",String(a)),w.dispatch({type:"buffering_end_requested"})},onSourceSwitchStarted:function(){w.dispatch({type:"buffering_begin_requested"})},onSourceSwitchSucceeded:function(){var a=i.current;a!=null&&a.targetQuality!=null&&(i.current=b("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality(a,a.targetQuality,a.targetSrc));w.dispatch({type:"buffering_end_requested"})},targetSrc:a,videoElement:c})},m={current:null},n=function(){var a=t(),c=f.current;if(a==null||c==null)return;try{var e,g=c.graphQLVideoDRMInfo,h=c.videoFBID;e=g?(e=g.fairplayCert)!=null?e:null:null;m.current=g&&e!=null&&h!=null?new(b("VideoPlayerFairplayLicenseHandler"))(e,a,h,g.videoLicenseUriMap):null;e=b("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);x.current=e;i.current=c;h=s();u({inbandCaptionsAutogeneratedFromManifest:q.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:q.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:h==null?void 0:h.inbandCaptionsExpectedFromProps,sideLoadCaptionsExpectedFromProps:h==null?void 0:h.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:h==null?void 0:h.sideLoadCaptionsUrlFromProps});w.dispatch({payload:{availableQualities:q.getAvailableVideoQualities(),selectedVideoQuality:q.getUserSelectedVideoQuality(),targetVideoQuality:q.getCurrentTargetVideoQuality(),videoProjection:q.getVideoProjectionType()},type:"implementation_engine_initialized"});e.setPlayheadPosition(d.startTimestamp)}catch(a){v(a,"progressive_player_create_exception")}},o=function(a,c){if(c==null)return!0;else if(a.videoFBID!==c.videoFBID){var d=14;b("VideoPlayerBanzaiODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.video_fbid_changed",d);return!1}else if(a.hdSrc!==c.hdSrc||a.sdSrc!==c.sdSrc){d=14;b("VideoPlayerBanzaiODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.src_changed",d);return!1}else return!1},p=function(a){var c;c={graphQLVideoDRMInfo:(c=a.graphQLVideoDRMInfo)!=null?c:null,hdSrc:a.hdSrc===""?null:(c=a.hdSrc)!=null?c:null,hdSrcPreferred:a.hdSrcPreferred,sdSrc:a.sdSrc===""?null:(c=a.sdSrc)!=null?c:null,videoFBID:a.videoFBID};if(!o(c,e.current))return!1;if(c.hdSrc==null&&c.sdSrc==null)throw b("unrecoverableViolation")("Empty hdSrc and sdSrc","comet_video_player");e.current=c;f.current=b("VideoPlayerProgressiveImplementationEngineUtils").createResolvedVideoInfoProgressive(c);n();return!0},q=b("VideoPlayerProgressiveImplementationEngineExtrasAPI").createVideoPlayerProgressiveImplementationEngineExtrasAPI({getPlayingVideoInfo:function(){return i.current},setUserSelectedVideoQuality:function(a){var c=i.current;if(!c)throw b("unrecoverableViolation")("Attempt to switch quality when playingVideoInfo does not exist","comet_video_player");var d=x.current;if(!d)throw b("unrecoverableViolation")("Attempt to switch quality when videoElementAPI does not exist","comet_video_player");var e=c.targetQuality,f=c.targetSrc;i.current=b("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithUserSelectedQuality(c,a);c=i.current;a=c.targetQuality;c=c.targetSrc;if(b("gkx")("1467411"))c!==f&&(c==null?(k(),d.setSrc(null)):l(c)),e!=null&&a!==e&&a!=null&&w.dispatch({payload:{targetVideoQuality:a},type:"representation_changed"});else{d.setSrc(c);if(c!=null){e=(f=w.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?f:0;e>0&&d.setPlayheadPosition(e);w.getCurrentState().controlledState.playbackState==="playing"&&d.play();w.dispatch({payload:{targetVideoQuality:q.getCurrentTargetVideoQuality()},type:"representation_changed"})}}}}),r=function(){m.current&&(m.current.destroy(),m.current=null)};c=b("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({createDebugAPI:function(a){var c=a.getVideoElementAPI;a=a.logger;return b("cr:1473550")?b("cr:1473550").createVideoPlayerImplementationDebugAPI({engineExtrasAPI:q,getVideoElementAPI:c,logger:a}):null},createVideoPlayerError:h,debugLog:g,destroyEngineParts:function(){if(b("gkx")("1467411")){k();var a=x.current;a&&a.setSrc(null);i.current=null}r()},engineExtrasAPI:q,engineMetadata:{isAbrEnabled:!1,playerImplementationName:"progressive_v2",playerVersion:"comet_progressive",streamingFormat:"progressive"},handleFatalError:c,handleVideoElementMounted:n,handleVideoElementUnmounted:function(){b("gkx")("1467411")&&k()},handleVideoInfoChange:p,initialProps:d,setExposedStateInReact:a});p=c.engine;var s=c.getCaptionsInfo,t=c.getVideoElement,u=c.handleCaptionsInfoChange,v=c.handleFatalImplementationError,w=c.machine,x=c.videoElementAPIRef;return p}}),null);
__d("VideoPlayerProgressiveImplementationV2.react",["React","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationReactVideoElement.react","VideoPlayerProgressiveImplementationEngine"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=b("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,b("VideoPlayerProgressiveImplementationEngine").createVideoPlayerProgressiveImplementationEngine),d=c[0];c=c[1];return g.jsx(b("VideoPlayerImplementationReactVideoElement.react"),{implementationController:c.implementationController,implementationExposedState:d,renderWithVideoImplementationStates:a.renderWithVideoImplementationStates,videoElementCallbacks:c.videoElementCallbacks,videoElementRefCallback:c.videoElementRefCallback})}}),null);
__d("oz-player/shims/www/ozvariantWWW",["invariant"],(function(a,b,c,d,e,f,g){e.exports=g}),null);
__d("CometUFICommentList_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},c=[b];return{argumentDefinitions:[{kind:"RootArgument",name:"feedLocation"},{defaultValue:!1,kind:"LocalArgument",name:"includeHighlightedComments"},{defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments"},{defaultValue:!0,kind:"LocalArgument",name:"isInitialFetch"},{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFICommentList_feedback",selections:[a,{alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},b],kind:"ScalarField",name:"can_viewer_comment",storageKey:null},{alias:null,args:c,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},{alias:"comment_count",args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},{alias:"toplevel_comment_count",args:[{kind:"Literal",name:"orderby",value:"toplevel"}],concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:'top_level_comments(orderby:"toplevel")'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[a],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIComment_feedback"},{args:[{kind:"Variable",name:"includeHighlightedComments",variableName:"includeHighlightedComments"},{kind:"Variable",name:"includeNestedComments",variableName:"includeNestedComments"},{kind:"Variable",name:"isInitialFetch",variableName:"isInitialFetch"}],kind:"FragmentSpread",name:"CometUFICommentsProvider_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFIComposer_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFICommentEditor_feedback"}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentsProviderPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"UFI2CommentsProvider_commentsKey"},b={defaultValue:null,kind:"LocalArgument",name:"after"},c={defaultValue:null,kind:"LocalArgument",name:"before"},d={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment"},e={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview"},f={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare"},g={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet"},h={defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext"},i={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},j={defaultValue:null,kind:"LocalArgument",name:"feedbackID"},k={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},l={defaultValue:null,kind:"LocalArgument",name:"first"},aa={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},ba={defaultValue:!1,kind:"LocalArgument",name:"includeHighlightedComments"},ca={defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments"},da={defaultValue:null,kind:"LocalArgument",name:"isComet"},ea={defaultValue:null,kind:"LocalArgument",name:"isInitialFetch"},fa={defaultValue:!0,kind:"LocalArgument",name:"isPaginating"},ga={defaultValue:null,kind:"LocalArgument",name:"last"},ha={defaultValue:null,kind:"LocalArgument",name:"scale"},ia={defaultValue:null,kind:"LocalArgument",name:"topLevelViewOption"},ja={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},ka={defaultValue:null,kind:"LocalArgument",name:"viewOption"},la=[{kind:"Variable",name:"id",variableName:"feedbackID"}],ma={kind:"Variable",name:"after",variableName:"after"},na={kind:"Variable",name:"before",variableName:"before"},oa={kind:"Variable",name:"first",variableName:"first"},pa={kind:"Variable",name:"last",variableName:"last"},m={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},qa={alias:null,args:null,kind:"ScalarField",name:"subscription_target_id",storageKey:null},n={kind:"Variable",name:"feed_context_enable_comment",variableName:"displayCommentsContextEnableComment"},o={kind:"Variable",name:"feed_context_fb_feed_location",variableName:"feedLocation"},p={kind:"Variable",name:"feed_context_is_ad_preview",variableName:"displayCommentsContextIsAdPreview"},q={kind:"Variable",name:"feed_context_is_aggregated_share",variableName:"displayCommentsContextIsAggregatedShare"},r={kind:"Variable",name:"feed_context_is_story_set",variableName:"displayCommentsContextIsStorySet"},s={kind:"Variable",name:"feedback_context",variableName:"displayCommentsFeedbackContext"},t={kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},u={kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"},v={kind:"Variable",name:"is_initial_fetch",variableName:"isInitialFetch"},ra=[ma,na,{kind:"Variable",name:"comment_order",variableName:"viewOption"},n,o,p,q,r,s,t,oa,u,v,{kind:"Variable",name:"is_top_level",variableName:"includeNestedComments"},pa,{kind:"Variable",name:"top_level_comment_order",variableName:"topLevelViewOption"}],sa={alias:null,args:null,kind:"ScalarField",name:"after_count",storageKey:null},ta={alias:null,args:null,kind:"ScalarField",name:"before_count",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},ua={alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},va={kind:"TypeDiscriminator",abstractKey:"__isActor"},z={kind:"Variable",name:"scale",variableName:"scale"},A={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},B=[A],wa={alias:"profile_picture_depth_0",args:[{kind:"Literal",name:"height",value:32},z,{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:B,storageKey:null},C=[{kind:"Literal",name:"height",value:24},z,{kind:"Literal",name:"width",value:24}],xa={alias:"profile_picture_depth_1",args:C,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:B,storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},E={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},I={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]},ya={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[x,m,y,va,wa,xa,{kind:"InlineFragment",selections:[D,E,F,G,D,H,I],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[D,F,D],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[D],type:"Entity",abstractKey:"__isEntity"}],storageKey:null},za={alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},Aa={alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},Ba={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:"style_type_renderer_comet",args:[{kind:"Literal",name:"supported",value:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentQuiltImageStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer"]}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[x,{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnimatedImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentQuiltImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentQuiltImageStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAutoplayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoAutoplayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTipJarPaymentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPlaceInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommentPlaceInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentChatCommandStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPageInCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageInCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesTournamentActivityAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentActivityStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesUpdateCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesUpdateCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFISubscriptionGiftingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSubscriptionGiftStyleRenderer",abstractKey:null}],storageKey:'style_type_renderer(supported:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentQuiltImageStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer"])'},{alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null}],storageKey:null},K={kind:"Variable",name:"feed_location",variableName:"feedLocation"},L=[K],Ca={alias:null,args:L,kind:"ScalarField",name:"should_show_comment_menu",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},Da={alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"private_reply_context",plural:!1,selections:[M],storageKey:null},N=[m];M={alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"page_private_reply",plural:!1,selections:[M,{alias:null,args:null,kind:"ScalarField",name:"permalink",storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:N,storageKey:null}],storageKey:null};var O={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},P=[O],Q=[x,m],Ea={alias:null,args:P,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:Q,storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},Fa={alias:null,args:P,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[R,m],storageKey:null},Ga={alias:null,args:null,concreteType:"FeedbackReaction",kind:"LinkedField",name:"supported_reactions",plural:!0,selections:[R],storageKey:null},Ha={alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:N,storageKey:null};R={alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[R,m,{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'};var Ia={alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[w,{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count_reduced",storageKey:null}],storageKey:null},Ja={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:N,storageKey:null},Ka={alias:null,args:null,kind:"ScalarField",name:"can_viewer_demote",storageKey:null},La={alias:null,args:null,kind:"ScalarField",name:"did_viewer_demote",storageKey:null};O={alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},O],kind:"ScalarField",name:"can_viewer_comment",storageKey:null};var Ma={alias:null,args:P,kind:"ScalarField",name:"can_viewer_react",storageKey:null},Na={alias:null,args:P,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},Oa={alias:null,args:null,concreteType:"PublicConversationsExperimentContext",kind:"LinkedField",name:"public_conversations_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"comment_vote_ui_version",storageKey:null}],storageKey:null},Pa={alias:null,args:null,kind:"ScalarField",name:"should_show_top_reactions",storageKey:null},S=[w];I={kind:"InlineFragment",selections:[H,I],type:"User",abstractKey:null};n=[n,o,p,q,r,s,t,u,v,{kind:"Literal",name:"is_top_level",value:!1}];o={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"highlighted_comments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[x,y,{alias:"profilePictureForReplyExpander",args:C,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:B,storageKey:null},m,I],storageKey:null},J,m],storageKey:null};p={alias:null,args:null,kind:"ScalarField",name:"comment_order",storageKey:null};q={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"expanded_sub_reply_parents",plural:!0,selections:N,storageKey:null};r={alias:null,args:null,kind:"ScalarField",name:"is_initially_expanded",storageKey:null};s={alias:null,args:null,kind:"ScalarField",name:"page_size",storageKey:null};t={alias:null,args:null,kind:"ScalarField",name:"reply_comment_order",storageKey:null};u={alias:null,args:null,kind:"ScalarField",name:"should_render_composer_preemptively",storageKey:null};v={alias:"sub_replies_count",args:[{kind:"Literal",name:"orderby",value:"sub_replies"}],concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:S,storageKey:'top_level_comments(orderby:"sub_replies")'};C={alias:null,args:null,kind:"ScalarField",name:"upvote_downvote_total",storageKey:null};var Qa={alias:null,args:null,kind:"ScalarField",name:"viewer_comment_vote_state",storageKey:null},Ra={alias:null,args:null,kind:"ScalarField",name:"work_ama_answer_status",storageKey:null},Sa={alias:null,args:null,concreteType:"PageAdminActorInfo",kind:"LinkedField",name:"page_admin_actor_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"creator_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null},Ta={alias:null,args:null,kind:"ScalarField",name:"is_author_banned_by_content_owner",storageKey:null},Ua={alias:null,args:null,kind:"ScalarField",name:"can_viewer_upvote_downvote",storageKey:null};G={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[x,y,m,{kind:"InlineFragment",selections:[G,H],type:"User",abstractKey:null}],storageKey:null}],storageKey:null};H={alias:null,args:null,concreteType:"EditHistoryConnection",kind:"LinkedField",name:"edit_history",plural:!1,selections:S,storageKey:null};var Va={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_ban_user",storageKey:null},O,m,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"viewer_acts_as_page",plural:!1,selections:N,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[y,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null},m],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"best_profile",plural:!1,selections:Q,storageKey:null},m],storageKey:null}],storageKey:null},T=[{kind:"Literal",name:"translation_type",value:"ORIGINAL"}],U={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null};A=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},A,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}];var W={kind:"InlineFragment",selections:N,type:"Node",abstractKey:"__isNode"},X={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};F={alias:null,args:T,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[x,{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[U,V,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[x,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:A,storageKey:null},W],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[U,V,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[U,V,w,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[x,{kind:"InlineFragment",selections:[m,y],type:"User",abstractKey:null},W],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[x,{kind:"TypeDiscriminator",abstractKey:"__isEntity"},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:"mobileUrl",args:[{kind:"Literal",name:"site",value:"mobile"}],kind:"ScalarField",name:"url",storageKey:'url(site:"mobile")'},{kind:"InlineFragment",selections:[m,{kind:"InlineFragment",selections:[{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Actor",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},m,F],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[X,E],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[X,{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null},W],storageKey:null},U,V],storageKey:null},{alias:null,args:null,concreteType:"ColorAtRange",kind:"LinkedField",name:"color_ranges",plural:!0,selections:[U,V,{alias:null,args:null,kind:"ScalarField",name:"hex_rgb_color_with_pound_key",storageKey:null}],storageKey:null},Y],type:"TextWithEntities",abstractKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};E={alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect_name",storageKey:null}],storageKey:null};X={alias:null,args:null,kind:"ScalarField",name:"translation_available_for_viewer",storageKey:null};var Wa={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_share",plural:!1,selections:[m,{documentName:"CometUFICommentActionLinks_comment__if_viewer_can_share",fragmentName:"CometUFICommentShareActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"}],storageKey:null};T={alias:"body_renderer",args:T,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[x,{kind:"InlineFragment",selections:[{documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};var Xa={alias:null,args:null,kind:"ScalarField",name:"timestamp_in_video",storageKey:null},Ya={alias:null,args:null,kind:"ScalarField",name:"written_while_video_was_live",storageKey:null},Z={kind:"Literal",name:"is_comet",value:!0},$=[Y];B={alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupMembership",kind:"LinkedField",name:"author_membership",plural:!1,selections:[{alias:null,args:L,concreteType:"RenderableGroupMemberTag",kind:"LinkedField",name:"top_member_tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tag_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"member_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"small_icon",plural:!1,selections:B,storageKey:null}],storageKey:null},m],storageKey:null},{alias:"author_badge",args:[K,Z,{kind:"Literal",name:"whitelist",value:"ORIGINAL_POST_AUTHOR"}],concreteType:"GroupCommentInfoCommentMemberBadgesConnection",kind:"LinkedField",name:"comment_member_badges",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommentInfoCommentMemberBadgesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"RenderableGroupMemberTag",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"badge_name",plural:!1,selections:$,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"badge_description",plural:!1,selections:$,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:N,storageKey:null},{alias:null,args:[K,Z],kind:"ScalarField",name:"is_author_with_member_profile",storageKey:null},{documentName:"CometUFICommentActorLink_comment",fragmentName:"CometUFIGroupCommentActorLink_groupCommentInfo",fragmentPropName:"groupCommentInfo",kind:"ModuleImport"}],storageKey:null};$={alias:null,args:null,kind:"ScalarField",name:"has_constituent_badge",storageKey:null};K={alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null};Z={alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null};var Za={alias:null,args:null,kind:"ScalarField",name:"question_and_answer_type",storageKey:null},$a={alias:null,args:null,kind:"ScalarField",name:"is_author_original_poster",storageKey:null},ab={alias:null,args:null,kind:"ScalarField",name:"is_viewer_comment_poster",storageKey:null},bb={alias:null,args:null,kind:"ScalarField",name:"is_author_bot",storageKey:null},cb={alias:null,args:null,kind:"ScalarField",name:"is_author_non_coworker",storageKey:null},db={alias:null,args:L,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple_badge_asset",storageKey:null},Y,{alias:null,args:null,kind:"ScalarField",name:"information_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"information_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"information_description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identity_badge_type",storageKey:null}],storageKey:null};L={alias:null,args:L,kind:"ScalarField",name:"can_show_multiple_identity_badges",storageKey:null};var eb={alias:null,args:null,kind:"ScalarField",name:"can_viewer_disable_preview",storageKey:null},fb={alias:null,args:null,kind:"ScalarField",name:"is_hidden_by_content_owner",storageKey:null};z={alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{alias:null,args:[z],concreteType:"Image",kind:"LinkedField",name:"favicon",plural:!1,selections:A,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followup_choices",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followup_question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_choices",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_blob",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thankyou_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tessa_survey_config_id",storageKey:null},{documentName:"CometUFIComment_comment",fragmentName:"CometUFICommentQualitySurvey_inlineSurveyConfig",fragmentPropName:"inlineSurveyConfig",kind:"ModuleImport"}],storageKey:null};A={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:Q,storageKey:null};Q={alias:null,args:null,concreteType:"WorkAMAUFIAnsweredEventCommentModuleRenderer",kind:"LinkedField",name:"work_answered_event_comment_renderer",plural:!1,selections:[{documentName:"CometUFIComment_comment_work_answered_event_comment_renderer",fragmentName:"CometUFIAMABroadcastAnswerEventRow_data",fragmentPropName:"data",kind:"ModuleImport"}],storageKey:null};Y={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[Y,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[x,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[x,W],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},U,V],storageKey:null}],storageKey:null};W={alias:null,args:null,kind:"ScalarField",name:"is_markdown_enabled",storageKey:null};U={alias:null,args:null,kind:"ScalarField",name:"is_subreply_parent_deleted",storageKey:null};V={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"reply_parent_comment",plural:!1,selections:N,storageKey:null};var gb={alias:"threading_depth",args:null,kind:"ScalarField",name:"depth",storageKey:null},hb={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_created_from_subscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reply_comment_parent_fbid",storageKey:null}]},ib={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},jb={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null}],storageKey:null},kb={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi2_connection_generation",storageKey:null}]},lb=["feedback_source","focus_comment_id","comment_order"],mb={kind:"Variable",name:"__dynamicKey",variableName:"UFI2CommentsProvider_commentsKey"};return{fragment:{argumentDefinitions:[a,b,c,d,e,f,g,h,i,j,k,l,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka],kind:"Fragment",metadata:null,name:"CometUFICommentsProviderPaginationQuery",selections:[{alias:null,args:la,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:[ma,na,oa,{kind:"Variable",name:"includeHighlightedComments",variableName:"includeHighlightedComments"},{kind:"Variable",name:"includeNestedComments",variableName:"includeNestedComments"},{kind:"Variable",name:"isInitialFetch",variableName:"isInitialFetch"},{kind:"Variable",name:"isPaginating",variableName:"isPaginating"},pa,{kind:"Variable",name:"topLevelViewOption",variableName:"topLevelViewOption"},{kind:"Variable",name:"viewOption",variableName:"viewOption"}],kind:"FragmentSpread",name:"CometUFICommentsProvider_feedback"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,c,h,d,e,f,g,i,j,k,l,aa,ba,ca,ea,fa,da,ga,ha,ia,ja,ka,a],kind:"Operation",name:"CometUFICommentsProviderPaginationQuery",selections:[{alias:null,args:la,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[m,qa,{alias:null,args:ra,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[sa,ta,w,{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[m,ua,ya,za,J,Aa,Ba,Ca,Da,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[m,M,Ea,Fa,Ga,Ha,R,Ia,Ja,Ka,La,O,Ma,Na,Oa,Pa,{condition:"includeNestedComments",kind:"Condition",passingValue:!0,selections:[{alias:"comment_count",args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},{alias:"toplevel_comment_count",args:[{kind:"Literal",name:"orderby",value:"toplevel"}],concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:S,storageKey:'top_level_comments(orderby:"toplevel")'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[x],storageKey:null},{alias:null,args:P,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[va,y,wa,xa,I],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_pin_live_comments",storageKey:null},{alias:null,args:null,concreteType:"BroadcastPinnedCommentEvent",kind:"LinkedField",name:"latest_pinned_comment_event",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"pinned_comment",plural:!1,selections:N,storageKey:null},m],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"broadcast_is_ama_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"WorkAMAUFIAnswerEventActionLinksCommentModuleRenderer",kind:"LinkedField",name:"work_answer_event_action_links_comment_renderer",plural:!1,selections:[{documentName:"CometUFICommentActionLinks_feedback_work_answer_event_action_links_comment_renderer",fragmentName:"GeminiUFIAMABroadcastAnswerActionLinks_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],storageKey:null},qa,{alias:null,args:n,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[o,p,q,r,s,t,u,sa,ta,w,{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[m,ua,ya,za,J,Aa,Ba,Ca,Da,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[m,M,Ea,Fa,Ga,Ha,R,Ia,Ja,Ka,La,O,Ma,Na,Oa,Pa,v],storageKey:null},C,Qa,Ra,Sa,Ta,Ua,G,H,Va,F,E,X,D,Wa,T,Xa,Ya,B,$,K,Z,Za,$a,ab,bb,cb,db,L,eb,fb,z,A,Q,Y,W,U,V,gb,x,hb],storageKey:null},ib],storageKey:null},jb,kb],storageKey:null},{alias:null,args:n,filters:lb,handle:"ufi2_comments",key:"UFI2CommentsProvider_feedback_display_comments",kind:"LinkedHandle",name:"display_comments",dynamicKey:mb}]}],storageKey:null},C,Qa,Ra,Sa,Ta,Ua,G,H,Va,F,E,X,D,Wa,T,Xa,Ya,B,$,K,Z,Za,$a,ab,bb,cb,db,L,eb,fb,z,A,Q,Y,W,V,gb,x,hb,{condition:"includeNestedComments",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[v],storageKey:null},U]}],storageKey:null},ib],storageKey:null},jb,{condition:"includeHighlightedComments",kind:"Condition",passingValue:!0,selections:[o]},{condition:"isPaginating",kind:"Condition",passingValue:!1,selections:[p,q,r,s,t,u,kb]}],storageKey:null},{alias:null,args:ra,filters:lb,handle:"ufi2_comments",key:"UFI2CommentsProvider_feedback_display_comments",kind:"LinkedHandle",name:"display_comments",dynamicKey:mb}],storageKey:null}]},params:{id:"4119249161479229",metadata:{},name:"CometUFICommentsProviderPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometUFICommentsProviderReadCommentsPageQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"after"},b={defaultValue:null,kind:"LocalArgument",name:"before"},c={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment"},d={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview"},e={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare"},f={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet"},g={defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext"},h={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},i={defaultValue:null,kind:"LocalArgument",name:"feedbackID"},j={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},k={defaultValue:null,kind:"LocalArgument",name:"first"},l={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},m={defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments"},n={defaultValue:null,kind:"LocalArgument",name:"isInitialFetch"},o={defaultValue:null,kind:"LocalArgument",name:"last"},p={defaultValue:null,kind:"LocalArgument",name:"topLevelViewOption"},q={defaultValue:null,kind:"LocalArgument",name:"viewOption"},r=[{kind:"Variable",name:"id",variableName:"feedbackID"}],s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Variable",name:"comment_order",variableName:"viewOption"},{kind:"Variable",name:"feed_context_enable_comment",variableName:"displayCommentsContextEnableComment"},{kind:"Variable",name:"feed_context_fb_feed_location",variableName:"feedLocation"},{kind:"Variable",name:"feed_context_is_ad_preview",variableName:"displayCommentsContextIsAdPreview"},{kind:"Variable",name:"feed_context_is_aggregated_share",variableName:"displayCommentsContextIsAggregatedShare"},{kind:"Variable",name:"feed_context_is_story_set",variableName:"displayCommentsContextIsStorySet"},{kind:"Variable",name:"feedback_context",variableName:"displayCommentsFeedbackContext"},{kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"},{kind:"Variable",name:"is_initial_fetch",variableName:"isInitialFetch"},{kind:"Variable",name:"is_top_level",variableName:"includeNestedComments"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"top_level_comment_order",variableName:"topLevelViewOption"}],concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[s],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q],kind:"Fragment",metadata:null,name:"CometUFICommentsProviderReadCommentsPageQuery",selections:[{alias:null,args:r,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[t],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,b,g,c,d,e,f,h,i,j,k,l,m,n,o,p,q],kind:"Operation",name:"CometUFICommentsProviderReadCommentsPageQuery",selections:[{alias:null,args:r,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[t,s],storageKey:null}]},params:{id:"3550071361673516",metadata:{},name:"CometUFICommentsProviderReadCommentsPageQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometUFICommentsProvider_displayCommentsHighlightedComments.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"CometUFICommentsProvider_displayCommentsHighlightedComments"};e.exports=a}),null);
__d("CometUFICommentsProvider_displayCommentsMetadata.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"CometUFICommentsProvider_displayCommentsMetadata"};e.exports=a}),null);
__d("CometUFICommentsProvider_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},d={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},e=[a],f={alias:null,args:null,kind:"ScalarField",name:"is_created_from_subscription",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"UFI2CommentsProvider_commentsKey"},{defaultValue:!1,kind:"LocalArgument",name:"__false"},{defaultValue:!0,kind:"LocalArgument",name:"__true"},{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"before"},{kind:"RootArgument",name:"displayCommentsContextEnableComment"},{kind:"RootArgument",name:"displayCommentsContextIsAdPreview"},{kind:"RootArgument",name:"displayCommentsContextIsAggregatedShare"},{kind:"RootArgument",name:"displayCommentsContextIsStorySet"},{kind:"RootArgument",name:"displayCommentsFeedbackContext"},{kind:"RootArgument",name:"feedLocation"},{kind:"RootArgument",name:"feedbackSource"},{defaultValue:null,kind:"LocalArgument",name:"first"},{kind:"RootArgument",name:"focusCommentID"},{defaultValue:!1,kind:"LocalArgument",name:"includeHighlightedComments"},{defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments"},{defaultValue:!0,kind:"LocalArgument",name:"isInitialFetch"},{defaultValue:!1,kind:"LocalArgument",name:"isPaginating"},{defaultValue:null,kind:"LocalArgument",name:"last"},{defaultValue:null,kind:"LocalArgument",name:"topLevelViewOption"},{kind:"RootArgument",name:"useDefaultActor"},{defaultValue:null,kind:"LocalArgument",name:"viewOption"}],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"bidirectional",path:["display_comments"]}]},name:"CometUFICommentsProvider_feedback",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"subscription_target_id",storageKey:null},{alias:"display_comments",args:[{kind:"Variable",name:"__dynamicKey",variableName:"UFI2CommentsProvider_commentsKey"},{kind:"Variable",name:"comment_order",variableName:"viewOption"},{kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},{kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"}],concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"__UFI2CommentsProvider_feedback_display_comments_ufi2_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"after_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"before_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[b,a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[a,{alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},d],kind:"ScalarField",name:"can_viewer_comment",storageKey:null},{alias:null,args:[d],kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},{condition:"includeNestedComments",kind:"Condition",passingValue:!0,selections:[{args:[{kind:"Variable",name:"includeHighlightedComments",variableName:"__true"},{kind:"Variable",name:"includeNestedComments",variableName:"__false"},{kind:"Variable",name:"isInitialFetch",variableName:"isInitialFetch"}],kind:"FragmentSpread",name:"CometUFICommentList_feedback"}]}],storageKey:null},{alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UFI2CommentQualitySurvey_inlineSurveyConfig"}],storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"reply_parent_comment",plural:!1,selections:e,storageKey:null},{alias:"threading_depth",args:null,kind:"ScalarField",name:"depth",storageKey:null},b,{args:null,kind:"FragmentSpread",name:"CometUFIComment_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentEditor_comment"},{kind:"InlineDataFragmentSpread",name:"isCometCommentFresh_comment",selections:[c,{kind:"ClientExtension",selections:[f]}]},{condition:"includeNestedComments",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFIFullThreadedReplyContainer_comment"}]},{args:null,kind:"FragmentSpread",name:"UFI2CommentQualitySurvey_comment"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reply_comment_parent_fbid",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null}],storageKey:null},{condition:"includeHighlightedComments",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"CometUFICommentsProvider_displayCommentsHighlightedComments",selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"highlighted_comments",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometUFIRepliesExpander_highlightedComments"}],storageKey:null}]}]},{condition:"isPaginating",kind:"Condition",passingValue:!1,selections:[{kind:"InlineDataFragmentSpread",name:"CometUFICommentsProvider_displayCommentsMetadata",selections:[{alias:null,args:null,kind:"ScalarField",name:"comment_order",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"expanded_sub_reply_parents",plural:!0,selections:e,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_initially_expanded",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reply_comment_order",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_render_composer_preemptively",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi2_connection_generation",storageKey:null}]}]}]}],storageKey:null}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentListStateConfig",[],(function(a,b,c,d,e,f){"use strict";a=10;f.MIN_REPLIES_TO_SHOW_COLLAPSER=a}),null);
__d("CometUFICommentListState",["CometUFICommentListStateConfig","ErrorNormalizeUtils","FBLogger","UFI2ViewOption","gkx","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f._updaterDepth0_DO_NOT_USE=a;f._updaterDepth1_DO_NOT_USE=c;function g(a){var b=a.count,c=a.direction,d=a.error,e=a.hasMore,f=a.isLoading,g=a.pageSize;a=a.totalCount;if(a!=null&&a===0)return null;if(b===0)return null;return!e?null:{__type:"PAGER",count:Math.min(b,g),direction:c,status:{error:d,pending:f}}}function h(a){var b=a.count,c=a.expanded;a=a.minCountToShowCollapser;if(!c)return null;if(a==null)return null;return b<=a?null:{__type:"REPLIES_COLLAPSER",count:b}}function i(a){var b=a.error,c=a.expanded,d=a.isLoading;a=a.totalCount;return c||a===0?null:{__type:"REPLIES_EXPANDER",count:a,status:{error:b,pending:d}}}function j(a){var b=a.direction;a=a.page;if(b==="forward"){b=Math.max(0,a.afterCount-1);return babelHelpers["extends"]({},a,{afterCount:b,hasNext:b>0})}b=Math.max(0,a.beforeCount-1);return babelHelpers["extends"]({},a,{beforeCount:b,hasPrevious:b>0})}function k(a,c){var d=l(a,c);if(a.__type!=="INITIAL_STATE"&&c==null)throw b("unrecoverableViolation")("Expected state not to be null","ufi2");return d}function l(a,c){if(a.__type==="INITIAL_STATE"){var d,e=a.args,f=e.afterCount,k=e.beforeCount,l=e.canViewerComment,m=e.commentIDs,o=e.commentsByID,q=e.feedbackTargetID,u=e.hasNext,v=e.hasPrevious,w=e.hiddenCommentIDs,x=e.initiallyExpanded,y=e.isListVisible,z=e.pageSize,A=e.shouldRenderComposerPreemptively,B=e.topLevelFeedbackTargetID,C=e.totalCount;e=e.viewOption;d={backward:g({count:k,direction:"backward",error:null,hasMore:v,isLoading:(d=c==null?void 0:(d=c.pagers)==null?void 0:(d=d.backward)==null?void 0:(d=d.status)==null?void 0:d.pending)!=null?d:!1,pageSize:z,totalCount:C}),forward:g({count:f,direction:"forward",error:null,hasMore:u,isLoading:(d=c==null?void 0:(d=c.pagers)==null?void 0:(d=d.forward)==null?void 0:(d=d.status)==null?void 0:d.pending)!=null?d:!1,pageSize:z,totalCount:C})};var ea={};w.forEach(function(a){ea[a]="COLLAPSED"});w={canViewerComment:l,commentPages:m.length>0?[{__type:"COMMENTS_PAGE",afterCount:f,beforeCount:k,commentIDs:m,hasNext:u,hasPrevious:v,state:"VISIBLE"}]:[],commentsByID:o,commentsHiddenByViewer:ea,expanded:(z=c==null?void 0:c.expanded)!=null?z:x,feedbackTargetID:q,hasPaged:{backward:!1,forward:!1},isListVisible:y,locallyComposedCommentIDs:[],newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:d,shouldComposerRenderWhenListIsExpanded:A,topLevelFeedbackTargetID:B,viewOption:e};if(a.args.depth===0)return babelHelpers["extends"]({},w,{__type:"DEPTH_0",status:{error:null,pending:!1}});l=a.args.minCountToShowCollapser;f=null;c!=null&&c.__type==="DEPTH_1"&&(f=c.repliesExpander);return babelHelpers["extends"]({},w,{__type:"DEPTH_1",repliesCollapser:h({count:m.length,expanded:x,minCountToShowCollapser:l}),repliesExpander:i({error:null,expanded:(k=c==null?void 0:c.expanded)!=null?k:x,isLoading:(o=(u=f)==null?void 0:(v=u.status)==null?void 0:v.pending)!=null?o:!1,totalCount:C})})}if(c==null)throw b("unrecoverableViolation")("Expected state not to be null","ufi2");switch(a.__type){case"COLLAPSE_LIST":z=a.args;q=z.depth;y=z.totalCount;if(c.expanded===!1)return c;if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{expanded:!1});d=t.getCommentsCount({depth:q,state:c})===0;A=y>0&&d===!0;A&&b("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): COLLAPSE_LIST: expected list not to be empty if connection is not empty");return babelHelpers["extends"]({},c,{expanded:!1,repliesCollapser:null,repliesExpander:i({error:c.repliesExpander?c.repliesExpander.status.error:null,expanded:!1,isLoading:!1,totalCount:y})});case"DELETE_COMMENT":B=a.args;var D=B.commentID;e=B.depth;w=c.commentPages;m=c.locallyComposedCommentIDs;var E=c.newCommentsPage;if(w.length===0&&E.commentIDs.length===0)return c;l=E.commentIDs.filter(function(a){return a!==D});k=t.getVisibleCommentsCount({depth:e,state:c});x=l.length<E.commentIDs.length;if(x){var fa={};l.forEach(function(a){fa[a]=E.visibleStates[a]});f=babelHelpers["extends"]({},E,{commentIDs:l,visibleStates:fa});u=w.map(function(a){return j({direction:"backward",page:a})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:u,newCommentsPage:f});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");v=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:u,newCommentsPage:f,repliesCollapser:h({count:k-1,expanded:c.expanded,minCountToShowCollapser:v})})}var F=null,G=!1;o=w.map(function(a,b){if(G)return j({direction:"backward",page:a});var c=a.commentIDs.filter(function(a){return a!==D});if(c.length<a.commentIDs.length){G=!0;F=b;return babelHelpers["extends"]({},a,{commentIDs:c})}return a}).map(function(a,b){return a&&F!=null&&b<F?j({direction:"forward",page:a}):a}).filter(Boolean);if(G===!1){b("FBLogger")("ufi2").warn("CometUFICommentListState.updater(...): Tried deleting a comment that isnt present");return c}C=m.filter(function(a){return a!==D});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:o,locallyComposedCommentIDs:C});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:o,locallyComposedCommentIDs:C,repliesCollapser:h({count:k-1,expanded:c.expanded,minCountToShowCollapser:a.args.minCountToShowCollapser})});case"EXPAND_HIDDEN_COMMENTS":z=a.args.commentIDs;var ga=c.commentsHiddenByViewer,H=babelHelpers["extends"]({},ga);z.forEach(function(a){var c=ga[a];if(c==null){b("FBLogger")("ufi2").warn("CometUFICommentListState.updater(...): Tried expanding a comment that is not hidden");return}c==="COLLAPSED"&&(H[a]="EXPANDED")});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:H}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:H});case"EXPAND_LIST":q=a.args;d=q.depth;A=q.totalCount;y=c.commentPages;B=c.newCommentsPage;if(c.expanded===!0&&c.shouldComposerRenderWhenListIsExpanded===!0)return c;if(d!==0&&t.isRepliesExpanderLoading({depth:d,state:c}))return c;if(A===0)return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!0,repliesCollapser:null,repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});e=t.getVisibleCommentsCount({depth:d,state:c});if(e===0){x=t.getCommentsCount({depth:d,state:c})===0;if(b("gkx")("1567108")?B.commentIDs.length===0&&y.length===0:x)return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0,status:{error:null,pending:!0}}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!1,repliesCollapser:null,repliesExpander:i({error:null,expanded:!1,isLoading:!0,totalCount:A})});l=y.length>0?y[0]:null;u=l!=null?[babelHelpers["extends"]({},l,{state:"VISIBLE"})].concat(y.slice(1)):y;var ha={};B.commentIDs.forEach(function(a){ha[a]="VISIBLE"});f=babelHelpers["extends"]({},B,{visibleStates:ha});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:u,expanded:!0,newCommentsPage:f,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");v=(l!=null?l.commentIDs.length:0)+B.commentIDs.length;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:u,expanded:!0,newCommentsPage:f,repliesCollapser:h({count:v,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0})}if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");return babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!0,repliesCollapser:h({count:e,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});case"FAIL_COMMENT_PAGINATION":w=a.args;m=w.depth;o=w.direction;C=w.error;if(o==="forward"&&m!==0&&c.__type==="DEPTH_1"&&t.isRepliesExpanderLoading({depth:m,state:c}))return c.repliesExpander!=null?babelHelpers["extends"]({},c,{__type:"DEPTH_1",repliesExpander:babelHelpers["extends"]({},c.repliesExpander,{status:babelHelpers["extends"]({},c.repliesExpander.status,{error:C,pending:!1})})}):c;k=t.isPagerLoading({depth:m,direction:o,state:c})===!0;if(k===!1)return c;z=c.pagers.backward;q=c.pagers.forward;d=babelHelpers["extends"]({},c.pagers,{backward:o==="backward"&&z!=null?babelHelpers["extends"]({},z,{status:{error:C,pending:!1}}):z,forward:o==="forward"&&q!=null?babelHelpers["extends"]({},q,{status:{error:C,pending:!1}}):q});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",pagers:d});else return babelHelpers["extends"]({},c,{__type:"DEPTH_1",pagers:d});case"HIDE_COMMENTS":x=a.args.commentIDs;A=c.commentsHiddenByViewer;var I=babelHelpers["extends"]({},A);x.forEach(function(a){I[a]="LOCALLY_HIDDEN"});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:I}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:I});case"RECEIVE_COMMENTS_PAGE":y=c.commentPages;l=c.locallyComposedCommentIDs;var J=c.newCommentsPage;B=c.pagers;u=a.args;var K=u.commentIDs;f=u.depth;v=u.direction;e=u.feedbackTargetID;w=u.hiddenCommentIDs;m=u.pageSize;var L=t.isPagerLoading({depth:f,direction:v,state:c})===!0;k=f!==0&&t.isRepliesExpanderLoading({depth:f,state:c});var ia=f===0&&!L;z=J.commentIDs.filter(function(a){return!(K.includes(a)&&(!ia||J.visibleStates[a]==="HIDDEN"))});o=l.filter(function(a){return!K.includes(a)});var M={};z.forEach(function(a){M[a]=J.visibleStates[a]});C=babelHelpers["extends"]({},J,{commentIDs:z,visibleStates:M});var ja=new Set(y.reduce(function(a,b){return a.concat(b.commentIDs)},[]).concat(ia?z:[]));q=K.filter(function(a){return!ja.has(a)});v==="forward"&&a.args.hasNext===!0&&a.args.afterCount===0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",e).warn("CometUFICommentListState.receiveCommentsPage: Received page of comments that has_next_page but after_count is 0");a.args.direction==="forward"&&a.args.hasNext===!1&&a.args.afterCount>0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",e).warn("CometUFICommentListState.receiveCommentsPage: Received page of comments that does NOT have next_page but after_count is > 0");a.args.direction==="backward"&&a.args.hasPrevious===!0&&a.args.beforeCount===0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",e).warn("CometUFICommentListState.receiveCommentsPage: Received page of comments that has_previous_page but before_count is 0");a.args.direction==="backward"&&a.args.hasPrevious===!1&&a.args.beforeCount>0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",e).warn("CometUFICommentListState.receiveCommentsPage: Received page of comments that does NOT have previous_page but before_count is > 0");d=c.shouldComposerRenderWhenListIsExpanded===!0||L===!0||k===!0;var N=babelHelpers["extends"]({},c.commentsHiddenByViewer);w.forEach(function(a){Object.prototype.hasOwnProperty.call(N,a)||(N[a]="COLLAPSED")});A=ja.size;if(f!==0&&a.args.direction==="forward"&&A===0){x=a.args;u=x.afterCount;l=x.hasNext;v={backward:null,forward:g({count:u,direction:"forward",error:null,hasMore:l,isLoading:!1,pageSize:m})};var O=c.expanded||k?"VISIBLE":"HIDDEN";e={__type:"COMMENTS_PAGE",afterCount:u,beforeCount:z.length,commentIDs:q,hasNext:l,hasPrevious:!1,state:O};z.forEach(function(a){M[a]=O});C=babelHelpers["extends"]({},J,{commentIDs:z,visibleStates:M});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");if(c.__type!=="DEPTH_1")throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");w=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[e],commentsHiddenByViewer:N,expanded:O==="VISIBLE",locallyComposedCommentIDs:o,newCommentsPage:C,pagers:v,repliesCollapser:h({count:q.length,expanded:k,minCountToShowCollapser:w}),repliesExpander:k?null:c.repliesExpander,shouldComposerRenderWhenListIsExpanded:d})}A=y[0];x=y[y.length-1];u=t.getVisibleCommentsCount({depth:f,state:c});if(a.args.direction==="backward"){if(L&&A!=null&&A.state!=="VISIBLE")throw b("unrecoverableViolation")("Expected first available page to be visible if backward pager was loading when backward comments were received","ufi2");l=a.args;e=l.beforeCount;v=l.hasPrevious;w=e<=z.length;w&&(M={},C.commentIDs.forEach(function(a){M[a]=L?"VISIBLE":"HIDDEN"}),C=babelHelpers["extends"]({},C,{visibleStates:M}));f=e-C.commentIDs.length-o.length;l=babelHelpers["extends"]({},B,{backward:L?g({count:f,direction:"backward",error:null,hasMore:v&&!w,isLoading:!1,pageSize:m}):B.backward});A={__type:"COMMENTS_PAGE",afterCount:((z=A==null?void 0:A.afterCount)!=null?z:0)+((z=A==null?void 0:(f=A.commentIDs)==null?void 0:f.length)!=null?z:0),beforeCount:e,commentIDs:q,hasNext:!0,hasPrevious:v,state:L||k?"VISIBLE":"HIDDEN"};if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[A].concat(y),commentsHiddenByViewer:N,locallyComposedCommentIDs:o,newCommentsPage:C,pagers:l,shouldComposerRenderWhenListIsExpanded:d});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");f=a.args.minCountToShowCollapser;z=k?!0:c.expanded;e=u+(A.state==="VISIBLE"?q.length:0)+(w&&L?C.commentIDs.length:0);return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[A].concat(y),commentsHiddenByViewer:N,expanded:z,locallyComposedCommentIDs:o,newCommentsPage:C,pagers:l,repliesCollapser:h({count:e,expanded:z,minCountToShowCollapser:f}),repliesExpander:k?null:c.repliesExpander,shouldComposerRenderWhenListIsExpanded:d})}if(L&&x!=null&&x.state!=="VISIBLE")throw b("unrecoverableViolation")("Expected last available page to be visible if forward pager was loading when forward comments were received","ufi2");v=a.args;w=v.afterCount;A=v.hasNext;l=babelHelpers["extends"]({},B,{forward:L?g({count:w,direction:"forward",error:null,hasMore:A,isLoading:!1,pageSize:m}):B.forward});v={__type:"COMMENTS_PAGE",afterCount:w,beforeCount:y.length===0?C.commentIDs.length:((e=x==null?void 0:x.beforeCount)!=null?e:0)+((f=x==null?void 0:(z=x.commentIDs)==null?void 0:z.length)!=null?f:0),commentIDs:q,hasNext:A,hasPrevious:!0,state:L||k?"VISIBLE":"HIDDEN"};var P=0;m=k?y.map(function(a){a.state==="HIDDEN"&&(P+=a.commentIDs.length);return babelHelpers["extends"]({},a,{state:"VISIBLE"})}):y;if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[].concat(m,[v]),commentsHiddenByViewer:N,locallyComposedCommentIDs:o,newCommentsPage:C,pagers:l,shouldComposerRenderWhenListIsExpanded:d});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");B=a.args.minCountToShowCollapser;w=v.state==="VISIBLE"?u+P+q.length:u+P;e=k?!0:c.expanded;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[].concat(m,[v]),commentsHiddenByViewer:N,expanded:e,locallyComposedCommentIDs:o,newCommentsPage:C,pagers:l,repliesCollapser:h({count:w,expanded:e,minCountToShowCollapser:B}),repliesExpander:k?null:c.repliesExpander,shouldComposerRenderWhenListIsExpanded:d});case"RECEIVE_NEW_COMMENT":x=a.args;var Q=x.commentID;z=x.commentsComposedByThisUFI;f=x.depth;A=x.pageSize;y=x.prevTotalCount;q=x.totalCount;u=c.commentPages;m=c.commentsByID;v=c.expanded;o=c.locallyComposedCommentIDs;var R=c.newCommentsPage;C=c.pagers;l=c.viewOption;w=t.getCommentsCount({depth:f,state:c})===0;e=Object.prototype.hasOwnProperty.call(R.visibleStates,Q)||u.some(function(a){return a.commentIDs.includes(Q)});if(e)return c;B=m[Q]!=null&&z!=null&&m[Q].client_id!=null&&z.has(m[Q].client_id);var S=!b("UFI2ViewOption").isChronologicalOrder(l)&&c.__type!=="DEPTH_0";k=c.repliesExpander!=null?babelHelpers["extends"]({},c.repliesExpander,{count:Math.min(c.repliesExpander.count+1,q)}):null;if(u.length===0){x=babelHelpers["extends"]({},R,{commentIDs:[Q].concat(R.commentIDs),visibleStates:babelHelpers["extends"]({},R.visibleStates,(d={},d[Q]=v||B||f!==0&&w&&y===0?"VISIBLE":"HIDDEN",d))});e=B?[Q].concat(o):o;if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",locallyComposedCommentIDs:e,newCommentsPage:x});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");z=a.args.minCountToShowCollapser;m=w&&y===0?!0:v;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:m,locallyComposedCommentIDs:e,newCommentsPage:x,repliesCollapser:h({count:x.commentIDs.length,expanded:v,minCountToShowCollapser:z}),repliesExpander:k,shouldComposerRenderWhenListIsExpanded:!0})}l=u[0];d=p(c);w=f===0&&t.hasMoreInDirection({depth:f,direction:"forward",state:c,totalCount:q})&&!c.commentPages.some(function(a){return a.state==="VISIBLE"});if(!w&&B){var T=!1,U=babelHelpers["extends"]({},R.visibleStates),ka=[],V=[];m=(S?[].concat(u).reverse():u).map(function(a){if(!T&&a.state==="VISIBLE"){T=!0;R.commentIDs.forEach(function(a){U[a]==="VISIBLE"&&!s(c)?(delete U[a],V.push(a)):ka.push(a)});return babelHelpers["extends"]({},a,{commentIDs:S?[].concat(a.commentIDs,V.reverse(),[Q]):[Q].concat(V,a.commentIDs)})}return T?babelHelpers["extends"]({},a,{afterCount:S?a.afterCount+1+V.length:a.afterCount,beforeCount:S?a.beforeCount:a.beforeCount+1+V.length}):a});e=babelHelpers["extends"]({},R,{commentIDs:ka,visibleStates:U});x=[Q].concat(o);if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:m,locallyComposedCommentIDs:x,newCommentsPage:e});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");z=a.args.minCountToShowCollapser;var W=t.getVisibleCommentsCount({depth:f,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:S?m.reverse():m,locallyComposedCommentIDs:x,newCommentsPage:e,repliesCollapser:h({count:W+1,expanded:v,minCountToShowCollapser:z}),repliesExpander:k,shouldComposerRenderWhenListIsExpanded:!0})}else if(w){x={commentPages:u.map(function(a,b){return b===0?babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1,hasPrevious:!0}):a}),locallyComposedCommentIDs:B?[Q].concat(o):o,newCommentsPage:babelHelpers["extends"]({},R,{commentIDs:[Q].concat(R.commentIDs),visibleStates:babelHelpers["extends"]({},R.visibleStates,(m={},m[Q]="VISIBLE",m))})};return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,x,{__type:"DEPTH_0"}):babelHelpers["extends"]({},c,x,{__type:"DEPTH_1"})}else if(d&&aa(c)){e=u.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})});z=babelHelpers["extends"]({},R,{commentIDs:[Q].concat(R.commentIDs),visibleStates:babelHelpers["extends"]({},R.visibleStates,(W={},W[Q]="VISIBLE",W))});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:e,newCommentsPage:z});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");w=a.args.minCountToShowCollapser;B=t.getVisibleCommentsCount({depth:f,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:e,newCommentsPage:z,repliesCollapser:h({count:B+1,expanded:v,minCountToShowCollapser:w}),repliesExpander:k,shouldComposerRenderWhenListIsExpanded:!0})}else if(d&&R.commentIDs.length===0){o=C.backward!=null?babelHelpers["extends"]({},C,{backward:babelHelpers["extends"]({},C.backward,{count:Math.min(C.backward.count+1,A)})}):C;m=l.commentIDs.length<A;if(m){x=[babelHelpers["extends"]({},l,{commentIDs:[Q].concat(l.commentIDs)})].concat(u.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:x,pagers:o}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:x,pagers:o,repliesExpander:k})}W=[{__type:"COMMENTS_PAGE",afterCount:l.afterCount+l.commentIDs.length,beforeCount:0,commentIDs:[Q],hasNext:!0,hasPrevious:!1,state:"HIDDEN"},babelHelpers["extends"]({},l,{beforeCount:1,hasPrevious:!0})].concat(u.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:W,pagers:o}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:W,pagers:o,repliesExpander:k})}else{f=q<=y;e=f?u:u.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1,hasPrevious:!0})});z=C.backward!=null?babelHelpers["extends"]({},C,{backward:babelHelpers["extends"]({},C.backward,{count:f?C.backward.count:Math.min(C.backward.count+1,A)})}):C;v=babelHelpers["extends"]({},R,{commentIDs:[Q].concat(R.commentIDs),visibleStates:babelHelpers["extends"]({},R.visibleStates,(B={},B[Q]="HIDDEN",B))});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:e,newCommentsPage:v,pagers:z}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:e,newCommentsPage:v,pagers:z,repliesExpander:k})}case"RECEIVE_REALTIME_COMMENT":var X=a.args.commentID;w=Object.prototype.hasOwnProperty.call(c.newCommentsPage.visibleStates,X)||c.commentPages.some(function(a){return a.commentIDs.includes(X)});d=s(c);if(!b("UFI2ViewOption").isChronologicalOrder(c.viewOption)&&!d){b("recoverableViolation")("Unable to receive realtime comment for non chronological ordering mode "+((m=c.viewOption)!=null?m:"(null ordering mode)"),"ufi2");return c}if(w)return c;x=c.commentsByID[X];if((c.viewOption==="SUB_REPLIES"||c.viewOption==="RANKED_SUB_REPLIES")&&c.__type==="DEPTH_1"&&((l=x==null?void 0:x.threading_depth)!=null?l:0)>1){W=babelHelpers["extends"]({},c.commentsByID);delete W[X];return babelHelpers["extends"]({},c,{commentsByID:W})}o=t.getCommentsCount({depth:a.args.depth,state:c})===0;q=r(c).length===0;y=!a.args.hideCommentInPager&&o&&c.__type==="DEPTH_1";u=q&&!c.expanded;f=a.args.hideCommentInPager||!c.expanded&&!y||!o&&!aa(c)||d&&!o&&!ca(c);A=!u&&f===!0&&!(q&&c.pagers.forward!=null)&&!d;C=!u&&f&&!A;var la=d;z={canViewerComment:c.canViewerComment,commentPages:c.commentPages.map(function(a){return la?babelHelpers["extends"]({},a,{afterCount:a.afterCount+1,hasNext:!0}):babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1,hasPrevious:!0})}),commentsByID:c.commentsByID,commentsHiddenByViewer:c.commentsHiddenByViewer,expanded:c.expanded||y,feedbackTargetID:c.feedbackTargetID,hasPaged:c.hasPaged,locallyComposedCommentIDs:c.locallyComposedCommentIDs,newCommentsPage:babelHelpers["extends"]({},c.newCommentsPage,{commentIDs:la?[].concat(c.newCommentsPage.commentIDs,[X]):[X].concat(c.newCommentsPage.commentIDs),visibleStates:babelHelpers["extends"]({},c.newCommentsPage.visibleStates,(B={},B[X]=f?"HIDDEN":"VISIBLE",B))}),pagers:f?{backward:A?{__type:"PAGER",count:((z=(e=c.pagers)==null?void 0:(v=e.backward)==null?void 0:v.count)!=null?z:0)+1,direction:"backward",status:{error:(w=(k=c.pagers)==null?void 0:(m=k.backward)==null?void 0:m.status.error)!=null?w:null,pending:(W=(x=c.pagers)==null?void 0:(l=x.backward)==null?void 0:l.status.pending)!=null?W:!1}}:c.pagers.backward,forward:C?{__type:"PAGER",count:((u=(o=c.pagers)==null?void 0:(q=o.forward)==null?void 0:q.count)!=null?u:0)+1,direction:"forward",status:{error:(B=(d=c.pagers)==null?void 0:(y=d.forward)==null?void 0:y.status.error)!=null?B:null,pending:(v=(A=c.pagers)==null?void 0:(e=A.forward)==null?void 0:e.status.pending)!=null?v:!1}}:c.pagers.forward}:c.pagers,shouldComposerRenderWhenListIsExpanded:c.shouldComposerRenderWhenListIsExpanded,topLevelFeedbackTargetID:c.topLevelFeedbackTargetID,viewOption:c.viewOption};if(c.__type==="DEPTH_1"){return babelHelpers["extends"]({},c,z,{repliesCollapser:h({count:t.getVisibleCommentsCount({depth:a.args.depth,state:c})+(f?0:1),expanded:c.expanded,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER}),repliesExpander:i({error:(w=(k=c.repliesExpander)==null?void 0:(m=k.status)==null?void 0:m.error)!=null?w:null,expanded:c.expanded,isLoading:(W=(x=c.repliesExpander)==null?void 0:(l=x.status)==null?void 0:l.pending)!=null?W:!1,totalCount:a.args.totalCount})})}return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,z):c;case"RECEIVE_REFETCH_LIST":C=a.args.depth;o=c.feedbackTargetID;q=c.topLevelFeedbackTargetID;u=c.viewOption;if(C!==0)throw b("unrecoverableViolation")("Expected depth to be 0 for RECEIVE_REFETCH_LIST","ufi2");if(!t.isListLoading({depth:C,state:c}))throw b("unrecoverableViolation")("Expected list to be loading","ufi2");d=n.getInitialState({args:babelHelpers["extends"]({},a.args,{depth:0,feedbackTargetID:o,initiallyExpanded:!0,topLevelFeedbackTargetID:q,viewOption:u}),state:null});if(d.__type!=="DEPTH_0")throw b("unrecoverableViolation")("Expected depth to be 0 for RECEIVE_REFETCH_LIST","ufi2");return babelHelpers["extends"]({},d,{__type:"DEPTH_0",expanded:c.expanded,status:{error:null,pending:!1}});case"REQUEST_COMMENTS_PAGE":y=a.args;B=y.depth;A=y.direction;e=y.pageSize;v=c.commentPages;f=c.expanded;k=c.newCommentsPage;m=c.pagers;if(!f)throw b("unrecoverableViolation")("Expected list to be expanded","ufi2");if(t.isPagerLoading({depth:B,direction:A,state:c}))throw b("unrecoverableViolation")("Cant request page if pager is loading","ufi2");if(B===0&&t.isListLoading({depth:B,state:c}))throw b("unrecoverableViolation")("Cant request page if list is loading","ufi2");if(B!==0&&t.isRepliesExpanderLoading({depth:B,state:c}))throw b("unrecoverableViolation")("Cant request page if replies expander is loading","ufi2");if(A==="backward"){w=v.findIndex(function(a){return a.state==="VISIBLE"});x=-1;l=p(c)&&da(c,"HIDDEN");if(w>-1){W=v[w];W.hasPrevious===!1&&b("FBLogger")("ufi2").mustfix("CometUFICommentList.updater(...): REQUEST_COMMENTS_PAGE - Can't request previous comments if there are no more comments available, feedbackID: %s",c.topLevelFeedbackTargetID);if(W.hasPrevious!==!0)throw b("unrecoverableViolation")("Can't request previous comments if there are no more comments available","ufi2");x=w-1}else w===-1&&v.length>0&&!l&&(x=0);z=v[x];if(z&&z.state==="HIDDEN"){C=[].concat(v);C[x]=babelHelpers["extends"]({},z,{state:"VISIBLE"});o=babelHelpers["extends"]({},m,{backward:g({count:z.beforeCount,direction:"backward",error:null,hasMore:z.hasPrevious,isLoading:!1,pageSize:e})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:C,hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:o,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");q=a.args.minCountToShowCollapser;u=t.getVisibleCommentsCount({depth:B,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:C,hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:o,repliesCollapser:h({count:u+z.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:q}),shouldComposerRenderWhenListIsExpanded:!0})}else if(l){var ma={};k.commentIDs.forEach(function(a){ma[a]="VISIBLE"});d=babelHelpers["extends"]({},k,{visibleStates:ma});y=babelHelpers["extends"]({},m,{backward:null});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),newCommentsPage:d,pagers:y,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");f=a.args.minCountToShowCollapser;A=t.getVisibleCommentsCount({depth:B,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),newCommentsPage:d,pagers:y,repliesCollapser:h({count:A+d.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:f}),shouldComposerRenderWhenListIsExpanded:!0})}else{W=babelHelpers["extends"]({},m,{backward:m.backward&&babelHelpers["extends"]({},m.backward,{status:{error:null,pending:!0}})});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:W}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:W})}}w=[].concat(v).reverse().findIndex(function(a){return a.state==="VISIBLE"});x=-1;if(w>-1){C=v.length-1-w;o=v[C];if(o.hasNext!==!0)throw b("unrecoverableViolation")("Can't request previous comments if there are no more comments available","ufi2");x=C+1}else w===-1&&v.length>0&&(x=v.length-1);u=v[x];if(u&&u.state==="HIDDEN"){z=[].concat(v);z[x]=babelHelpers["extends"]({},u,{state:"VISIBLE"});q=babelHelpers["extends"]({},m,{forward:g({count:u.afterCount,direction:"forward",error:null,hasMore:u.hasNext,isLoading:!1,pageSize:e})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:z,hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:q,shouldComposerRenderWhenListIsExpanded:!0});if(a.args.depth===0)throw b("unrecoverableViolation")("CometUFICommentList.updater(...): depth should be 1 or greater","ufi2");l=a.args.minCountToShowCollapser;y=t.getVisibleCommentsCount({depth:B,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:z,hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:q,repliesCollapser:h({count:y+u.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:l}),shouldComposerRenderWhenListIsExpanded:!0})}else if(s(c)&&ba(c)&&da(c,"HIDDEN")&&c.__type==="DEPTH_0"){var na={};k.commentIDs.forEach(function(a){na[a]="VISIBLE"});return babelHelpers["extends"]({},c,{hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),newCommentsPage:babelHelpers["extends"]({},k,{visibleStates:na}),pagers:babelHelpers["extends"]({},m,{forward:null}),shouldComposerRenderWhenListIsExpanded:!0})}else{A=babelHelpers["extends"]({},m,{forward:m.forward&&babelHelpers["extends"]({},m.forward,{status:{error:null,pending:!0}})});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:A}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:A})}case"REQUEST_REFETCH_LIST":d=a.args.depth;if(d!==0||c.__type!=="DEPTH_0")throw b("unrecoverableViolation")("Expected depth to be 0 for RECEIVE_REFETCH_LIST","ufi2");if(t.isListLoading({depth:d,state:c}))throw b("unrecoverableViolation")("Expected list to be loading","ufi2");return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[],expanded:!0,hasPaged:{backward:!1,forward:!1},locallyComposedCommentIDs:[],newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:{backward:null,forward:null},status:{error:null,pending:!0}});case"SET_CAN_VIEWER_COMMENT":f=a.args.canViewerComment;return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",canViewerComment:f}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",canViewerComment:f});case"SET_COMMENTS_BY_ID":W=a.args.commentsByID;return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsByID:W}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsByID:W});case"SET_SERVER_COMMENT_ID":o=a.args;var Y=o.clientCommentID,Z=o.serverCommentID;C=c.commentPages;w=c.locallyComposedCommentIDs;v=c.newCommentsPage;x=v.commentIDs.indexOf(Y);e=x!==-1;B=C.some(function(a){return a.commentIDs.some(function(a){return a===Y})});if(!e&&!B)return c;z=v.commentIDs.some(function(a){return a===Z});q=C.filter(function(a){return a.state==="HIDDEN"}).some(function(a){return a.commentIDs.some(function(a){return a===Z})});y=C.filter(function(a){return a.state==="VISIBLE"}).some(function(a){return a.commentIDs.some(function(a){return a===Z})});u=c;if(q){l=C.map(function(a){var b=a.commentIDs.indexOf(Z);if(b===-1)return a;else return babelHelpers["extends"]({},a,{commentIDs:[].concat(a.commentIDs.slice(0,b),a.commentIDs.slice(b+1))})});u.__type==="DEPTH_0"?u=babelHelpers["extends"]({},u,{__type:"DEPTH_0",commentPages:l}):u=babelHelpers["extends"]({},u,{__type:"DEPTH_1",commentPages:l})}if(z){k=w.filter(function(a){return a===Y});m=v.commentIDs.filter(function(a){return a!==Y});A=babelHelpers["extends"]({},v.visibleStates);delete A[Y];d=babelHelpers["extends"]({},v,{commentIDs:m,visibleStates:A});u.__type==="DEPTH_0"?u=babelHelpers["extends"]({},u,{__type:"DEPTH_0",locallyComposedCommentIDs:k,newCommentsPage:d}):u=babelHelpers["extends"]({},u,{__type:"DEPTH_1",locallyComposedCommentIDs:k,newCommentsPage:d})}if(e){f=babelHelpers["extends"]({},v.visibleStates);if(y||z){W=v.commentIDs.filter(function(a){return a!==Y});delete f[Y];o=babelHelpers["extends"]({},v,{commentIDs:W,visibleStates:f});u.__type==="DEPTH_0"?u=babelHelpers["extends"]({},u,{__type:"DEPTH_0",newCommentsPage:o}):u=babelHelpers["extends"]({},u,{__type:"DEPTH_1",newCommentsPage:o})}else{x=v.commentIDs.map(function(a){return a===Y?Z:a});f[Z]=f[Y];delete f[Y];q=babelHelpers["extends"]({},v,{commentIDs:x,visibleStates:f});u.__type==="DEPTH_0"?u=babelHelpers["extends"]({},u,{__type:"DEPTH_0",newCommentsPage:q}):u=babelHelpers["extends"]({},u,{__type:"DEPTH_1",newCommentsPage:q})}}if(B)if(y||z){l=C.map(function(a){var b=a.commentIDs.indexOf(Y);if(b===-1)return a;else return babelHelpers["extends"]({},a,{commentIDs:[].concat(a.commentIDs.slice(0,b),a.commentIDs.slice(b+1))})});u.__type==="DEPTH_0"?u=babelHelpers["extends"]({},u,{__type:"DEPTH_0",commentPages:l}):u=babelHelpers["extends"]({},u,{__type:"DEPTH_1",commentPages:l})}else{m=C.map(function(a){var b=a.commentIDs.indexOf(Y);if(b===-1)return a;else return babelHelpers["extends"]({},a,{commentIDs:[].concat(a.commentIDs.slice(0,b),[Z],a.commentIDs.slice(b+1))})});u.__type==="DEPTH_0"?u=babelHelpers["extends"]({},u,{__type:"DEPTH_0",commentPages:m}):u=babelHelpers["extends"]({},u,{__type:"DEPTH_1",commentPages:m})}A=w.map(function(a){return a===Y?Z:a});return u.__type==="DEPTH_0"?babelHelpers["extends"]({},u,{__type:"DEPTH_0",locallyComposedCommentIDs:A}):babelHelpers["extends"]({},u,{__type:"DEPTH_1",locallyComposedCommentIDs:A});case"UNHIDE_COMMENTS":k=a.args.commentIDs;d=c.commentsHiddenByViewer;var $=babelHelpers["extends"]({},d);k.forEach(function(a){delete $[a]});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:$}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:$});case"INITIAL_STATE":default:a.__type;throw b("unrecoverableViolation")("CometUFICommentListState: Invalid action type: "+a.__type,"ufi2")}}function m(a,c){try{var d=k(a,c);return d}catch(f){d=b("ErrorNormalizeUtils").normalizeError(f);d=d.message;var e=a.__type==="REQUEST_COMMENTS_PAGE"||a.__type==="RECEIVE_COMMENTS_PAGE"?a.args.direction:"Unknown";b("FBLogger")("ufi2").catching(f).addMetadata("UFI","COMMENTS_LIST_ACTION",a.__type).addMetadata("UFI","COMMENTS_LIST_DEPTH",""+a.args.depth).addMetadata("UFI","COMMENTS_LIST_DIRECTION",e).mustfix("CometUFICommentListState.updater(...): "+d);b("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&a.__type!=="SET_COMMENTS_BY_ID"&&console.groupEnd();if(!c)throw f;return c}}function a(a,b){return k(a,b)}function c(a,b){return k(a,b)}var n={collapseList:function(a){var b=a.args;a=a.state;return m({__type:"COLLAPSE_LIST",args:b},a)},deleteComment:function(a){var b=a.args;a=a.state;return m({__type:"DELETE_COMMENT",args:b},a)},expandHiddenComments:function(a){var b=a.args;a=a.state;return m({__type:"EXPAND_HIDDEN_COMMENTS",args:b},a)},expandList:function(a){var b=a.args;a=a.state;return m({__type:"EXPAND_LIST",args:b},a)},failCommentPagination:function(a){var b=a.args;a=a.state;return m({__type:"FAIL_COMMENT_PAGINATION",args:b},a)},getInitialState:function(a){var b=a.args;a=a.state;return m({__type:"INITIAL_STATE",args:b},a)},hideComments:function(a){var b=a.args;a=a.state;return m({__type:"HIDE_COMMENTS",args:b},a)},receiveCommentsPage:function(a){var b=a.args;a=a.state;return m({__type:"RECEIVE_COMMENTS_PAGE",args:b},a)},receiveNewComment:function(a){var b=a.args;a=a.state;return m({__type:"RECEIVE_NEW_COMMENT",args:b},a)},receiveRealtimeComment:function(a){var b=a.args;a=a.state;return m({__type:"RECEIVE_REALTIME_COMMENT",args:b},a)},receiveRefetchList:function(a){var b=a.args;a=a.state;return m({__type:"RECEIVE_REFETCH_LIST",args:b},a)},requestCommentsPage:function(a){var b=a.args;a=a.state;return m({__type:"REQUEST_COMMENTS_PAGE",args:b},a)},requestRefetchList:function(a){var b=a.args;a=a.state;return m({__type:"REQUEST_REFETCH_LIST",args:b},a)},setCanViewerComment:function(a){var b=a.args;a=a.state;return m({__type:"SET_CAN_VIEWER_COMMENT",args:b},a)},setCommentsByID:function(a){var b=a.args;a=a.state;return m({__type:"SET_COMMENTS_BY_ID",args:b},a)},setServerCommentID:function(a){var b=a.args;a=a.state;return m({__type:"SET_SERVER_COMMENT_ID",args:b},a)},unhideComments:function(a){var b=a.args;a=a.state;return m({__type:"UNHIDE_COMMENTS",args:b},a)}};f.StateUpdaters=n;function o(a){var b=a.direction;a=a.state;b=b==="forward"?[].concat(a.commentPages).reverse():a.commentPages;return b.find(function(a){return a.state==="VISIBLE"})}function p(a){var b=a.commentPages,c=a.newCommentsPage;b=b[0];if(!b)return c.commentIDs.length>0;return s(a)?b.beforeCount===0:b.beforeCount-c.commentIDs.length===0}function aa(a){var b=a.commentPages[0];b=(b==null||b.state==="VISIBLE")&&p(a);return b&&(s(a)||q(a,"VISIBLE"))}function ba(a){var b=a.commentPages,c=a.newCommentsPage;b=[].concat(b).reverse()[0];if(!b)return c.commentIDs.length>0;return s(a)?b.afterCount-c.commentIDs.length===0:b.afterCount===0}function ca(a){var b=a.commentPages;b=[].concat(b).reverse()[0];b=(b==null||b.state==="VISIBLE")&&ba(a);return b&&(!s(a)||q(a,"VISIBLE"))}function da(a,b){var c=a.newCommentsPage;return c.commentIDs.some(function(a){return c.visibleStates[a]===b})}function q(a,b){var c=a.newCommentsPage;return c.commentIDs.every(function(a){return c.visibleStates[a]===b})}function r(a){var c=a.__type,d=a.commentPages,e=a.newCommentsPage,f=a.viewOption;d=d.filter(function(a){return a.state==="VISIBLE"}).reduce(function(a,b){return a.concat(b.commentIDs)},[]);var g=e.commentIDs.filter(function(a){return e.visibleStates[a]==="VISIBLE"});if(s(a))return[].concat(d,g);return c==="DEPTH_1"&&!b("UFI2ViewOption").isChronologicalOrder(f)?[].concat(d,g.reverse()):[].concat(g,d)}function s(a){return a.__type==="DEPTH_0"&&a.viewOption==="MOST_VOTED"&&b("gkx")("1445059")}var t={canFetchInDirection:function(a){var b=a.depth,c=a.direction,d=a.state;a=a.totalCount;if(a===0)return!1;a=d.commentPages;var e=d.newCommentsPage,f=t.isPagerLoading({depth:b,direction:c,state:d});if(f)return!1;f=b===0&&t.isListLoading({depth:b,state:d});if(f)return!1;f=b!==0&&t.isRepliesExpanderLoading({depth:b,state:d});if(f)return!1;if(a.length===0&&c==="forward")return!0;else if(a.length===0&&c==="backward")return!1;f=a[0];a=a[a.length-1];b=t.getPagerCount({depth:b,direction:"backward",state:d});b=b===e.commentIDs.length&&q(d,"HIDDEN");return c==="backward"?f.state!=="HIDDEN"&&!b&&f.hasPrevious:a.state!=="HIDDEN"&&a.hasNext},getCommentsCount:function(a){a.depth;a=a.state;var b=a.commentPages;a=a.newCommentsPage;return a.commentIDs.concat(b.reduce(function(a,b){return a.concat(b.commentIDs)},[])).length},getCountForFetch:function(a){var c=a.depth,d=a.direction,e=a.pageSize;a=a.state;d=t.getPagerCount({depth:c,direction:d,state:a});if(d!=null)return d;if(c!==0){if(e==null)throw b("unrecoverableViolation")("CometUFICommentListState.getCountForFetch(...): Expected pageSize to compute fetch count for expanding replies","ufi2");d=t.getRepliesExpanderCount({depth:c,state:a});if(d!=null)return Math.min(d,e)}return null},getHiddenStateForComment:function(a){var b=a.commentID;a.depth;a=a.state;a=a.commentsHiddenByViewer;return a[b]||null},getPagerCount:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.count:null},getPagerError:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.status.error:null},getRepliesCollapserCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesCollapser;return b!=null?b.count:null},getRepliesExpanderCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.count:null},getRepliesExpanderError:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.status.error:null},getVisibleComments:function(a){a.depth;a=a.state;var c=a.commentsByID,d=a.locallyComposedCommentIDs,e=a.newCommentsPage,f=a.viewOption;a=r(a);var g=a.map(function(a){var d=c[a];if(!d){b("FBLogger")("ufi2").warn("CometUFICommentListState.getVisibleComments: Could not find comment locally: %s",a);return null}return d}).filter(Boolean);a.length>0&&g.length===0&&b("FBLogger")("ufi2").warn("CometUFICommentListState.getVisibleComments: Could not find ANY of the %s comments locally",a.length);return!d.length&&e.commentIDs.length>0&&b("UFI2ViewOption").isChronologicalOrder(f)?g.sort(function(a,b){return((b=b.created_time)!=null?b:0)-((b=a.created_time)!=null?b:0)}):g},getVisibleCommentsCount:function(a){a.depth;a=a.state;return r(a).length},getVisibleCommentsGroupedByCollapsedState:function(a){var b=a.depth,c=a.reverse,d=a.shouldCollapseComment;a=a.state;b=t.getVisibleComments({depth:b,state:a});a=c?b.slice().reverse():b;return a.reduce(function(a,b){var c=d(b)?"COLLAPSED":"VISIBLE";if(a.length===0)return[{comments:[b],state:c}];var e=a[a.length-1],f=e.comments[e.comments.length-1];if(!f)return a;f=e.state;if(f===c){e.comments.push(b);return a}return[].concat(a,[{comments:[b],state:c}])},[])},getVisibleCommentsWithHiddenCommentsCollapsed:function(a){var b=a.depth,c=a.reverse,d=a.state;return t.getVisibleCommentsGroupedByCollapsedState({depth:b,reverse:c,shouldCollapseComment:function(a){return t.getHiddenStateForComment({commentID:a.id,depth:b,state:d})==="COLLAPSED"},state:d})},hasLastPageLeftInDirection:function(a){a.depth;var b=a.direction,c=a.pageSize,d=a.state;a=a.totalCount;d=o({direction:b,state:d});if(!d)return b==="forward"?a<=c:!1;return b==="forward"?d.afterCount<=c:d.beforeCount<=c},hasMoreInDirection:function(a){a.depth;var b=a.direction,c=a.state;a=a.totalCount;c=o({direction:b,state:c});if(!c)return b==="forward"?a>0:!1;return b==="forward"?c.hasNext:c.hasPrevious},hasPagedInDirection:function(a){a.depth;var b=a.direction;a=a.state;a=a.hasPaged;return a[b]},hasVisibleComments:function(a){var b=a.depth;a=a.state;return t.getVisibleComments({depth:b,state:a}).length>0},isComposerVisible:function(a){a.depth;a=a.state;return a.canViewerComment&&a.expanded&&a.shouldComposerRenderWhenListIsExpanded},isListExpanded:function(a){a.depth;a=a.state;return a.expanded},isListLoading:function(a){var b=a.depth;a=a.state;return b!==0||a.__type!=="DEPTH_0"?!1:a.status.pending},isPagerLoading:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null?a.status.pending:!1},isPagerVisible:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null},isRepliesCollapserVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesCollapser;return b!=null},isRepliesExpanderLoading:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null?b.status.pending:!1},isRepliesExpanderVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null},pagerHasRealtimeComments:function(a){var b=a.direction;a=a.state;var c=Object.values(a.newCommentsPage.visibleStates).find(function(a){return a==="HIDDEN"})!=null;return b==="forward"?a.pagers.backward==null?c:!1:c}};f.Selectors=t}),null);
__d("CometUFICommentListGetDerivedStateFromProps",["CometUFICommentListState","CometUFICommentListStateConfig","UserActivity","gkx","nullthrows","recoverableViolation","UFI2UserActivityIdleTimeout"],(function(a,b,c,d,e,f){"use strict";f.getCanViewerComment=g;f.getDerivedStateFromProps=a;f.getInitialState=h;function g(a){var b=a.depth,c=a.feedback,d=a.topLevelCommentFeedback;a=a.topLevelFeedback;return b>1?(d==null?void 0:d.can_viewer_comment)===!0&&(a==null?void 0:a.can_viewer_comment)===!0:b===0?Boolean(c.can_viewer_comment):a!=null&&a.can_viewer_comment===!0&&c!=null&&c.can_viewer_comment===!0}function a(a,c){var d=c.listState;c=c.mirroredProps;if(c===a)return{listState:d,mirroredProps:c};var e=c.connectionGeneration,f=c.feedback,i=c.isRefetchingConnection,j=c.topLevelCommentFeedback,k=c.topLevelFeedback;c=c.totalCount;var l=a.commentIDs,m=a.commentsByID,n=a.connectionGeneration,o=a.connectionPageInfo,p=a.depth,q=a.feedback,r=a.hiddenCommentIDs,s=a.isRefetchingConnection,t=a.shouldRenderComposerPreemptively,u=a.topLevelCommentFeedback,v=a.topLevelFeedback,w=a.totalCount,x=a,y=o.afterCount,z=o.beforeCount,A=o.hasNext,B=o.hasPrevious;o=o.pageSize;var C=d;C=b("CometUFICommentListState").StateUpdaters.setCommentsByID({args:{commentsByID:m,depth:p},state:C});if(p===0&&b("CometUFICommentListState").Selectors.isListLoading({depth:p,state:C})){i=i===!0&&s===!1;i&&(C=b("CometUFICommentListState").StateUpdaters.receiveRefetchList({args:{afterCount:y,beforeCount:z,canViewerComment:g({depth:p,feedback:q,topLevelCommentFeedback:u,topLevelFeedback:v}),commentIDs:l,commentsByID:m,depth:p,hasNext:A,hasPrevious:B,hiddenCommentIDs:r,pageSize:o,shouldRenderComposerPreemptively:t,totalCount:w},state:C}));return{listState:C,mirroredProps:x}}if(n>e){C=h(x,d);return{listState:C,mirroredProps:x}}s=a.commentIDsUpdatedToServerIDs;i=a.newlyCreatedCommentIDs;y=a.newlyHiddenCommentIDs;z=a.newlyUnhiddenCommentIDs;l=a.removedCommentIDs;A=g({depth:p,feedback:f,topLevelCommentFeedback:j,topLevelFeedback:k});B=g({depth:p,feedback:q,topLevelCommentFeedback:u,topLevelFeedback:v});s.length>0&&s.forEach(function(a){var c=a.clientID;a=a.serverID;C=b("CometUFICommentListState").StateUpdaters.setServerCommentID({args:{clientCommentID:c,depth:p,serverCommentID:a},state:C})});A!==B&&(C=b("CometUFICommentListState").StateUpdaters.setCanViewerComment({args:{canViewerComment:B,depth:p},state:C}));y.length>0&&(C=b("CometUFICommentListState").StateUpdaters.hideComments({args:{commentIDs:y,depth:p},state:C}));z.length>0&&(C=b("CometUFICommentListState").StateUpdaters.unhideComments({args:{commentIDs:z,depth:p},state:C}));if(i.length>0){r=a.connectionPageInfo.pageSize;for(var o=i.length-1;o>=0;o--){t=i[o];if(b("gkx")("1290534")){n=m[t];if(n==null){b("recoverableViolation")("Unable to find comment for Comment ID "+t+', falling back to old "RECEIVE_NEW_COMMENT" implementation',"ufi2");continue}if(n.is_created_from_subscription===!0){C=b("CometUFICommentListState").StateUpdaters.receiveRealtimeComment({args:{commentID:t,depth:p,hideCommentInPager:!b("UserActivity").isActive(b("UFI2UserActivityIdleTimeout"))||!a.isUFIVisible.current,totalCount:w},state:C});continue}}p===0?C=b("CometUFICommentListState").StateUpdaters.receiveNewComment({args:{commentID:t,depth:p,pageSize:r,prevTotalCount:c,totalCount:w},state:C}):C=b("CometUFICommentListState").StateUpdaters.receiveNewComment({args:{commentID:t,depth:p,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:r,prevTotalCount:c,totalCount:w},state:C})}}else l.length>0&&l.forEach(function(a){p===0?C=b("CometUFICommentListState").StateUpdaters.deleteComment({args:{commentID:a,depth:p},state:C}):C=b("CometUFICommentListState").StateUpdaters.deleteComment({args:{commentID:a,depth:p,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER},state:C})});return{listState:C,mirroredProps:x}}function h(a,c){var d=a.commentIDs,e=a.commentsByID,f=a.connectionPageInfo,h=f.afterCount,i=f.beforeCount,j=f.hasNext,k=f.hasPrevious;f=f.pageSize;var l=a.depth,m=a.feedback,n=a.hiddenCommentIDs,o=a.isInitiallyExpanded,p=a.shouldRenderComposerPreemptively,q=a.topLevelCommentFeedback,r=a.topLevelFeedback,s=a.totalCount;a=a.viewOption;q=g({depth:l,feedback:m,topLevelCommentFeedback:q,topLevelFeedback:r});i={afterCount:h,beforeCount:i,canViewerComment:q,commentIDs:d,commentsByID:e,feedbackTargetID:b("nullthrows")(m.id),hasNext:j,hasPrevious:k,hiddenCommentIDs:n,initiallyExpanded:o,pageSize:f,shouldRenderComposerPreemptively:p,topLevelFeedbackTargetID:(h=r==null?void 0:r.id)!=null?h:b("nullthrows")(m.id),totalCount:s,viewOption:a};return l===0?b("CometUFICommentListState").StateUpdaters.getInitialState({args:babelHelpers["extends"]({},i,{depth:0}),state:(q=c)!=null?q:null}):b("CometUFICommentListState").StateUpdaters.getInitialState({args:babelHelpers["extends"]({},i,{depth:1,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER}),state:(d=c)!=null?d:null})}}),null);
__d("isUFI2ClientID",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.startsWith("client:")}e.exports=a}),null);
__d("CometUFICommentsProviderState",["FBLogger","gkx","isUFI2ClientID"],(function(a,b,c,d,e,f){"use strict";f.getBeforeCount=a;f.getClientCommentIDs=i;f.getCommentsFromEdges=j;f.getRemovedCommentIDs=k;f.getCommentIDsUpdatedToServerIDs=l;f.getNewlyCreatedCommentIDs=m;f.getHiddenCommentIDs=n;f.getNewlyHiddenCommentIDs=o;f.getNewlyUnhiddenCommentIDs=p;f.getDerivedStateFromProps=c;f.getInitialState=d;function g(a,b){if(b){var c=a==null?void 0:a.client_id;if(c!=null&&b.has(c))return!0}return a!=null&&(a.is_created_from_subscription===!0||a.optimistic_error!=null||a.optimistic_action!=null)}function h(a){return!a||a.spam_display_mode==null?!1:(a==null?void 0:a.spam_display_mode)!=="none"}function a(a){a=(a=a.feedback.display_comments)==null?void 0:a.before_count;return typeof a==="number"?a:null}function i(a){return a.filter(function(a){return b("isUFI2ClientID")(a)})}function j(a){var c={};a=a?a.map(function(a){if(!a){b("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getCommentsFromEdges(...): Received null edge from comments connection.");return null}a=a.node;if(!a){b("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getCommentsFromEdges(...): Received null comment from comments connection.");return null}if(a.id!=null){var d=a.id;c[d]=a;return d}else{b("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getCommentsFromEdges(...): Received comment with null id from comments connection.");return null}}).filter(Boolean):[];if(a.length>Object.keys(c).length){b("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getCommentsFromEdges(...): Received duplicate comments from comments connection");var d=new Set();return{commentIDs:a.filter(function(a){if(d.has(a))return!1;d.add(a);return!0}),commentsByID:c}}return{commentIDs:a,commentsByID:c}}function k(a,c){var d=Object.keys(a),e=Object.keys(c),f=d.length,g=e.length;if(g>=f)return[];e.every(function(b){return Object.prototype.hasOwnProperty.call(a,b)})||b("FBLogger")("ufi2").warn("CometUFICommentsProvider: Expected next comments to be a subset of previous comments when removing a comment");g=d.filter(function(a){return!Object.prototype.hasOwnProperty.call(c,a)});return g}function l(a,c,d,e){var f=[];d=a.filter(function(a){return!b("isUFI2ClientID")(a)});var g=function(){if(i){if(j>=h.length)return"break";a=h[j++]}else{j=h.next();if(j.done)return"break";a=j.value}var b=a,d=e[b],g=d&&d.client_id!=null?d.client_id:null;g!=null&&c.find(function(a){return a===g})&&f.push({clientID:g,serverID:b})};for(var h=d,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){d=g();if(d==="break")break}return f}function m(a,c,d,e){if(d.length<=c.length)return[];var f=a[d[0]];if(!f){b("FBLogger")("ufi2").warn("CometUFICommentsProviderState.getNewlyCreatedCommentIDs(...): Next most recent comment not found");return[]}f=c.filter(function(b){return g(a[b],e)});c=d.filter(function(b){return g(a[b],e)});d=c.length-f.length>0;if(!d)return[];if(f.length===0)return c;var h=new Set(f);return c.filter(function(a){return!h.has(a)})}function n(a,b){return b.filter(function(b){b=a[b];return b!=null&&h(b)})}function o(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&h(d)===!1&&h(c)===!0})}function p(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&h(d)===!0&&h(c)===!1})}function c(a,c){var d=a.depth,e=a.locallyComposedCommentIds,f=c.commentsByID,g=c.commentIDs;a=j(a.edges);var h=a.commentIDs;a=a.commentsByID;var q=g.length,r=c.clientCommentIDs,s=h.length,t=i(h),u=c.selectedViewOption;c=c.isRefetchingConnection;var v=n(a,h),w=o(f,a,h),x=p(f,a,h);r=l(h,r,t,a);var y=s>q;q=q>s;s=y?m(a,g,h,e):[];y=q&&!c;g=y?k(f,a):[];e={clientCommentIDs:t,commentIDs:h,commentIDsUpdatedToServerIDs:r,commentsByID:a,hiddenCommentIDs:v,isRefetchingConnection:c,newlyCreatedCommentIDs:s,newlyHiddenCommentIDs:w,newlyUnhiddenCommentIDs:x,removedCommentIDs:g,selectedViewOption:u};b("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&(console.groupCollapsed("%cUFI2 Relay Comments Connection Update at depth "+d+":",";background-color:#75DBCD;color:#1F2D3D;opacity:0.7;font-weight:bold;"),console.groupEnd());return e}function d(a){a=a.edges;a=j(a);var b=a.commentIDs;a=a.commentsByID;var c=i(b),d=n(a,b);return{clientCommentIDs:c,commentIDs:b,commentIDsUpdatedToServerIDs:[],commentsByID:a,hiddenCommentIDs:d,isRefetchingConnection:!1,newlyCreatedCommentIDs:[],newlyHiddenCommentIDs:[],newlyUnhiddenCommentIDs:[],removedCommentIDs:[],selectedViewOption:null}}}),null);
__d("UFI2RelayConnectionRenderer.react",["invariant","React","RelayRuntime","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/readContext","react-relay/RelayContext"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");var h=(c=b("RelayRuntime")).ConnectionInterface,i=c.createOperationDescriptor;d=c.deepFreeze;var j=c.getRequest,k=b("react-relay/RelayContext").assertRelayContext;f=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=!1;d.$2=!1;d.$6=function(a,b){if(!d.$7()||d.$1)return;d.$4("forward",a,b||{})};d.$8=function(a,b){if(!d.$9()||d.$2)return;d.$4("backward",a,b||{})};d.$7=function(){var a=d.props.connection;a=l(a);return a?a.hasNext:!1};d.$9=function(){var a=d.props.connection;a=l(a);return a?a.hasPrevious:!1};d.$5=function(a,b){a==="forward"?(d.$1=!0,d.forceUpdate(b)):a==="backward"&&(d.$2=!0,d.forceUpdate(b))};var e=k(b("react-relay/readContext")(b("react-relay/ReactRelayContext")));d.state={mirroredRelayContext:e,prevProps:c,queryFetchers:{backward:new(b("react-relay/ReactRelayQueryFetcher"))(),forward:new(b("react-relay/ReactRelayQueryFetcher"))()}};return d}c.getDerivedStateFromProps=function(a,c){var d=k(b("react-relay/readContext")(b("react-relay/ReactRelayContext")));if(c.prevProps.paginationQuery!==a.paginationQuery||c.mirroredRelayContext.environment!==d.environment){c=c.queryFetchers;return{mirroredRelayContext:d,prevProps:a,queryFetchers:babelHelpers["extends"]({},c)}}return null};var d=c.prototype;d.componentDidUpdate=function(a,b){this.state.queryFetchers!==b.queryFetchers&&(b.queryFetchers.backward.dispose(),b.queryFetchers.forward.dispose())};d.componentWillUnmount=function(){var a=this.state.queryFetchers;a.backward.dispose();a.forward.dispose()};d.shouldComponentUpdate=function(a,b){return!0};d.$3=function(a,b){a==="forward"?(this.$1=!1,this.forceUpdate(b)):a==="backward"&&(this.$2=!1,this.forceUpdate(b))};d.$4=function(a,b,c){var d=this,e=this.props,f=e.connection;e=e.paginationQuery;var h=this.state.queryFetchers;h=h[a];f=l(f);f||g(0,1775);b=m(a,b,f,c);if(b==null)return;var k=babelHelpers["extends"]({},b,{UFI2CommentsProvider_commentsKey:this.props.commentsKey});f=this.state.mirroredRelayContext.environment;var n=c.onLoaded;b=j(e);c=i(b,k);var o=!1;try{var p=h.fetch({environment:f,onDataChange:function(b){var c=b.error,e=b.snapshot;if(o)return;o=!0;d.$3(a,function(){n&&n({data:e==null?void 0:e.data,error:c,variables:k})})},operation:c});p?(o=!0,this.$3(a,function(){n&&n({data:p.data,variables:k})})):this.$5(a)}catch(a){n&&n({error:a,variables:k})}};d.render=function(){var a=this.props.connection;if(!a)return null;a=a.edges;a={edges:a,hasNext:this.$7(),hasPrevious:this.$9(),isLoadingNext:this.$1,isLoadingPrevious:this.$2,loadNext:this.$6,loadPrevious:this.$8};return this.props.children(a)};return c}(a.Component);function l(a){if(!a)return null;var b=h.get(),c=b.PAGE_INFO,d=b.HAS_NEXT_PAGE,e=b.HAS_PREV_PAGE,f=b.END_CURSOR;b=b.START_CURSOR;a=a[c];a||g(0,1776);return{backwardCursor:a[b],forwardCursor:a[f],hasNext:a[d],hasPrevious:a[e]}}function m(a,b,c,d){switch(a){case"backward":a=b;var e=c.backwardCursor;return typeof d.queryVariables==="function"?d.queryVariables({after:null,before:e,first:null,last:a}):babelHelpers["extends"]({},d.queryVariables,{after:null,before:e,first:null,last:a});case"forward":e=b;a=c.forwardCursor;return typeof d.queryVariables==="function"?d.queryVariables({after:a,before:null,first:e,last:null}):babelHelpers["extends"]({},d.queryVariables,{after:a,before:null,first:e,last:null});default:throw new Error("UFI2RelayConnectionRenderer: direction must be one of backward or forward")}}e.exports=f}),null);
__d("CometUFICommentsProvider.react",["requireDeferred","CometRelay","CometUFICommentsProviderState","FBLogger","React","RelayModern","RelayUFI2CommentsKeyContext","SiteData","UFI2Config","UFI2RealtimeContainer.react","UFI2RelayConnectionRenderer.react","gkx","qex","relay-runtime","setTimeout","unrecoverableViolation","CometUFICommentsProvider_displayCommentsMetadata.graphql","CometUFICommentsProvider_displayCommentsHighlightedComments.graphql","CometUFICommentsProviderPaginationQuery.graphql","CometUFICommentsProviderReadCommentsPageQuery.graphql","CometUFICommentsProvider_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j,k;b("CometRelay").graphql;var l=b("CometRelay").readInlineData;c=b("CometUFICommentsProviderState").getDerivedStateFromProps;var m=b("CometUFICommentsProviderState").getInitialState,n=b("requireDeferred")("CometUFICreateCommentSubscription"),o=b("React");d=b("RelayModern").createRefetchContainer;var p=b("SiteData").pr,q=b("relay-runtime").createOperationDescriptor,r=b("relay-runtime").getRequest,s=50,t=function(c){babelHelpers.inheritsLoose(a,c);function a(a){var d;d=c.call(this,a)||this;d.state=m({edges:d.props.edges,feedback:d.props.feedback});d.$1=!1;d.$2=function(a){var c=a.count,e=a.direction,f=a.onCommentsFetched,g=function(){var a=d.props,g=a.depth,h=a.displayCommentsContext,i=a.feedback,j=a.feedbackSource,k=a.feedLocation,l=a.focusCommentID,m=a.isLoadingNext,n=a.isLoadingPrevious,o=a.loadNext,q=a.loadPrevious,r=a.topLevelViewOption;a=a.useDefaultActor;var s=d.state.selectedViewOption;i=i.id;if(!i){b("FBLogger")("ufi2").mustfix("CometUFICommentsProvider: Cant fetch without a feedback id");return}if(e==="forward"&&m)return;if(e==="backward"&&n)return;m={displayCommentsContextEnableComment:h==null?void 0:h.enableComment,displayCommentsContextIsAdPreview:h==null?void 0:h.isAdPreview,displayCommentsContextIsAggregatedShare:h==null?void 0:h.isAggregatedShare,displayCommentsContextIsStorySet:h==null?void 0:h.isStorySet,displayCommentsFeedbackContext:h==null?void 0:h.feedbackContext,feedLocation:k,feedbackID:i,feedbackSource:j,focusCommentID:l,includeHighlightedComments:!1,includeNestedComments:g===0,isComet:!0,isInitialFetch:!1,isPaginating:!0,scale:p,topLevelViewOption:r,useDefaultActor:a,viewOption:s};if(e==="backward")q(c,{onLoaded:function(a){var b=a.error;a=a.variables;return d.$3({direction:e,error:b,onCommentsFetched:f,variables:a})},queryVariables:m});else if(e==="forward")o(c,{onLoaded:function(a){var b=a.error;a=a.variables;return d.$3({direction:e,error:b,onCommentsFetched:f,variables:a})},queryVariables:m});else throw b("unrecoverableViolation")("CometUFICommentsProvider: Invalid direction","ufi2")};if(b("qex")._("1624412")===!0){b("setTimeout")(function(){if(!d.$1)return;g()},(a=b("qex")._("1624413"))!=null?a:0)}else g()};d.$4=function(a){var c=d.state.commentsByID[a];if(c==null){b("FBLogger")("ufi2").warn("CometUFICommentsProvider: Could not find requested comment locally: %s",a);return null}return c};d.$6=function(a){var c=a.onComplete,e=a.queryVariables;a=d.props;var f=a.depth,g=a.displayCommentsContext,h=a.feedback,i=a.feedbackSource,j=a.feedLocation,k=a.focusCommentID,l=a.relay,m=a.topLevelViewOption,n=a.useDefaultActor,o=d.state.selectedViewOption,q=h.id;if(!q){b("FBLogger")("ufi2").mustfix("CometUFICommentsProvider: Cant refetch without a feedback id");return}d.setState({isRefetchingConnection:!0},function(){l.refetch(function(a){return babelHelpers["extends"]({},a,{displayCommentsContextEnableComment:g==null?void 0:g.enableComment,displayCommentsContextIsAdPreview:g==null?void 0:g.isAdPreview,displayCommentsContextIsAggregatedShare:g==null?void 0:g.isAggregatedShare,displayCommentsContextIsStorySet:g==null?void 0:g.isStorySet,displayCommentsFeedbackContext:g==null?void 0:g.feedbackContext,feedLocation:j,feedbackID:q,feedbackSource:i,focusCommentID:k,includeHighlightedComments:f>0&&((e==null?void 0:e.isPaginating)==null||(e==null?void 0:e.isPaginating)===!1),includeNestedComments:!0,isComet:!0,isInitialFetch:!1,scale:p,topLevelViewOption:m,useDefaultActor:n,viewOption:o},e)},null,function(a){return d.$5(a||null,c)})})};d.$7=function(a){var b=a.onComplete;a=a.viewOption;d.setState({selectedViewOption:a},function(){d.$6({onComplete:b,queryVariables:{isPaginating:!1}})})};d.$8=function(){var a=d.props,c=a.commentsKey,e=a.depth,f=a.feedback,g=a.feedbackSource,h=a.feedLocation,i=a.focusCommentID,j=a.onNext,k=a.relay,l=a.useDefaultActor;if(b("gkx")("1352852")&&(g===1||g===69))return null;var m=f.id,o=f.subscription_target_id;if(e===1||!m||!o)return null;var p=!1,q={dispose:function(){p=!0}};n.load().then(function(a){if(p)return;q.dispose=a.subscribe({commentsKey:c,environment:k.environment,feedLocation:h,feedbackSource:g,focusCommentID:i,isComet:!0,onNext:j,subscriptionTargetID:o,topLevelFeedbackTargetID:m,useDefaultActor:l}).dispose})["catch"](function(a){return b("FBLogger")("ufi2").catching(a).mustfix("Error subscribing to CometUFICreateCommentSubscription, this is probably because the arguments didn't line up with what we're expected or someone has been tinkering with its implementation")});return q};d.$1=!0;return d}var d=a.prototype;d.componentDidMount=function(){this.$1=!0};d.componentWillUnmount=function(){this.$1=!1};d.$3=function(a){var b=a.direction,c=a.error,d=a.onCommentsFetched;a=a.variables;if(c){d&&d({commentIDs:[],direction:b,error:c});return}c=this.props.relay.environment;var e=r(v);e=q(e,a);a=c.lookup(e.fragment).data;c=(a=a==null?void 0:(c=a.feedback)==null?void 0:(e=c.display_comments)==null?void 0:e.edges)!=null?a:[];e=c.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.id}).filter(Boolean);d&&d({commentIDs:e||[],direction:b,error:null})};d.$5=function(a,b){this.setState({isRefetchingConnection:!1},function(){b&&b(a)})};d.render=function(){var a,c,d,e=this.props,f=e.children,i=e.depth,j=e.feedback,k=e.hasNext,m=e.hasPrevious,n=e.isLoadingNext;e=e.isLoadingPrevious;var p=this.state,q=p.commentIDs,r=p.commentIDsUpdatedToServerIDs,t=p.commentsByID,u=p.hiddenCommentIDs,v=p.isRefetchingConnection,w=p.newlyCreatedCommentIDs,x=p.newlyHiddenCommentIDs,y=p.newlyUnhiddenCommentIDs,z=p.removedCommentIDs;p=p.selectedViewOption;var A=l(g!==void 0?g:g=b("CometUFICommentsProvider_displayCommentsMetadata.graphql"),j.display_comments);a=Math.ceil(((a=A==null?void 0:A.page_size)!=null?a:s)*(i>0?b("UFI2Config").legacyReplyFetchShortfallSimulationFactor:b("UFI2Config").legacyTopLevelFetchShortfallSimulationFactor));c=(c=A==null?void 0:A.ufi2_connection_generation)!=null?c:0;d={afterCount:(d=(d=j.display_comments)==null?void 0:d.after_count)!=null?d:0,beforeCount:(d=(d=j.display_comments)==null?void 0:d.before_count)!=null?d:0,hasNext:k,hasPrevious:m,pageSize:a};k=null;try{m=l(h!==void 0?h:h=b("CometUFICommentsProvider_displayCommentsHighlightedComments.graphql"),j.display_comments);k=(a=m==null?void 0:m.highlighted_comments)!=null?a:[]}catch(a){}var B={};((m=A==null?void 0:A.expanded_sub_reply_parents)!=null?m:[]).forEach(function(a){a=a==null?void 0:a.id;a!=null&&(B[a]=!0)});a=(A==null?void 0:A.is_initially_expanded)===!0;m=(j=(m=j.display_comments)==null?void 0:m.count)!=null?j:0;j=(A==null?void 0:A.comment_order)||p;p=(p=A==null?void 0:A.reply_comment_order)!=null?p:null;return o.jsx(b("UFI2RealtimeContainer.react"),{subscribe:this.$8,children:f({commentIDs:q,commentIDsUpdatedToServerIDs:r,commentsByID:t,connectionGeneration:c,connectionPageInfo:d,expandedSubReplyParents:B,fetchComments:this.$2,getComment:this.$4,hiddenCommentIDs:u,highlightedComments:k,isFetchingNextComments:n,isFetchingPreviousComments:e,isInitiallyExpanded:a,isRefetchingConnection:v,newlyCreatedCommentIDs:w,newlyHiddenCommentIDs:x,newlyUnhiddenCommentIDs:y,refetchConnection:this.$6,removedCommentIDs:z,replyViewOption:p,setViewOption:this.$7,shouldRenderComposerPreemptively:(f=A==null?void 0:A.should_render_composer_preemptively)!=null?f:i===0,totalCount:m,viewOption:j})})};return a}(o.PureComponent);t.displayName="CometUFICommentsProviderInternal";t.getDerivedStateFromProps=c;function a(a){var c=a.feedback.display_comments;if(!c){var d;return(d=a.fallback)!=null?d:null}return o.jsx(b("RelayUFI2CommentsKeyContext").Consumer,{children:function(d){if(d==null&&b("gkx")("1510195"))throw b("unrecoverableViolation")("CometUFICommentsProvider expected RelayUFI2CommentsKeyContext to be set","ufi2");return o.jsx(b("UFI2RelayConnectionRenderer.react"),{commentsKey:d,connection:c,paginationQuery:u,children:function(b){return o.jsx(t,babelHelpers["extends"]({commentsKey:d,depth:0},a,b))}})}})}var u=i!==void 0?i:i=b("CometUFICommentsProviderPaginationQuery.graphql"),v=j!==void 0?j:j=b("CometUFICommentsProviderReadCommentsPageQuery.graphql");e.exports=d(a,{feedback:k!==void 0?k:k=b("CometUFICommentsProvider_feedback.graphql")},u)}),null);
__d("CometUFIVisibilityContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext({current:!0});e.exports=c}),null);
__d("CometUFICommentList.react",["fbt","CometRelay","CometUFIActionsContext","CometUFICommentListGetDerivedStateFromProps","CometUFICommentListState","CometUFICommentListStateConfig","CometUFICommentsProvider.react","CometUFIVisibilityContext","FBLogger","JSTracing","React","SearchableEntry","SubscriptionsHandler","debounce","emptyFunction","gkx","qex","recoverableViolation","scrollIntoView","unrecoverableViolation","CometUFICommentList_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j={behavior:"smooth",verticalAlign:"center"};function k(a,b){return(a=a.comment_composer_placeholder)!=null?a:b>0?g._("Write a reply\u2026"):g._("Write a comment\u2026")}var l=function(c){babelHelpers.inheritsLoose(a,c);function a(a){var d;d=c.call(this,a)||this;d.state={listState:b("CometUFICommentListGetDerivedStateFromProps").getInitialState(d.props,void 0),mirroredProps:d.props};d.$2=null;d.$5=null;d.$6=null;d.$7=new Map();d.$4=new Map();d.$8={};d.$9=!1;d.$10=!1;d.$11=!1;d.$12=!1;d.$13={};d.$3=new(b("SubscriptionsHandler"))();d.$16=function(a,b){d.$4.set(a,b)};d.$17=function(){var a=d.props,c=a.depth,e=a.totalCount;d.$18(function(a){return b("CometUFICommentListState").StateUpdaters.collapseList({args:{depth:c,totalCount:e},state:a})})};d.$19=function(a){var c=a.focusComposer,e=a.preventFetch,f=a.scrollToComposer;a=d.props;var g=a.connectionPageInfo.pageSize,h=a.depth,i=a.fetchComments,j=a.refetchConnection,k=a.totalCount;a=d.state.listState;e!==!0&&b("CometUFICommentListState").Selectors.isListExpanded({depth:h,state:a})&&b("CometUFICommentListState").Selectors.getVisibleCommentsCount({depth:h,state:a})===0&&k>0&&(a.pagers.forward||a.pagers.backward)&&((e=b("qex")._("1568103"))!=null?e:!1)&&(a.pagers.forward?d.$20:d.$21)({onCommentsRendered:function(){return d.$19({focusComposer:c,preventFetch:!0,scrollToComposer:f})}});c&&(d.$9=!0);f===!0&&(d.$10=!0);d.$14();var l=!1;d.$18(function(a){var c=h===0&&b("CometUFICommentListState").Selectors.isListLoading({depth:h,state:a})||h!==0&&b("CometUFICommentListState").Selectors.isRepliesExpanderLoading({depth:h,state:a});if(c)return null;c=h===0?b("CometUFICommentListState").StateUpdaters.expandList({args:{depth:h,totalCount:k},state:a}):b("CometUFICommentListState").StateUpdaters.expandList({args:{depth:h,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,totalCount:k},state:a});if(h===0){a=b("CometUFICommentListState").Selectors.isListLoading({depth:h,state:c});l=a;return c}a=b("CometUFICommentListState").Selectors.isRepliesExpanderLoading({depth:h,state:c});l=a;return c},function(a){if(!l)return;if(h===0){j({});return}a=b("CometUFICommentListState").Selectors.getCountForFetch({depth:h,direction:"forward",pageSize:g,state:a});if(a==null)return;i({count:a,direction:"forward",onCommentsFetched:d.$22})})};d.$23=function(a){var c=d.props.depth;d.$18(function(d){return b("CometUFICommentListState").StateUpdaters.expandHiddenComments({args:{commentIDs:a,depth:c},state:d})})};d.$24=function(a){var c=d.props,e=c.connectionPageInfo.pageSize,f=c.depth,g=c.fetchComments;c=c.totalCount;var h=d.state.listState;if(!b("CometUFICommentListState").Selectors.canFetchInDirection({depth:f,direction:a,state:h,totalCount:c}))return;c=b("CometUFICommentListState").Selectors.getCountForFetch({depth:f,direction:a,pageSize:e,state:h});if(c==null)return;g({count:c,direction:a,onCommentsFetched:d.$22})};d.$25=function(){var a=d.props,c=a.depth,e=a.feedback,f=a.feedbackSource,g=a.feedLocation,h=a.focusCommentID;a=a.useDefaultActor;if(e.id==null)throw b("unrecoverableViolation")("CometUFICommentList: Expected feedback to have an id","ufi2");return{feedLocation:g,feedback:e,feedbackSource:f,feedbackTargetID:e.id,focusCommentID:h,placeholder:k(e,c),useDefaultActor:a}};d.$26=function(a){var c=d.props,e=c.depth,f=c.feedback,g=c.feedbackSource,h=c.topLevelFeedback;c=c.useDefaultActor;h=h==null?void 0:h.id;e={comment:a,depth:e,feedback:f,feedbackSource:g,isFreshIndicatorAlignedAtStart:((a=f.threading_config)==null?void 0:a.__typename)==="FullThreadingFeedbackConfig"||b("gkx")("1431404"),onReplyToComment:d.handleReplyToComment,useDefaultActor:c};return h==null?e:babelHelpers["extends"]({},e,{topLevelFeedbackID:h})};d.$28=function(){var a=d.props,b=a.commentParent,c=a.depth,e=a.feedback,f=a.feedbackSource,g=a.feedLocation,h=a.focusCommentID,i=a.topLevelFeedback;a=a.useDefaultActor;i=i==null?void 0:i.id;b={ariaDescribedBy:"",ariaLabel:d.$27(),commentParent:b,componentRef:c===0?d.$29:d.$30,feedLocation:g,feedback:e,feedbackSource:f,focusCommentID:h,onFocus:d.$31,placeholder:k(e,c),useDefaultActor:a};return i==null?b:babelHelpers["extends"]({},b,{topLevelFeedbackID:i})};d.$33=function(){return d.$32("forward")};d.$34=function(){return d.$32("backward")};d.$35=function(){var a=d.props,c=a.depth,e=a.environment;a=a.totalCount;var f=d.state.listState;return{Selectors:b("CometUFICommentListState").Selectors,depth:c,environment:e,expandHiddenComments:d.$23,listState:f,totalCount:a}};d.$36=function(a){var c=d.props,e=c.depth,f=c.displayCommentsContext,g=c.feedback,h=c.feedbackSource,i=c.feedLocation,j=c.focusCommentID,k=c.getComment,l=c.locallyComposedCommentIds,m=c.topLevelCommentFeedback,n=c.topLevelFeedback,o=c.useDefaultActor;c=c.viewOption;var p=k(a);k=p&&p.feedback;var q=function(b){d.$8[a]=b,d.$37()},r=function(b){d.$13[a]=b};if(k==null)throw b("unrecoverableViolation")("CometUFICommentList: Expected comment to have a `feedback` in order to render a replies list.","ufi2");m=e===0?k:m;if(m==null)throw b("unrecoverableViolation")("CometUFICommentList: Expected nested list to have been provided a toplevel comment feedback.","ufi2");g=e===0?g:n;if(g==null)throw b("unrecoverableViolation")("CometUFICommentList: Expected nested list to have been provided a toplevel feedback.","ufi2");return{commentParent:p,depth:e+1,displayCommentsContext:f,feedLocation:i,feedback:k,feedbackSource:h,focusCommentID:j,listRef:q,locallyComposedCommentIds:l,onListRendered:function(a){var b=p!=null?d.$4.get(p.id):null;b&&b(a)},subRepliesExpanderRef:r,topLevelCommentFeedback:m,topLevelFeedback:g,topLevelViewOption:c,useDefaultActor:o}};d.$41=function(){return d.$38("forward")};d.$42=function(){return d.$38("backward")};d.$43=function(){var a=d.props,c=a.connectionPageInfo.pageSize,e=a.depth,f=a.environment;a=a.totalCount;var g=d.state.listState;return{Selectors:b("CometUFICommentListState").Selectors,depth:e,environment:f,listState:g,pageSize:c,totalCount:a}};d.$44=function(){var a=d.props,c=a.depth,e=a.environment;a=a.totalCount;var f=d.state.listState;if(c===0)throw b("unrecoverableViolation")("CometUFICommentList: Expected a replies list to get replies collapser props","ufi2");return{Selectors:b("CometUFICommentListState").Selectors,collapseList:d.$17,depth:c,environment:e,listState:f,totalCount:a}};d.$45=function(){var a=d.props,c=a.depth,e=a.environment,f=a.highlightedComments,g=a.totalCount;a=a.viewOption;var h=d.state.listState;if(c===0)throw b("unrecoverableViolation")("CometUFICommentList: Expected a replies list to get replies expander props","ufi2");return{Selectors:b("CometUFICommentListState").Selectors,depth:c,environment:e,expandList:d.$19,highlightedComments:f,listState:h,onMouseEnter:function(){return d.$39("forward")},totalCount:g,viewOption:a}};d.$46=function(a){var b=d.props.expandedSubReplyParents;return b[a]===!0};d.$22=function(a){var c=a.commentIDs,e=a.direction,f=a.error;if(f){d.$18(function(a){return b("CometUFICommentListState").StateUpdaters.failCommentPagination({args:{depth:d.props.depth,direction:e,error:f},state:a})});return}a=d.props;var g=a.connectionPageInfo,h=a.depth,i=a.feedback,j=a.hiddenCommentIDs,k=a.locallyComposedCommentIds,l=a.totalCount,m=g.afterCount,n=g.beforeCount,o=g.hasNext,p=g.hasPrevious,q=g.pageSize,r=i.id;if(r==null)throw b("unrecoverableViolation")("CometUFICommentList: Expected feedback to have an id","ufi2");var s=!1;d.$18(function(a){s=!0;if(h===0)if(e==="backward")return b("CometUFICommentListState").StateUpdaters.receiveCommentsPage({args:{beforeCount:n,commentIDs:c,depth:h,direction:e,feedbackTargetID:r,hasPrevious:p,hiddenCommentIDs:j,locallyComposedCommentIds:k,pageSize:q,totalCount:l},state:a});else return b("CometUFICommentListState").StateUpdaters.receiveCommentsPage({args:{afterCount:m,commentIDs:c,depth:h,direction:e,feedbackTargetID:r,hasNext:o,hiddenCommentIDs:j,locallyComposedCommentIds:k,pageSize:q,totalCount:l},state:a});else if(e==="backward")return b("CometUFICommentListState").StateUpdaters.receiveCommentsPage({args:{beforeCount:n,commentIDs:c,depth:h,direction:e,feedbackTargetID:r,hasPrevious:p,hiddenCommentIDs:j,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:q,totalCount:l},state:a});else return b("CometUFICommentListState").StateUpdaters.receiveCommentsPage({args:{afterCount:m,commentIDs:c,depth:h,direction:e,feedbackTargetID:r,hasNext:o,hiddenCommentIDs:j,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:q,totalCount:l},state:a})},function(a){s&&d.$47(e)})};d.$48=function(a){var c,d=function(){if(c==null){var d,e;d=(d=b("qex")._("1496343"))!=null?d:!0;e=(e=b("qex")._("1496344"))!=null?e:1e3;c=b("debounce")(d?function(){a.$24("forward")}:b("emptyFunction"),e,a,!0);a.$3.addSubscriptions(c)}c()};d.reset=function(){c&&c.reset()};return d}(babelHelpers.assertThisInitialized(d));d.$49=function(){d.$48.reset()};d.$31=function(){var a=d.props.depth,c=d.state.listState;b("CometUFICommentListState").Selectors.getVisibleCommentsCount({depth:a,state:c})===0&&(c.pagers.forward||c.pagers.backward)&&((a=b("qex")._("1568104"))!=null?a:!1)&&(c.pagers.forward?d.$20:d.$21)({onCommentsRendered:function(){d.$9=!0,d.$10=!0,d.$14()}})};d.$29=function(a){d.$5=a,d.$14()};d.$30=function(a){var b;(((b=d.props.commentParent)==null?void 0:b.legacy_fbid)===d.props.focusCommentID||d.props.commentIDs.some(function(a){a=d.props.getComment(a);return(a==null?void 0:a.legacy_fbid)===d.props.focusCommentID}))&&(d.$9=!0);d.$29(a);if(a&&d.$6){b=d.$6;d.$6=null;d.$50(b,a)}a&&d.$12&&(d.$51(d.$1),d.$1=void 0,d.$12=!1);a&&d.$11&&(d.$52(),d.$11=!1)};d.$39=function(a){var c,e=function(e){if(c==null){var f,g;f=(f=b("qex")._("1496345"))!=null?f:!0;g=(g=b("qex")._("1496346"))!=null?g:0;c=b("debounce")(f?d.$24:b("emptyFunction"),g,a,!0);a.$3.addSubscriptions(c)}c(e)};e.reset=function(){c&&c.reset()};return e}(babelHelpers.assertThisInitialized(d));d.handleReplyToComment=function(a){var c=d.props,e=c.depth,f=c.feedback,g=c.topLevelCommentFeedback;c=c.topLevelFeedback;if(b("CometUFICommentListGetDerivedStateFromProps").getCanViewerComment({depth:e,feedback:f,topLevelCommentFeedback:g,topLevelFeedback:c})===!1)return;var h=a.authorId,i=a.authorIsWeakReference,j=a.authorName,k=a.authorType,l=a.commentComposerPlaceholderText,m=a.commentId;if(e>=1){var n=d.$8[m];if(n!=null){n.handleReplyToComment(a);return}n=d.$13[m];if(n!=null){n.handleReplyToComment(a);return}}if(e!==0){d.$6=null;if(h!==((n=f.viewer_actor)==null?void 0:n.id)){a=d.$5;n={authorId:h,authorIsWeakReference:i,authorName:j,authorType:k};a?d.$50(n,a):d.$6=n}}if(e===0){h=d.$8[m];h!=null&&(h.$51(void 0),h.$52())}else d.$51({commentComposerPlaceholderText:l,id:m}),d.$52();if(e===0&&((i=f.threading_config)==null?void 0:i.__typename)==="NoThreadingFeedbackConfig"){d.$9=!0;d.$10=!0;d.$14();return}j=b("CometUFICommentListGetDerivedStateFromProps").getCanViewerComment({depth:e,feedback:f,topLevelCommentFeedback:g,topLevelFeedback:c});k=d.$8[m]!=null;if(k){a=e>1?(g==null?void 0:g.can_viewer_comment)===!0:f.can_viewer_comment===!0;if(a){n=m;d.$53.push({commentID:n,scrollToComposer:j});d.$37()}else{h=d.$5;h&&h.focus()}}else d.$19({focusComposer:j,scrollToComposer:j})};d.$54=function(a){a=d.$8[a.id];return a!=null?b("CometUFICommentListState").Selectors.isComposerVisible({depth:a.props.depth,state:a.state.listState}):!1};d.$55=function(a){a=d.$8[a.id];return a!=null?a.props.totalCount:0};d.$53=[];d.$20=function(a){a=a?a.onCommentsRendered:void 0;d.$56("forward",a)};d.$21=function(a){a=a?a.onCommentsRendered:void 0;d.$56("backward",a)};d.$57=function(a){var c=a.onComplete,e=a.viewOption;a=d.props;var f=a.depth,g=a.setViewOption;if(f!==0){c&&c(null);return}var h=!1;d.$18(function(a){if(b("CometUFICommentListState").Selectors.isListLoading({depth:f,state:a}))return null;h=!0;return b("CometUFICommentListState").StateUpdaters.requestRefetchList({args:{depth:f},state:a})},function(a){h?g({onComplete:c,viewOption:e}):c&&c(null)})};d.$58=function(a){a=a.focusComposer;var c=d.props,e=c.depth;c=c.totalCount;var f=d.state.listState;!b("CometUFICommentListState").Selectors.isListExpanded({depth:e,state:f})?d.$19({focusComposer:a,scrollToComposer:!1}):c>0&&b("CometUFICommentListState").Selectors.getVisibleCommentsCount({depth:0,state:f})===0?f.pagers.forward?d.$20():f.pagers.backward&&d.$21():d.$17()};d.Actions={collapseList:d.$17,expandList:d.$19,loadNewerComments:d.$21,loadOlderComments:d.$20,setViewOption:d.$57,toggleList:d.$58};a=d.props.feedback.id;var e=d.props.feedLocation;if(a!=null)d.$2=d.props.ufiActionsContext.registerUFIActions(a,{expandList:d.Actions.expandList});else{b("recoverableViolation")("CometUFICommentList: Feedback target ID is null in feed location: "+((a=e)!=null?a:"unknown")+". UFI actions cannot be registered.","ufi2")}return d}var d=a.prototype;d.componentWillUnmount=function(){this.$3.release(),this.$4.clear(),this.$2!=null&&this.$2.dispose()};d.$14=function(){var a=this.$9,c=this.$10;if(!a){this.$9=!1;this.$10=!1;return}else{a=this.props.depth;var d=this.state.listState;d=a===0&&!b("CometUFICommentListState").Selectors.isListLoading({depth:a,state:d});a=a!==0;var e=this.$5;if(e!=null&&(d||a)){this.$9=!1;this.$10=!1;d=e.getElementToScrollTo();if(c!==!0){e.focus();return}if(d==null)return;if(d instanceof Text){b("FBLogger")("ufi2").mustfix("The composer is a Text node! I don't know what happened but this is UNACCEPTABLE, we found this out because we were trying to scroll to this component. You can look into and possibly fix this issue by asserting the composerRef on CometUFICommentList is being set correctly");e.focus();return}b("scrollIntoView")(d,babelHelpers["extends"]({},j,{onScrollComplete:function(){return e.focus()}}))}}};d.$15=function(a,b){var c=this.$7.get(a)||[];c.push(b);this.$7.set(a,c)};d.$27=function(){var a;a=(a=this.props.commentParent)==null?void 0:(a=a.author)==null?void 0:a.name;return typeof a==="string"?g._("Reply to {parent-name}",[g._param("parent-name",a)]):g._("Comment on post")};d.$32=function(a){var c=this.props,d=c.depth,e=c.environment,f=c.feedback,g=c.totalCount;c=c.viewOption;var h=this.state.listState;return{Selectors:b("CometUFICommentListState").Selectors,depth:d,direction:a,environment:e,listState:h,totalCount:g,unfilteredTotalCount:(a=(d=f.toplevel_comment_count)==null?void 0:d.count)!=null?a:g,viewOption:c}};d.$38=function(a){var c=this,d=this.props,e=d.connectionPageInfo.pageSize,f=d.depth,g=d.feedback,h=d.totalCount;d=d.viewOption;var i=this.state.listState,j=a==="forward"?this.$20:this.$21;return{Selectors:b("CometUFICommentListState").Selectors,depth:f,direction:a,isFreshIndicatorAlignedAtStart:((f=g.threading_config)==null?void 0:f.__typename)==="FullThreadingFeedbackConfig"||b("gkx")("1431404"),listState:i,loadMoreComments:j,onMouseEnter:function(){return c.$39(a)},onMouseLeave:function(){return c.$40()},pageSize:e,summaryTotalNumComments:(i=(f=g.comment_count)==null?void 0:f.total_count)!=null?i:0,totalCount:h,viewOption:d}};d.$40=function(){this.$39.reset()};d.$51=function(a){var b=this.$5;b!=null?b.execCommand({__type:"SetReplyAssociation",commentAssociatedWithReply:a}):(this.$1=a,this.$12=!0)};d.$52=function(){var a=this.$5;a!=null?a.execCommand({__type:"SetReplyClicked"}):this.$11=!0};d.$37=function(){var a=this;this.$53=this.$53.filter(function(b){var c=b.commentID;b=b.scrollToComposer;c=a.$8[c];if(c!=null){c.$19({focusComposer:!0,scrollToComposer:b});return!1}return!0})};d.$56=function(a,c){var d=this,e=b("JSTracing").wrap((c=c)!=null?c:function(){},"CometUFICommentList:_loadComments");c=this.props;var f=c.connectionPageInfo.pageSize,g=c.depth,h=c.fetchComments,i=!1;this.$18(function(c){var d=b("CometUFICommentListState").Selectors.isPagerLoading({depth:g,direction:a,state:c})||g===0&&b("CometUFICommentListState").Selectors.isListLoading({depth:g,state:c})||g!==0&&b("CometUFICommentListState").Selectors.isRepliesExpanderLoading({depth:g,state:c});if(d)return null;d=g===0?b("CometUFICommentListState").StateUpdaters.requestCommentsPage({args:{depth:0,direction:a,pageSize:f},state:c}):b("CometUFICommentListState").StateUpdaters.requestCommentsPage({args:{depth:g,direction:a,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:f},state:c});i=b("CometUFICommentListState").Selectors.isPagerLoading({depth:g,direction:a,state:d});return d},function(c){if(!i){e&&e();return}c=b("CometUFICommentListState").Selectors.getCountForFetch({depth:g,direction:a,pageSize:f,state:c});if(c==null)return;e!=null&&d.$15(a,e);h({count:c,direction:a,onCommentsFetched:d.$22})})};d.$50=function(a,c){var d=a.authorId,e=a.authorIsWeakReference,f=a.authorName;a=a.authorType;c.execCommand({__type:"PrefillMention",mentionableEntity:new(b("SearchableEntry"))({auxiliaryData:{authorativePerson:void 0,connectedPage:void 0,disableAutosuggest:void 0,indexRank:void 0,renderType:e?"non_member":"member",verified:void 0,workForeignEntity:void 0,workUser:void 0},title:f,type:a==="User"?"user":"non_user",uniqueID:d})})};d.$47=function(a){var b=this.$7.get(a)||[];for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e()}this.$7["delete"](a)};d.$18=function(a,b){var c=this;this.setState(function(b){b=a(b.listState);return!b?null:{listState:b}},function(){return b&&b(c.state.listState)})};d.render=function(){var a=this.props,c=a.children,d=a.commentParent,e=a.depth,f=a.environment,g=a.getComment,h=a.isInitiallyExpanded,i=a.onListRendered,j=a.replyViewOption,k=a.totalCount;a=a.viewOption;var l=this.state.listState;f={Actions:this.Actions,Selectors:b("CometUFICommentListState").Selectors,addRepliesListRenderedCallback:this.$16,environment:f,getComment:g,getCommentEditorProps:this.$25,getCommentProps:this.$26,getComposerProps:this.$28,getFilterWarningPropsForNewerComments:this.$34,getFilterWarningPropsForOlderComments:this.$33,getHiddenCommentsPlaceholderProps:this.$35,getNestedCommentsListProps:this.$36,getPagerPropsForNewerComments:this.$42,getPagerPropsForOlderComments:this.$41,getPaginationProgressProps:this.$43,getTotalRepliesCountForComment:this.$55,isInitiallyExpanded:h,isReplyComposerVisibleForComment:this.$54,listState:l,onCommentsListMouseEnter:this.$48,onCommentsListMouseLeave:this.$49,replyViewOption:j,totalCount:k,viewOption:a};g=e===0?babelHelpers["extends"]({},f,{depth:0}):babelHelpers["extends"]({},f,{commentParent:d,depth:e,getRepliesCollapserProps:this.$44,getRepliesExpanderProps:this.$45,getShouldInitiallyExpandSubRepliesForComment:this.$46});i&&i({composerVisible:b("CometUFICommentListState").Selectors.isComposerVisible({depth:e,state:l}),totalCount:k});return c(g)};return a}(i.PureComponent);l.displayName="CometUFICommentListInternal";l.getDerivedStateFromProps=b("CometUFICommentListGetDerivedStateFromProps").getDerivedStateFromProps;function a(a){var c=a.children,d=a.commentParent,e=a.depth,f=e===void 0?0:e,g=a.displayCommentsContext;e=a.fallback;var j=a.feedback,k=a.feedbackSource,m=a.feedLocation,n=a.focusCommentID,o=a.listRef,p=a.locallyComposedCommentIds,q=a.onListRendered;a.subRepliesExpanderRef;var r=a.topLevelCommentFeedback,s=a.topLevelFeedback,t=a.topLevelViewOption,u=a.useDefaultActor;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","commentParent","depth","displayCommentsContext","fallback","feedback","feedbackSource","feedLocation","focusCommentID","listRef","locallyComposedCommentIds","onListRendered","subRepliesExpanderRef","topLevelCommentFeedback","topLevelFeedback","topLevelViewOption","useDefaultActor"]);var v=b("CometRelay").useRelayEnvironment(),w=i.useContext(b("CometUFIVisibilityContext")),x=i.useContext(b("CometUFIActionsContext").CometUFIActionsContext),y=b("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentList_feedback.graphql"),j);if(f>0&&s==null){b("recoverableViolation")("CometUFICommentList: topLevelFeedback is required to render a replies list","ufi2");return null}if(f>1&&r==null){b("recoverableViolation")("CometUFICommentList: topLevelCommentFeedback is required to render a sub replies list","ufi2");return null}return i.jsx(b("CometUFICommentsProvider.react"),babelHelpers["extends"]({depth:f,displayCommentsContext:g,fallback:e,feedLocation:m,feedback:y,feedbackSource:k,focusCommentID:n,locallyComposedCommentIds:p,topLevelFeedback:s,topLevelViewOption:t,useDefaultActor:u},a,{children:function(a){return i.createElement(l,babelHelpers["extends"]({},a,{children:c,commentParent:d,depth:f,displayCommentsContext:g,environment:v,feedLocation:m,feedback:y,feedbackSource:k,focusCommentID:n,isUFIVisible:w,key:[k,n,(a=y.id)!=null?a:""].join("_"),locallyComposedCommentIds:p,onListRendered:q,ref:o,topLevelCommentFeedback:r,topLevelFeedback:s,ufiActionsContext:x,useDefaultActor:u}))}}))}}),null);
__d("CometUFICommentEditHistoryDialogQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4318401408200372",metadata:{relayPreloadable:!0},name:"CometUFICommentEditHistoryDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFICommentMenuButton_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"feedLocation"},{defaultValue:null,kind:"LocalArgument",name:"translationType"}],kind:"Fragment",metadata:null,name:"CometUFICommentMenuButton_comment",selections:[{alias:null,args:[{kind:"Variable",name:"feed_location",variableName:"feedLocation"}],kind:"ScalarField",name:"should_show_comment_menu",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null}]}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentMenuQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"3151316501654247",metadata:{relayPreloadable:!0},name:"CometUFICommentMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFICommentRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},b={defaultValue:null,kind:"LocalArgument",name:"id"},c={defaultValue:null,kind:"LocalArgument",name:"isComet"},d={defaultValue:null,kind:"LocalArgument",name:"scale"},e={defaultValue:"ORIGINAL",kind:"LocalArgument",name:"translationType"},f={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},g=[{kind:"Variable",name:"id",variableName:"id"}],h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},j={kind:"Variable",name:"feed_location",variableName:"feedLocation"},k=[j],l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={kind:"Variable",name:"scale",variableName:"scale"},n={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},o=[n],p={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},q={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},v=[i],w={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},x=[w],y=[h,i],z={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null};w={alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},w],kind:"ScalarField",name:"can_viewer_comment",storageKey:null};var B=[{kind:"Variable",name:"translation_type",variableName:"translationType"}],C={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},E={kind:"InlineFragment",selections:v,type:"Node",abstractKey:"__isNode"},F={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},H={kind:"Literal",name:"is_comet",value:!0},I=[G];return{fragment:{argumentDefinitions:[a,b,c,d,e,f],kind:"Fragment",metadata:null,name:"CometUFICommentRefetchQuery",selections:[{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"translationType",variableName:"translationType"}],kind:"FragmentSpread",name:"CometUFIComment_comment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,d,e,f,b],kind:"Operation",name:"CometUFICommentRefetchQuery",selections:[{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:"style_type_renderer_comet",args:[{kind:"Literal",name:"supported",value:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentQuiltImageStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer"]}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[h,{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnimatedImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentQuiltImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentQuiltImageStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAutoplayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoAutoplayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTipJarPaymentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPlaceInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommentPlaceInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentChatCommandStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPageInCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageInCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesTournamentActivityAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentActivityStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesUpdateCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesUpdateCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFISubscriptionGiftingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSubscriptionGiftStyleRenderer",abstractKey:null}],storageKey:'style_type_renderer(supported:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentQuiltImageStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer"])'},{alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null}],storageKey:null},{alias:null,args:k,kind:"ScalarField",name:"should_show_comment_menu",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[h,i,l,{kind:"TypeDiscriminator",abstractKey:"__isActor"},{alias:"profile_picture_depth_0",args:[{kind:"Literal",name:"height",value:32},m,{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:o,storageKey:null},{alias:"profile_picture_depth_1",args:[{kind:"Literal",name:"height",value:24},m,{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:o,storageKey:null},{kind:"InlineFragment",selections:[p,q,r,s,p,t,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[p,r,p],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[p],type:"Entity",abstractKey:"__isEntity"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},{alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"private_reply_context",plural:!1,selections:[u],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[i,{alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"page_private_reply",plural:!1,selections:[u,{alias:null,args:null,kind:"ScalarField",name:"permalink",storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:v,storageKey:null}],storageKey:null},{alias:null,args:x,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:y,storageKey:null},{alias:null,args:x,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[z,i],storageKey:null},{alias:null,args:null,concreteType:"FeedbackReaction",kind:"LinkedField",name:"supported_reactions",plural:!0,selections:[z],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:v,storageKey:null},{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[z,i,{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[A,{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count_reduced",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:v,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_demote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"did_viewer_demote",storageKey:null},w,{alias:null,args:x,kind:"ScalarField",name:"can_viewer_react",storageKey:null},{alias:null,args:x,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},{alias:null,args:null,concreteType:"PublicConversationsExperimentContext",kind:"LinkedField",name:"public_conversations_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"comment_vote_ui_version",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_top_reactions",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"upvote_downvote_total",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_comment_vote_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_ama_answer_status",storageKey:null},{alias:null,args:null,concreteType:"PageAdminActorInfo",kind:"LinkedField",name:"page_admin_actor_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"creator_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_banned_by_content_owner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_upvote_downvote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[h,l,i,{kind:"InlineFragment",selections:[s,t],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EditHistoryConnection",kind:"LinkedField",name:"edit_history",plural:!1,selections:[A],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_ban_user",storageKey:null},w,i,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"viewer_acts_as_page",plural:!1,selections:v,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[l,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null},i],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"best_profile",plural:!1,selections:y,storageKey:null},i],storageKey:null}],storageKey:null},{alias:null,args:B,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[C,D,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[h,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},E],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[C,D,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[C,D,A,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[h,{kind:"InlineFragment",selections:[i,l],type:"User",abstractKey:null},E],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[h,{kind:"TypeDiscriminator",abstractKey:"__isEntity"},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:"mobileUrl",args:[{kind:"Literal",name:"site",value:"mobile"}],kind:"ScalarField",name:"url",storageKey:'url(site:"mobile")'},{kind:"InlineFragment",selections:[i,{kind:"InlineFragment",selections:[{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Actor",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},i,r],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[F,q],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[F,{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null},E],storageKey:null},C,D],storageKey:null},{alias:null,args:null,concreteType:"ColorAtRange",kind:"LinkedField",name:"color_ranges",plural:!0,selections:[C,D,{alias:null,args:null,kind:"ScalarField",name:"hex_rgb_color_with_pound_key",storageKey:null}],storageKey:null},G],type:"TextWithEntities",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect_name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"translation_available_for_viewer",storageKey:null},p,{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_share",plural:!1,selections:[i,{documentName:"CometUFICommentActionLinks_comment__if_viewer_can_share",fragmentName:"CometUFICommentShareActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"}],storageKey:null},{alias:"body_renderer",args:B,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[h,{kind:"InlineFragment",selections:[{documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp_in_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"written_while_video_was_live",storageKey:null},{alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupMembership",kind:"LinkedField",name:"author_membership",plural:!1,selections:[{alias:null,args:k,concreteType:"RenderableGroupMemberTag",kind:"LinkedField",name:"top_member_tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tag_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"member_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"small_icon",plural:!1,selections:o,storageKey:null}],storageKey:null},i],storageKey:null},{alias:"author_badge",args:[j,H,{kind:"Literal",name:"whitelist",value:"ORIGINAL_POST_AUTHOR"}],concreteType:"GroupCommentInfoCommentMemberBadgesConnection",kind:"LinkedField",name:"comment_member_badges",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommentInfoCommentMemberBadgesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"RenderableGroupMemberTag",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"badge_name",plural:!1,selections:I,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"badge_description",plural:!1,selections:I,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:v,storageKey:null},{alias:null,args:[j,H],kind:"ScalarField",name:"is_author_with_member_profile",storageKey:null},{documentName:"CometUFICommentActorLink_comment",fragmentName:"CometUFIGroupCommentActorLink_groupCommentInfo",fragmentPropName:"groupCommentInfo",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_constituent_badge",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"question_and_answer_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_original_poster",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_comment_poster",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_bot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_non_coworker",storageKey:null},{alias:null,args:k,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple_badge_asset",storageKey:null},G,{alias:null,args:null,kind:"ScalarField",name:"information_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"information_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"information_description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identity_badge_type",storageKey:null}],storageKey:null},{alias:null,args:k,kind:"ScalarField",name:"can_show_multiple_identity_badges",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_disable_preview",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_hidden_by_content_owner",storageKey:null},{alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{documentName:"CometUFIComment_comment",fragmentName:"CometUFICommentQualitySurvey_inlineSurveyConfig",fragmentPropName:"inlineSurveyConfig",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:y,storageKey:null},{alias:null,args:null,concreteType:"WorkAMAUFIAnsweredEventCommentModuleRenderer",kind:"LinkedField",name:"work_answered_event_comment_renderer",plural:!1,selections:[{documentName:"CometUFIComment_comment_work_answered_event_comment_renderer",fragmentName:"CometUFIAMABroadcastAnswerEventRow_data",fragmentPropName:"data",kind:"ModuleImport"}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_created_from_subscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null}]}],type:"Comment",abstractKey:null}],storageKey:null}]},params:{id:"3725358504160435",metadata:{},name:"CometUFICommentRefetchQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometUFIComment_comment.graphql",["CometUFICommentRefetchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},e=[{kind:"Variable",name:"translationType",variableName:"translationType"}];return{argumentDefinitions:[{kind:"RootArgument",name:"feedLocation"},{kind:"RootArgument",name:"isComet"},{kind:"RootArgument",name:"scale"},{defaultValue:"ORIGINAL",kind:"LocalArgument",name:"translationType"},{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:b("CometUFICommentRefetchQuery.graphql"),identifierField:"id"}},name:"CometUFIComment_comment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,c,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentRow_actor"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_disable_preview",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"translation_available_for_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_hidden_by_content_owner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_banned_by_content_owner",storageKey:null},{alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{documentName:"CometUFIComment_comment",fragmentName:"CometUFICommentQualitySurvey_inlineSurveyConfig",fragmentPropName:"inlineSurveyConfig",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UFI2CommentTopReactionsWrapper_feedback"}],storageKey:null},c,{alias:null,args:[{kind:"Variable",name:"translation_type",variableName:"translationType"}],concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"WorkAMAUFIAnsweredEventCommentModuleRenderer",kind:"LinkedField",name:"work_answered_event_comment_renderer",plural:!1,selections:[{documentName:"CometUFIComment_comment_work_answered_event_comment_renderer",fragmentName:"CometUFIAMABroadcastAnswerEventRow_data",fragmentPropName:"data",kind:"ModuleImport"}],storageKey:null},{args:e,kind:"FragmentSpread",name:"CometFeedStoryUFICommentAttachments_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentMenuButton_comment"},{args:e,kind:"FragmentSpread",name:"CometUFICommentActionLinks_comment"},{args:e,kind:"FragmentSpread",name:"CometUFICommentBody_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentRow_comment"},{kind:"InlineDataFragmentSpread",name:"isCometCommentFresh_comment",selections:[d,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_created_from_subscription",storageKey:null}]}]},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null}]}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFIComment_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFIComment_feedback",selections:[{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[a],storageKey:null},a,{args:null,kind:"FragmentSpread",name:"CometUFICommentActionLinks_feedback"}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFIEditHistoryCommentActionLink_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIEditHistoryCommentActionLink_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFIPinActionLink_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIPinActionLink_feedback",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_pin_live_comments",storageKey:null},{alias:null,args:null,concreteType:"BroadcastPinnedCommentEvent",kind:"LinkedField",name:"latest_pinned_comment_event",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"pinned_comment",plural:!1,selections:[a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"broadcast_is_ama_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null}],storageKey:null}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFIRemovePreviewMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d=[c],e={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:d,storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"can_viewer_disable_preview",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIRemovePreviewMutation",selections:[{alias:null,args:b,concreteType:"CommentDeleteAttachmentResponsePayload",kind:"LinkedField",name:"comment_delete_attachment",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:d,storageKey:null},e,f],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIRemovePreviewMutation",selections:[{alias:null,args:b,concreteType:"CommentDeleteAttachmentResponsePayload",kind:"LinkedField",name:"comment_delete_attachment",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[c,g],storageKey:null},e,f,g],storageKey:null}],storageKey:null}]},params:{id:"3004188796335263",metadata:{},name:"CometUFIRemovePreviewMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFIUnpinActionLink_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIUnpinActionLink_feedback",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_pin_live_comments",storageKey:null},{alias:null,args:null,concreteType:"BroadcastPinnedCommentEvent",kind:"LinkedField",name:"latest_pinned_comment_event",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"pinned_comment",plural:!1,selections:[a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"broadcast_is_ama_enabled",storageKey:null}],storageKey:null}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFIVoteCommentLink_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIVoteCommentLink_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"upvote_downvote_total",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_comment_vote_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_ama_answer_status",storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentActionLinks_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[a],c={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},d={alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},c],kind:"ScalarField",name:"can_viewer_comment",storageKey:null};c=[c];return{argumentDefinitions:[{kind:"RootArgument",name:"feedLocation"},{defaultValue:"ORIGINAL",kind:"LocalArgument",name:"translationType"},{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFICommentActionLinks_comment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_banned_by_content_owner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_upvote_downvote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:b,storageKey:null},{alias:null,args:null,concreteType:"EditHistoryConnection",kind:"LinkedField",name:"edit_history",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_demote",storageKey:null},{alias:null,args:c,kind:"ScalarField",name:"can_viewer_react",storageKey:null},{alias:null,args:c,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:b,storageKey:null},{alias:null,args:null,concreteType:"PublicConversationsExperimentContext",kind:"LinkedField",name:"public_conversations_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"comment_vote_ui_version",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIReactionLink_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFIReactionLinkNext_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFIMarkAsSpamActionLink_feedback"}],storageKey:null},a,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_ban_user",storageKey:null},d],storageKey:null},{alias:null,args:[{kind:"Variable",name:"translation_type",variableName:"translationType"}],concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect_name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"translation_available_for_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_share",plural:!1,selections:[{documentName:"CometUFICommentActionLinks_comment__if_viewer_can_share",fragmentName:"CometUFICommentShareActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIPageAdminPrivateReplyContext_comment"},{args:null,kind:"FragmentSpread",name:"UFI2CommentErrorFooter_comment"},{args:null,kind:"FragmentSpread",name:"CometUFIEditHistoryCommentActionLink_comment"},{args:null,kind:"FragmentSpread",name:"CometUFIVoteCommentLink_comment"},{args:null,kind:"FragmentSpread",name:"CometUFIPageAdminActorInfo_comment"},{args:null,kind:"FragmentSpread",name:"CometUFIBanActorLink_comment"},{args:null,kind:"FragmentSpread",name:"UFI2BanActorLink_comment"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null}]}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentActionLinks_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFICommentActionLinks_feedback",selections:[{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"WorkAMAUFIAnswerEventActionLinksCommentModuleRenderer",kind:"LinkedField",name:"work_answer_event_action_links_comment_renderer",plural:!1,selections:[{documentName:"CometUFICommentActionLinks_feedback_work_answer_event_action_links_comment_renderer",fragmentName:"GeminiUFIAMABroadcastAnswerActionLinks_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIPinActionLink_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFIUnpinActionLink_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIPageAdminActorInfo_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIPageAdminActorInfo_comment",selections:[{alias:null,args:null,concreteType:"PageAdminActorInfo",kind:"LinkedField",name:"page_admin_actor_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"creator_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFIPageAdminPrivateReplyContext_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[a];return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFIPageAdminPrivateReplyContext_comment",selections:[a,{alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"private_reply_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:b,storageKey:null},{alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"page_private_reply",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:b,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentPrivateReplyLink_feedback"}],storageKey:null}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentPrivateReplyDialogQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"3013265725446703",metadata:{relayPreloadable:!0},name:"CometUFICommentPrivateReplyDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFICommentPrivateReplyLink_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentPrivateReplyLink_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"page_private_reply",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permalink",storageKey:null}],storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("isCometCommentFresh_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"isCometCommentFresh_comment"};e.exports=a}),null);
__d("CometUFIVoteCommentMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"upvote_downvote_total",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"viewer_comment_vote_state",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIVoteCommentMutation",selections:[{alias:null,args:b,concreteType:"CommentVoteResponsePayload",kind:"LinkedField",name:"comment_vote",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment",plural:!1,selections:[c,d],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIVoteCommentMutation",selections:[{alias:null,args:b,concreteType:"CommentVoteResponsePayload",kind:"LinkedField",name:"comment_vote",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment",plural:!1,selections:[c,d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2810164312425787",metadata:{},name:"CometUFIVoteCommentMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("UFI2CommentTopReactionsWrapper_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UFI2CommentTopReactionsWrapper_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_top_reactions",storageKey:null},{args:null,kind:"FragmentSpread",name:"UFI2CommentTopReactions_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFICommentTopReactions_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentEditHistoryDialog.entrypoint",["JSResourceForInteraction","WebPixelRatio","CometUFICommentEditHistoryDialogQuery$Parameters"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(a){a=a.commentID;return{queries:{root:{options:{fetchPolicy:"network-only"},parameters:b("CometUFICommentEditHistoryDialogQuery$Parameters"),variables:{commentID:a,scale:b("WebPixelRatio").get()}}}}},root:b("JSResourceForInteraction")("CometUFICommentEditHistoryDialog.react",{"class":"responsive",name:"Comet Edit History Dialog",oncall:"ufight_club"}).__setRef("CometUFICommentEditHistoryDialog.entrypoint")};e.exports=a}),null);
__d("CometUFIEditHistoryCommentActionLink.react",["fbt","CometLink.react","CometRelay","CometTooltip.react","CometUFICommentEditHistoryDialog.entrypoint","React","recoverableViolation","stylex","useCometEntryPointDialog","CometUFIEditHistoryCommentActionLink_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j={link:{color:"m9osqain"}};function a(a){a=b("CometRelay").useFragment(h!==void 0?h:h=b("CometUFIEditHistoryCommentActionLink_comment.graphql"),a.comment);var c=a.id;a=b("useCometEntryPointDialog")(b("CometUFICommentEditHistoryDialog.entrypoint"),c!=null?{commentID:c}:null,"button");var d=a[0],e=a[1],f=a[2],k=a[3];a=a[4];var l=i.useCallback(function(){if(c==null){b("recoverableViolation")("Cannot open dialog for comment without an ID","ufi2");return}d({})},[c,d]);l=i.jsx(b("CometTooltip.react"),{tooltip:g._("Show edit history"),children:i.jsx(b("CometLink.react"),{onClick:l,onHoverEnd:k,onHoverStart:f,onPressStart:a,ref:e,testid:void 0,xstyle:j.link,children:g._("Edited")})});return l}}),null);
__d("CometUFIPageAdminActorInfo.react",["CometPlaceholder.react","CometProgressIndicator.react","CometRelay","React","UFI2CommentActionLinks.react","deferredLoadComponent","requireDeferred","CometUFIPageAdminActorInfo_comment.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=b("deferredLoadComponent")(b("requireDeferred")("CometUFICreatorInfo.react"));function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometUFIPageAdminActorInfo_comment.graphql"),a.comment);a=a.page_admin_actor_info;return a==null||a.creator_id==null||a.creator_name==null||a.creator_type==null||a.label_type==null||a.page_id==null||a.profile_uri==null?null:h.jsx(b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:h.jsx(b("CometPlaceholder.react"),{fallback:h.jsx(b("CometProgressIndicator.react"),{size:"small"}),children:h.jsx(i,{creatorID:a.creator_id,creatorName:a.creator_name,creatorType:a.creator_type,labelType:a.label_type,pageID:a.page_id,profileURI:a.profile_uri})})},"pageAdminActorInfo")}}),null);
__d("CometUFICommentPrivateReplyDialog.entrypoint",["JSResource","WebPixelRatio","CometUFICommentPrivateReplyDialogQuery$Parameters"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(a){a=a.commentID;return{queries:{privateReplyDialogQueryReference:{parameters:b("CometUFICommentPrivateReplyDialogQuery$Parameters"),variables:{id:a,isComet:!0,scale:b("WebPixelRatio").get()}}}}},root:b("JSResource")("CometUFICommentPrivateReplyDialog.react").__setRef("CometUFICommentPrivateReplyDialog.entrypoint")};e.exports=a}),null);
__d("CometUFICommentPrivateReplyLink.react",["fbt","CometEntryPointDialogTrigger.react","CometPressable.react","CometRelay","CometUFICommentPrivateReplyDialog.entrypoint","CometUFITooltip.react","JSResource","React","CometUFICommentPrivateReplyLink_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=b("JSResource")("CometUFIPrivateReplyTooltipContent.react").__setRef("CometUFICommentPrivateReplyLink.react"),k=h!==void 0?h:h=b("CometUFICommentPrivateReplyLink_feedback.graphql");function a(a){var c,d=a.commentID,e=a.feedback,f=a.feedbackSource,h=a.xstyle;a=b("CometRelay").useFragment(k,e);e=a==null?void 0:a.id;if(d==null||e==null)return null;c=a==null?void 0:(c=a.page_private_reply)==null?void 0:c.status;switch(c){case"REPLYABLE":return i.jsx(b("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:b("CometUFICommentPrivateReplyDialog.entrypoint"),otherProps:{feedbackSource:f},preloadParams:{commentID:d},preloadTrigger:"button",children:function(a){return i.jsx(b("CometPressable.react"),{display:"inline",onPress:a,overlayDisabled:!0,xstyle:h,children:g._("Message")})}});case"ALREADY_REPLIED":f=a==null?void 0:(c=a.page_private_reply)==null?void 0:c.permalink;return f==null?i.jsx(b("CometUFITooltip.react"),{tooltipContentComponent:j,tooltipContentProps:{queryVariables:{feedbackTargetID:e}},children:g._("Message")}):i.jsx(b("CometPressable.react"),{linkProps:{url:f},xstyle:h,children:g._("See Response")});default:return i.jsx(b("CometUFITooltip.react"),{tooltipContentComponent:j,tooltipContentProps:{queryVariables:{feedbackTargetID:e}},children:g._("Message")})}}}),null);
__d("CometUFIPageAdminPrivateReplyContext.react",["CometRelay","CometUFICommentPrivateReplyLink.react","React","UFI2CommentActionLinks.react","UFI2PrivateReplyIndicator.react","CometUFIPageAdminPrivateReplyContext_comment.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c,d,e=b("CometRelay").useFragment(g!==void 0?g:g=b("CometUFIPageAdminPrivateReplyContext_comment.graphql"),a.comment),f=e==null?void 0:e.id,i=e==null?void 0:e.feedback;c=i==null?void 0:(c=i.viewer_actor)==null?void 0:c.id;d=i==null?void 0:(d=i.page_private_reply)==null?void 0:(d=d.page)==null?void 0:d.id;c=c!=null&&c===d;return!c&&b("UFI2PrivateReplyIndicator.react").shouldRender(e==null?void 0:(d=e.private_reply_context)==null?void 0:d.status)?h.jsx(b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:h.jsx(b("UFI2PrivateReplyIndicator.react"),{})},"pageAdminPrivateReplyContext"):i!=null&&c?h.jsx(b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:h.jsx(b("CometUFICommentPrivateReplyLink.react"),{commentID:f,feedback:i,feedbackSource:a.feedbackSource,xstyle:a.xstyle})},"pageAdminPrivateReply"):null}}),null);
__d("CometUFIPinActionLink.react",["fbt","CometLink.react","CometRelay","React","UFI2CommentActionLinks.react","gkx","requireDeferred","CometUFIPinActionLink_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=b("requireDeferred")("CometUFIPinCommentMutation"),k=function(a){return a==="LIVE_PRODUCER"||a==="TAHOE"?!0:!1};function a(a){var c,d,e=a.commentID,f=a.disabled,l=a.feedback$key,m=a.feedLocation;a=a.xstyle;l=b("CometRelay").useFragment(h!==void 0?h:h=b("CometUFIPinActionLink_feedback.graphql"),l);var n=l==null?void 0:l.id,o=l==null?void 0:(c=l.associated_video)==null?void 0:c.id,p=b("CometRelay").useRelayEnvironment();c=i.useCallback(function(){if(n==null||o==null)return;j.onReady(function(a){a.commit(p,{commentID:e,feedbackID:n,videoID:o})})},[e,n,p,o]);if((l==null?void 0:l.can_viewer_pin_live_comments)!==!0||(l==null?void 0:(d=l.latest_pinned_comment_event)==null?void 0:(d=d.pinned_comment)==null?void 0:d.id)===e||o==null||(l==null?void 0:(d=l.associated_video)==null?void 0:d.broadcast_is_ama_enabled)===!0||(l==null?void 0:(d=l.associated_video)==null?void 0:d.broadcast_status)!=="LIVE")return null;return!k(m)||!b("gkx")("1400477")?null:i.jsx(b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:i.jsx(b("CometLink.react"),{disabled:f,href:"#",onClick:c,role:"button",testid:void 0,xstyle:a,children:g._("Pin")})})}}),null);
__d("CometUFIRemovePreviewMutation",["CometRelay","CometUFIRemovePreviewMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.commit=a;var g,h=g!==void 0?g:g=b("CometUFIRemovePreviewMutation.graphql");function a(a,c){var d={comment_id:c.commentID};d={input:babelHelpers["extends"]({},d)};c={comment_delete_attachment:{comment:{attached_story:null,attachments:[],can_viewer_disable_preview:!1,id:c.commentID}}};return b("CometRelay").commitMutation(a,{mutation:h,optimisticResponse:c,variables:d})}}),null);
__d("CometUFIUnhideCommentLink.react",["fbt","CometPressable.react","React","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=b("requireDeferred")("CometUFIUnhideCommentMutation");function a(a){var c=a.actorID,d=a.commentID,e=a.environment,f=a.feedbackSource,j=a.feedLocation;a=a.xstyle;return h.jsx(b("CometPressable.react"),{display:"inline",onPress:function(){i.onReadyImmediately(function(a){a.commit(e,{actorId:c,commentId:d,feedLocation:j,feedbackSource:f,isComet:!0})})},role:"button",testid:void 0,xstyle:a,children:g._("Unhide")})}}),null);
__d("CometUFIUnpinActionLink.react",["fbt","CometLink.react","CometRelay","React","UFI2CommentActionLinks.react","gkx","requireDeferred","CometUFIUnpinActionLink_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=b("requireDeferred")("CometUFIUnpinCommentMutation"),k=function(a){return a==="LIVE_PRODUCER"||a==="TAHOE"?!0:!1};function a(a){var c,d,e=a.commentID,f=a.disabled,l=a.feedback$key,m=a.feedLocation;a=a.xstyle;l=b("CometRelay").useFragment(h!==void 0?h:h=b("CometUFIUnpinActionLink_feedback.graphql"),l);var n=l==null?void 0:l.id,o=l==null?void 0:(c=l.associated_video)==null?void 0:c.id,p=b("CometRelay").useRelayEnvironment();c=i.useCallback(function(){if(n==null||o==null)return;j.onReady(function(a){a.commit(p,{feedbackID:n,videoID:o})})},[n,p,o]);if((l==null?void 0:l.can_viewer_pin_live_comments)!==!0||(l==null?void 0:(d=l.latest_pinned_comment_event)==null?void 0:(d=d.pinned_comment)==null?void 0:d.id)!==e||o==null||(l==null?void 0:(d=l.associated_video)==null?void 0:d.broadcast_is_ama_enabled)===!0)return null;return!k(m)||!b("gkx")("1400477")?null:i.jsx(b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:i.jsx(b("CometLink.react"),{disabled:f,href:"#",onClick:c,role:"button",testid:void 0,xstyle:a,children:g._("Unpin")})})}}),null);
__d("CometUFIVoteCommentMutation",["CometRelay","CometUFIVoteCommentMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.commit=a;var g,h=g!==void 0?g:g=b("CometUFIVoteCommentMutation.graphql");function a(a,c){var d=c.voteActionType===c.currentVoteState?"NONE":c.voteActionType;return b("CometRelay").commitMutation(a,{mutation:h,optimisticUpdater:function(a){return i(babelHelpers["extends"]({},c,{newVoteState:d}),a)},variables:{input:{comment_id:c.commentID,new_vote_state:d}}})}function i(a,b){var c=a.commentID,d=a.currentVoteCount,e=a.currentVoteState,f=a.newVoteState;a=a.voteActionType;b=b.get(c);if(b==null)return;a==="UPVOTE"&&e==="DOWNVOTE"?b.setValue(d+2,"upvote_downvote_total"):a==="DOWNVOTE"&&e==="UPVOTE"?b.setValue(d-2,"upvote_downvote_total"):a==="UPVOTE"&&e==="NONE"||a==="DOWNVOTE"&&a===e?b.setValue(d+1,"upvote_downvote_total"):b.setValue(d-1,"upvote_downvote_total");b.setValue(f,"viewer_comment_vote_state")}}),null);
__d("WorkplaceAMAVotingHelper",["fbt"],(function(a,b,c,d,e,f,g){"use strict";f.getVotingStatus=a;function a(a){var b="ANSWERED",c="ANSWERING_NOW",d=a===b||a===c;b=a===b?g._("question has already been answered"):a===c?g._("question is being answered"):null;return{disabled:d,tooltip:b}}}),null);
__d("CometUFIVoteCommentLink.react",["ix","fbt","CometPressable.react","CometTooltip.react","CometUFIVoteCommentMutation","React","RelayHooks","TetraIcon.react","WorkplaceAMAVotingHelper","fbicon","recoverableViolation","stylex","CometUFIVoteCommentLink_comment.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k=b("React"),l={button:{verticalAlign:"j1lvzwm4"},count:{color:"m9osqain",fontWeight:"knj5qynh",marginEnd:"cgat1ltu",marginStart:"kkf49tns"},countDisabled:{color:"erlsw9ld",cursor:"tf0xghai"},countVoted:{color:"q66pz984",fontWeight:"n3ffmt46"}};function a(a){var c,d=a.comment;a=a.isDisabled;a=a===void 0?!0:a;var e=b("RelayHooks").useRelayEnvironment();d=b("RelayHooks").useFragment(i!==void 0?i:i=b("CometUFIVoteCommentLink_comment.graphql"),d);var f=d.id,g=(c=d.upvote_downvote_total)!=null?c:0,h=(c=d.viewer_comment_vote_state)!=null?c:"NONE";c=h==="UPVOTE";var n=h==="DOWNVOTE",o=c||n;d=b("WorkplaceAMAVotingHelper").getVotingStatus(d.work_ama_answer_status);a=a||d.disabled;if(f==null)return b("recoverableViolation")("comment id for UFI comment vote link is null","groups_comet");var p=function(a){return function(){b("CometUFIVoteCommentMutation").commit(e,{commentID:f,currentVoteCount:g,currentVoteState:h,voteActionType:a})}};return k.jsxs("span",{children:[k.jsx(m,{hasVoted:c,isDisabled:a,isUpvote:!0,onVote:p,testid:void 0,tooltip:d.tooltip}),k.jsx("span",{className:(j||(j=b("stylex")))(l.count,o?l.countVoted:void 0,a?l.countDisabled:void 0),children:g}),k.jsx(m,{hasVoted:n,isDisabled:a,isUpvote:!1,onVote:p,testid:void 0,tooltip:d.tooltip})]})}function m(a){var c=a.hasVoted,d=a.isDisabled,e=a.isUpvote,f=a.onVote,i=a.testid;i=a.tooltip;a=e?b("fbicon")._(g("545991"),12):b("fbicon")._(g("545984"),12);i=(i=i)!=null?i:e?h._("Upvote"):h._("Downvote");e=e?f("UPVOTE"):f("DOWNVOTE");return k.jsx("span",{className:(j||(j=b("stylex")))(l.button),children:k.jsx(b("CometTooltip.react"),{forceInlineDisplay:!0,tooltip:i,children:k.jsx(b("CometPressable.react"),{"aria-label":i,disabled:d,onPress:e,overlayDisabled:!0,role:"button",testid:void 0,children:k.jsx(b("TetraIcon.react"),{color:d?"disabled":c?"highlight":"tertiary",draggable:!1,icon:a})})})})}}),null);
__d("CometUFICommentActionLinks.react",["fbt","CometLink.react","CometPlaceholder.react","CometRelativeTimestamp.react","CometRelay","CometTimestamp.react","CometTooltip.react","CometTrackingNodeProvider.react","CometUFIEditHistoryCommentActionLink.react","CometUFIPageAdminActorInfo.react","CometUFIPageAdminPrivateReplyContext.react","CometUFIPinActionLink.react","CometUFIRemovePreviewMutation","CometUFIUnhideCommentLink.react","CometUFIUnpinActionLink.react","CometUFIVoteCommentLink.react","FBLogger","React","UFI2CommentActionLinks.react","UFICommonInteractionEvents","UFIReactionTypes","deferredLoadComponent","qex","requireCond","requireDeferred","stylex","cr:1331508","cr:1545750","cr:1329897","cr:1593999","cr:1594000","CometUFICommentActionLinks_comment.graphql","CometUFICommentActionLinks_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j,k=b("React"),l=b("deferredLoadComponent")(b("requireDeferred")("UFI2CommentErrorFooter.react")),m=700,n=850,o={actionLinks:{marginBottom:"oygrvhab",marginStart:"ozuftl9m",minHeight:"l66bhrea",paddingTop:"linoseic"},actionRoot:{color:"m9osqain",cursor:"nhd2j8a9",display:"q9uorilb",fontWeight:"n3ffmt46",position:"l9j0dhe7",":hover":{textDecoration:"gpro0wi8"}},actionRootBlue:{color:"py34i1dx"},actionRootDisabled:{color:"erlsw9ld",cursor:"tf0xghai",":hover":{textDecoration:"p8dawk7l"}},timestamp:{color:"m9osqain",fontWeight:"knj5qynh"}};function a(a){return k.jsx(b("UFI2CommentActionLinks.react").UFI2CommentActionLinks,{className:(j||(j=b("stylex")))(o.actionLinks),listRef:a.actionLinksListRef,children:k.jsx(p,babelHelpers["extends"]({},a))})}function p(a){var c,d,e,f,p=b("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentActionLinks_comment.graphql"),a.comment),q=b("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentActionLinks_feedback.graphql"),a.feedback);c=(c=b("qex")._("1626490"))!=null?c:!1;var r=a.environment,s=a.feedbackSource,t=a.feedLocation,u=a.handleOnReply,v=a.handleTranslationClick,w=a.hasRemovableAttachment,x=a.isFetchingTranslation,y=p.author,z=p.created_time,A=p.feedback,B=p.id,C=p.parent_feedback;function D(){if(u==null)return;var a=p.id,b=p.is_author_weak_reference;if((y==null?void 0:y.__typename)!=null&&(y==null?void 0:y.id)!=null&&(y==null?void 0:y.name)!=null&&a!=null){u({authorId:y.id,authorIsWeakReference:!!b,authorName:y.name,authorType:y.__typename,commentComposerPlaceholderText:(b=p.feedback)==null?void 0:b.comment_composer_placeholder,commentId:a})}}if(y==null){var E;b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",(E=B)!=null?E:"UNKNOWN").mustfix("UFI2Comment: Cant render comment without author");return null}if(B==null){b("FBLogger")("ufi2").mustfix("UFI2Comment: Cant render action links without a comment id");return null}E=(E=q.viewer_actor)==null?void 0:E.id;var F=p.spam_display_mode!=null&&p.spam_display_mode!=="none";d=(d=p.preferred_body)==null?void 0:d.translation_type;e=(e=p.translatability_for_viewer)==null?void 0:e.source_dialect_name;z=z!=null?k.jsx(b("CometTooltip.react"),{tooltip:k.jsx(b("CometTimestamp.react"),{date:new Date(z*1e3)}),children:k.jsx(b("CometRelativeTimestamp.react"),{date:new Date(z*1e3),format:"minimized"})}):null;var G=Boolean(p==null?void 0:p.optimistic_action);if(p.optimistic_error!=null)return k.jsx(b("CometPlaceholder.react"),{fallback:null,children:k.jsx(b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx(l,{comment:p})})},"optimisticAction");return G&&((f=b("qex")._("1627152"))!=null?f:!1)?k.jsx(b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx(b("CometLink.react"),{disabled:!0,href:p.url,xstyle:[o.timestamp,o.actionRootDisabled],children:z})},"timestampLink"):k.jsxs(k.Fragment,{children:[(p==null?void 0:(f=p.parent_feedback)==null?void 0:f.can_viewer_ban_user)===!0&&F?k.jsx(b("cr:1545750"),{className:(j||(j=b("stylex")))(o.actionRoot,c&&o.actionRootBlue),comment:p,feedbackSource:s},"banLink"):null,F&&E!=null&&(p==null?void 0:p.is_author_banned_by_content_owner)===!1?k.jsx(b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx(b("CometUFIUnhideCommentLink.react"),{actorID:E,commentID:B,environment:r,feedLocation:t,feedbackSource:s,xstyle:[o.actionRoot,c&&o.actionRootBlue]},"unhideLink")},"unhideLink"):null,!F&&A!=null&&(p==null?void 0:p.can_viewer_upvote_downvote)===!0&&((f=p.feedback)==null?void 0:(f=f.public_conversations_context)==null?void 0:f.comment_vote_ui_version)==="INSIDE_BLING_BAR"?k.jsx(b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx(b("CometUFIVoteCommentLink.react"),{comment:p,isDisabled:G})},"voteButtons"):null,!F&&A!=null&&((f=p.feedback)==null?void 0:f.can_viewer_react)===!0?k.jsx(b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx("span",{"data-testid":void 0,children:G?k.jsx("span",{className:(j||(j=b("stylex")))(o.actionRoot,o.actionRootDisabled),children:b("UFIReactionTypes").reactions[b("UFIReactionTypes").LIKE].display_name}):k.jsxs(k.Fragment,{children:[b("cr:1594000")&&k.jsx(b("cr:1594000"),{className:(j||(j=b("stylex")))(o.actionRoot,c&&o.actionRootBlue),displayInlineBlock:!0,feedback:A,feedbackSource:s,hideDelay:n,interactionEvent:b("UFICommonInteractionEvents").COMET_UFI_COMMENT_REACTION,showDelay:m,useDefaultActor:!1}),b("cr:1593999")&&k.jsx(b("cr:1593999"),{feedback:A,feedbackSource:s,hideDelay:n,interactionEvent:b("UFICommonInteractionEvents").COMET_UFI_COMMENT_REACTION,showDelay:m,useDefaultActor:!1})]})})},"reactLink"):null,u!=null&&!F&&C!=null&&C.can_viewer_comment===!0||p.optimistic_action==="ADD"?k.jsx(b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:339,children:k.jsx(b("CometLink.react"),{disabled:G,href:"#",onClick:D,role:"button",testid:void 0,xstyle:[o.actionRoot,G&&o.actionRootDisabled,!G&&c&&o.actionRootBlue],children:a.viewOption==="LIVE_STREAMING"&&((f=p.comment_parent)==null?void 0:f.id)!=null?g._("See Thread"):g._("Reply")})})},"replyLink"):null,!F&&k.jsx(b("CometRelay").MatchContainer,{match:p.if_viewer_can_share,props:{xstyle:[o.actionRoot,G&&o.actionRootDisabled,!G&&c&&o.actionRootBlue]}}),b("cr:1329897")!=null&&((A=p.feedback)==null?void 0:A.can_viewer_demote)===!0?k.jsx(b("cr:1329897"),{feedback$key:p.feedback,xstyle:[o.actionRoot,c&&o.actionRootBlue]},"markAsSpamLink"):null,k.jsx(b("CometUFIPinActionLink.react"),{commentID:B,disabled:G,feedLocation:t,feedback$key:q,xstyle:[o.actionRoot,G&&o.actionRootDisabled,!G&&c&&o.actionRootBlue]},"pinLink"),k.jsx(b("CometUFIUnpinActionLink.react"),{commentID:B,disabled:G,feedLocation:t,feedback$key:q,xstyle:[o.actionRoot,G&&o.actionRootDisabled,!G&&o.actionRootBlue]},"unpinLink"),k.jsx(b("CometRelay").MatchContainer,{match:q.work_answer_event_action_links_comment_renderer,props:{commentID:B,disabled:G,feedLocation:t,feedback:q,xstyle:[o.actionRoot,G&&o.actionRootDisabled,!G&&c&&o.actionRootBlue]}}),k.jsx(b("CometUFIPageAdminActorInfo.react"),{comment:p}),k.jsx(b("CometUFIPageAdminPrivateReplyContext.react"),{comment:p,feedbackSource:s,xstyle:[o.actionRoot,c&&o.actionRootBlue]}),p.translation_available_for_viewer===!0?k.jsx(b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx(b("cr:1331508"),{disabled:x,onClick:v,xstyle:[o.actionRoot,Boolean(x)&&o.actionRootDisabled,!Boolean(x)&&c&&o.actionRootBlue],children:d==="MACHINE_TRANSLATION"?e!=null?g._("See Original ({language})",[g._param("language",e)]):g._("See Original"):g._("See Translation")})},"translationLink"):null,w&&E!=null?k.jsx(b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx(b("CometLink.react"),{href:"#",onClick:function(){b("CometUFIRemovePreviewMutation").commit(r,{commentID:B})},role:"button",testid:void 0,xstyle:[o.actionRoot,c&&o.actionRootBlue],children:g._("Remove Preview")})},"removePreviewLink"):null,k.jsx(b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx(b("CometLink.react"),{disabled:G,href:p.url,testid:void 0,xstyle:[o.timestamp,G?o.actionRootDisabled:null],children:z})},"timestampLink"),((D=(C=p.edit_history)==null?void 0:C.count)!=null?D:0)>0?k.jsx(b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem,{children:k.jsx(b("CometUFIEditHistoryCommentActionLink.react"),{comment:p})},"editHistoryLink"):null]})}}),null);
__d("CometUFICommentMenu.entrypoint",["JSResourceForInteraction","CometUFICommentMenuQuery$Parameters"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(a){var c=a.feedLocation;a=a.id;return{queries:{menuQueryReference:{options:{fetchPolicy:"network-only"},parameters:b("CometUFICommentMenuQuery$Parameters"),variables:{feedLocation:c,id:a}}}}},root:b("JSResourceForInteraction")("CometUFICommentMenu.react",{"class":"responsive",name:"Comet UFI Comment Menu",oncall:"ufight_club"}).__setRef("CometUFICommentMenu.entrypoint")};e.exports=a}),null);
__d("CometUFICommentMenuButton.react",["ix","fbt","CometEntryPointPopoverTrigger.react","CometRelay","CometUFICommentMenu.entrypoint","React","TetraIcon.react","fbicon","stylex","useMatchMedia","CometUFICommentMenuButton_comment.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k=b("React");function a(a){var c=a.comment,d=a.feedbackSource,e=a.feedLocation,f=a.onEdit,l=a.popoverPosition,m=a.topLevelFeedbackId;a=a.visible;c=b("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentMenuButton_comment.graphql"),c);var n=c.id,o=c.optimistic_action;c=c.should_show_comment_menu;var p=k.useState(!1),q=p[0],r=p[1],s=k.useCallback(function(){r(!0)},[]),t=k.useCallback(function(){r(!1)},[]);p=b("useMatchMedia")("(any-pointer: coarse)");if(o!=null)return k.jsx("div",{className:"b5wmifdl no6464jc tf0xghai",children:k.jsx(b("TetraIcon.react"),{"aria-label":h._("More"),color:"secondary",disabled:!0,icon:b("fbicon")._(g("484386"),16)})});if(c!==!0||n==null)return null;o=l!=null?{position:l}:{};c=a===!0||q===!0||p;return k.jsx("div",{className:(j||(j=b("stylex"))).dedupe({"margin-start-1":"no6464jc","opacity-1":"b5wmifdl"},c?{"opacity-1":"pedkr2u6"}:null),children:k.jsx(b("CometEntryPointPopoverTrigger.react"),babelHelpers["extends"]({align:"middle",autoAlign:!0,entryPointParams:{feedLocation:e,id:n},otherProps:{feedLocation:e,feedbackSource:d,onEdit:f,topLevelFeedbackId:m},popoverEntryPoint:b("CometUFICommentMenu.entrypoint"),popoverType:"menu"},o,{children:function(a,c,d,e,f,i){return k.jsx(b("TetraIcon.react"),{"aria-label":h._("More"),color:"secondary",disableOverlay_DEPRECATED:!0,icon:b("fbicon")._(g("484386"),16),onFocusIn:s,onFocusOut:t,onHoverIn:e,onHoverOut:f,onPress:c,onPressIn:i,ref:a,testid:void 0})}}))})}}),null);
__d("DOMIntersection",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.getBoundingClientRect();b=b.getBoundingClientRect();return!(a.right<b.left||a.left>b.right||a.bottom<b.top||a.top>b.bottom)}e.exports={isIntersecting:a}}),null);
__d("UFI2CommentTopReactionsWrapper.react",["cx","requireCond","CSS","DOMIntersection","React","cr:1009153","UFI2CometRelayCreateFragmentContainer","injectSubscriptionsHandler.react","intersectionObserverEntryIsIntersecting","observeIntersection","queryThenMutateDOM","UFI2CommentTopReactionsWrapper_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("DOMIntersection").isIntersecting,j=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=null,d.$3=!1,d.$4=null,d.$5=null,d.$6=function(a){d.$1=a,a==null&&(d.$5=null),d.$7()},d.$8=function(a){d.$4!=a&&(d.$4=a,d.$2!=null&&(d.$2.remove(),d.$2=null),a&&(d.$2=b("observeIntersection")(a,function(a){d.$3=b("intersectionObserverEntryIsIntersecting")(a),d.$7()},{rootMargin:"1000px"}),d.props.subscriptionsHandler.addSubscriptions(d.$2)))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$7=function(){var a=this,c=this.props.avoidableElementBorderingBottom.current,d=this.$1,e=this.$4;if(this.$5!==null||!c||!d||!e||!this.$3)return;var f=!1;this.props.subscriptionsHandler.addSubscriptions(b("queryThenMutateDOM")(function(){f=i(c,e)},function(){f!==a.$5&&(f===!0&&b("CSS").addClass(d,"_680_"),b("CSS").removeClass(d,"invisible_elem"),a.$5=f,a.$2!=null&&(a.$2.remove(),a.$2=null))},"UFI2CommentTopReactionsWrapper_"+(this.props.feedback.id||"UNKNOWN")))};d.componentDidUpdate=function(){this.$7()};d.render=function(){var a,c=this.props,d=c.children;c=c.feedback;a=c.should_show_top_reactions!=null?c.should_show_top_reactions:Boolean((a=c.reactors)==null?void 0:a.count);return j.jsxs("div",{className:"_680y",children:[j.jsx("div",{className:"_6cuy",children:d}),a?j.jsx("div",{className:"_6cuq invisible_elem",ref:this.$6,children:j.jsx(b("cr:1009153"),{feedback:c,rootRef:this.$8})}):null]})};return c}(j.Component);c.displayName="UFI2CommentTopReactionsWrapper";e.exports=a(b("injectSubscriptionsHandler.react")(c),{feedback:h!==void 0?h:h=b("UFI2CommentTopReactionsWrapper_feedback.graphql")})}),null);
__d("UFI2ActiveLayerMonitor",["ErrorUtils","Parent","SubscriptionsHandler","UserActivity","getDocumentScrollElement"],(function(a,b,c,d,e,f){"use strict";var g,h=[],i=!1,j=b("getDocumentScrollElement")(),k=[],l;function m(a){i=!0;k.push.apply(k,h);while(k.length){var c=k.shift();(g||(g=b("ErrorUtils"))).applyWithGuard(c,null,[a],null,"UFI2ActiveLayerMonitor")}i=!1}function n(a){j!==a&&(j=a,m(a))}a={getLastActiveLayer:function(){return j},subscribe:function(a){h.push(a);i&&k.push(a);l==null&&(l=new(b("SubscriptionsHandler"))(),l.addSubscriptions(b("UserActivity").subscribe(function(a,c){a=c.event;n(b("Parent").byClass(a.target,"uiLayer")||b("getDocumentScrollElement")())})));var c=!1;return{remove:function(){if(c)return;var b=h.indexOf(a);b!==-1&&h.splice(b,1);if(i){b=k.indexOf(a);b!==-1&&k.splice(b,1)}h.length===0&&(l&&(l.release(),l=null));c=!0}}}};e.exports=a}),null);
__d("UFI2UserActivityMonitor",["ErrorUtils","Event","ExecutionEnvironment","SubscriptionsHandler","UFI2UserActivityIdleTimeout","UserActivity","Visibility","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";var g,h=[],i,j=!1,k=b("ExecutionEnvironment").canUseDOM&&b("UserActivity").isOnTab()&&b("UserActivity").isActive(b("UFI2UserActivityIdleTimeout"))?"ACTIVE":"INACTIVE",l=[],m;function n(a){j=!0;l.push.apply(l,h);var c=function(){var c=l.shift();(g||(g=b("ErrorUtils"))).applyWithGuard(function(){return c(a)},null,null,null,"UFI2UserActivityMonitor")};while(l.length)c();j=!1}function o(a){b("clearTimeout")(i),a>0&&(i=b("setTimeoutAcrossTransitions")(function(){p("INACTIVE")},a))}function p(a){var b=k;k=a;b!==a&&n(a)}a={getActivityState:function(){return k},init:function(){m==null&&(o(Math.max(0,b("UFI2UserActivityIdleTimeout")-(Date.now()-b("UserActivity").getLastActive()))),m=new(b("SubscriptionsHandler"))(),m.addSubscriptions(b("UserActivity").subscribe(function(a,c){a=c.event;if(/^mouse(enter|leave|move|over|out)$/.test(a.type)&&b("UserActivity").isOnTab()===!1)return;p("ACTIVE");o(Math.max(0,b("UFI2UserActivityIdleTimeout")-(Date.now()-b("UserActivity").getLastActive())))}),b("Event").listen(window,"blur",function(){p("INACTIVE"),b("clearTimeout")(i)}),b("Visibility").addListener(b("Visibility").HIDDEN,function(){p("INACTIVE"),b("clearTimeout")(i)})))},subscribe:function(a){h.push(a);j&&l.push(a);var c=!1;return{remove:function(){if(c)return;var d=h.indexOf(a);d!==-1&&h.splice(d,1);if(j){d=l.indexOf(a);d!==-1&&l.splice(d,1)}h.length===0&&b("clearTimeout")(i);c=!0}}}};b("ExecutionEnvironment").canUseDOM&&a.init();e.exports=a}),null);
__d("getSharedStopwatch",["invariant","UFIStopWatch","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h={};function a(a){var c=b("uuid")();if(h[a]==null){var d=new(b("UFIStopWatch"))();h[a]={runningClientMap:{},stopwatch:d,totalClients:0}}h[a].totalClients+=1;var e=!1;function f(){e===!1||g(0,6067)}var i={dispose:function(){if(e)return;i.pause();h[a].totalClients-=1;h[a].totalClients===0&&delete h[a];e=!0},getMilliseconds:function(){f();return h[a].stopwatch.milliseconds()},getStartTime:function(){f();return h[a].stopwatch.getStartTime()},isRunning:function(){f();return h[a].stopwatch.state()===b("UFIStopWatch").COUNTING},isSharedWithOtherClients:function(){f();return h[a].totalClients>1},pause:function(){f(),delete h[a].runningClientMap[c],Object.keys(h[a].runningClientMap).length===0&&h[a].stopwatch.pause()},start:function(){f(),h[a].runningClientMap[c]=!0,h[a].stopwatch.start()}};return i}e.exports=a}),null);
__d("onAttachedToDOM",["ErrorUtils","containsNode","killswitch"],(function(a,b,c,d,e,f){"use strict";var g;function c(){var a=new Map(),c=new MutationObserver(d);function d(c){c.some(function(c){return Array.from(c.addedNodes).some(function(c){a.forEach(function(a,d){b("containsNode")(c,d)&&a.forEach(function(a){h(d,a),(g||(g=b("ErrorUtils"))).applyWithGuard(a)})});return a.size===0})})}function e(a){return b("containsNode")(document.documentElement,a)}function f(b,d){a.size===0&&c.observe(document,{childList:!0,subtree:!0});var e=a.get(b);e==null&&(e=[],a.set(b,e));e.push(d)}function h(b,d){var e=a.get(b);if(e){d=e.indexOf(d);d!==-1&&e.splice(d,1);e.length===0&&a["delete"](b);a.size===0&&c.disconnect()}}return function(a,b){if(e(a)){b();return{remove:function(){}}}f(a,b);var c=!1;return{remove:function(){if(c)return;c=!0;h(a,b)}}}}b("killswitch")("ON_ATTACHED_TO_DOM_HELPER")||a.MutationObserver==null?d=null:d=c();e.exports=d}),null);
__d("UFI2VPVDLoggedComponent.react",["cx","invariant","Banzai","Parent","React","UFI2ActiveLayerMonitor","UFI2UserActivityMonitor","clearInterval","collectDataAttributes","containsNode","getFBAlphaConsoleSize","getSharedStopwatch","gkx","injectSubscriptionsHandler.react","isIntersectionObserverEntryVPVDVisible","observeIntersection","onAttachedToDOM","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1];a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1="HIDDEN",d.$4=!1,d.$7=b("UFI2UserActivityMonitor").getActivityState(),d.$8="div",d.$11=function(a,c){return d.$5?b("collectDataAttributes")(d.$5,a,c):null},d.$12=function(a){d.$4=b("containsNode")(a,d.$5),d.$13()},d.$14=function(a){d.$1=b("isIntersectionObserverEntryVPVDVisible")(a)?"VISIBLE":"HIDDEN",d.$13()},d.$15=function(a){a==null||a instanceof HTMLDivElement||h(0,5279),d.$5!==a&&(d.$2!=null&&(d.$2.remove(),delete d.$2),d.$3!=null&&(d.$3.remove(),delete d.$3)),a&&(b("onAttachedToDOM")?d.$2=b("onAttachedToDOM")(a,function(){d.$3&&d.$3.remove(),d.$16(a)}):d.$16(a)),d.$5=a},d.$17=function(a){d.$7=a,d.$13()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$13=function(){var a=this.$6;if(this.$1==="HIDDEN"||this.$4===!1||this.$7==="INACTIVE"){if(a==null)return;if(!a.isSharedWithOtherClients()){var c=a.getMilliseconds(),d=a.getStartTime();this.props.onLogDuration(d,c,this.$11)}a.dispose();this.$6=null}else a==null&&(this.$6=a=b("getSharedStopwatch")(this.props.contentIdentifier)),a.start()};d.$16=function(a){this.$4=b("containsNode")(b("UFI2ActiveLayerMonitor").getLastActiveLayer(),a);var c=b("Parent").byClass(a,"uiScrollableAreaWrap"),d=c==null?"-44px 0px -"+b("getFBAlphaConsoleSize")().height+"px 0px":"0px";this.$3=b("observeIntersection")(a,this.$14,{root:c instanceof HTMLElement?c:null,rootMargin:d,threshold:j})};d.componentDidMount=function(){var a=this;this.props.subscriptionsHandler.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){a.$1="HIDDEN",a.$13()}),b("UFI2UserActivityMonitor").subscribe(this.$17),b("UFI2ActiveLayerMonitor").subscribe(this.$12));var c=this.props.domAttachmentEventEmitter;c&&this.props.subscriptionsHandler.addSubscriptions(c.addListener("inserted",function(){var b=a.$5;if(b==null)return;a.$2&&(a.$2.remove(),delete a.$2);a.$3&&a.$3.remove();a.$16(b)}))};d.componentWillUnmount=function(){this.$1="HIDDEN",this.$2&&(this.$2.remove(),delete this.$2),this.$3&&(this.$3.remove(),delete this.$3),this.$13()};d.render=function(){var a=this.$8;return i.jsx(a,{ref:this.$15,children:this.props.children})};return c}(i.Component);e.exports=b("injectSubscriptionsHandler.react")(a)}),null);
__d("isCometCommentFresh",["CometRelay","isCometCommentFresh_comment.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a,c){a=b("CometRelay").readInlineData(g!==void 0?g:g=b("isCometCommentFresh_comment.graphql"),a);return(a==null?void 0:a.is_created_from_subscription)===!0||c!=null&&(a==null?void 0:a.created_time)!=null&&(a==null?void 0:a.created_time)>c}}),null);
__d("makeUFI2HighlightedComment",["requireCond","Event","React","debounceAcrossTransitions","getReactComponentDisplayName","ifRequired","injectSubscriptionsHandler.react","joinClasses","useVisibilityObserver","cr:880930"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useCallback,i=5e3,j=400;function k(a){var c=a.children,d=a.onHidden,e=a.onVisible,f=a.handleRef,i=b("useVisibilityObserver")({onHidden:d,onVisible:e});a=h(function(a){f(a),i(a)},[f,i]);return g.jsx("div",{ref:a,children:c})}function a(a){var c=b("getReactComponentDisplayName")(a),d=function(d){babelHelpers.inheritsLoose(c,d);function c(){var a;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];a=d.call.apply(d,[this].concat(e))||this;a.hasScrolled=!1;a.state={hasCompleted:!1,hasHighlightApplied:!0,highlightClassName:b("cr:880930")?b("cr:880930")(!0):""};a.$1=function(b){a.node=b};a.onScrollableScroll=function(){a.hasScrolled=!0;if(a.visibleAt!=null){var b=Date.now();a.visibleAt+i<b?(a.onScrollStopDebounced.reset(),a.applyHighlightClass()):a.onScrollStopDebounced()}};a.onVisible=function(){a.visibleAt==null&&(a.visibleAt=Date.now(),a.hasScrolled||a.onScrollableScroll())};a.onHidden=function(){a.visibleAt!=null&&delete a.visibleAt,a.onScrollStopDebounced.reset()};a.onScrollStop=function(){a.applyHighlightClass()};a.removeWindowScroll=function(){a.windowSubscription&&(a.windowSubscription.remove(),delete a.windowSubscription)};a.onScrollStopDebounced=b("debounceAcrossTransitions")(a.onScrollStop,j,!1);a.windowSubscription=b("Event").listen(a.getScrollableElement(),"scroll",a.onScrollableScroll);a.props.subscriptionsHandler.addSubscriptions({remove:a.removeWindowScroll},a.onScrollStopDebounced);return a}var e=c.prototype;e.getScrollableElement=function(){var a=this;return b("ifRequired")("ScrollableArea",function(b){if(a.node){b=b.getInstance(a.node);if(b)return b.getElement()}return window},function(){return window})};e.componentWillUnmount=function(){this.props.subscriptionsHandler.release()};e.render=function(){return g.jsx(k,{handleRef:this.$1,onHidden:this.state.hasCompleted?void 0:this.onHidden,onVisible:this.state.hasCompleted?void 0:this.onVisible,children:g.jsx(a,babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,this.state.highlightClassName),hasHighlightApplied:this.state.hasHighlightApplied,isHighlightable:!0}))})};e.applyHighlightClass=function(){this.state.hasCompleted||(this.removeWindowScroll(),this.setState({hasCompleted:!0}),this.setState({hasHighlightApplied:!1,highlightClassName:b("cr:880930")?b("cr:880930")(!1):""}))};return c}(g.Component);d.displayName="makeUFI2HighlightedComment("+c+")";return b("injectSubscriptionsHandler.react")(d)}e.exports=a}),null);
__d("CometUFIComment.react",["BaseScrollableAreaContext","CometBackupPlaceholder.react","CometErrorBoundary.react","CometFeedStoryUFICommentAttachments.react","CometFeedVisitationContext","CometPlaceholder.react","CometProgressIndicator.react","CometRelay","CometScrollAnchorContext","CometTrackingNodeProvider.react","CometUFICommentActionLinks.react","CometUFICommentBody.react","CometUFICommentMenuButton.react","CometUFICommentRow.react","FBLogger","React","UFI2CommentTopReactionsWrapper.react","UFI2Config","UFI2VPVDLoggedComponent.react","UFICommonInteractionEvents","UFICommonInteractionLogger","UFIODSLogger","emptyFunction","getElementRect","getViewportDimensions","gkx","isCometCommentFresh","makeUFI2HighlightedComment","recoverableViolation","scrollIntoView","stylex","useCometScrollAnchor","usePrevious","useSuspenseTransition","CometUFIComment_comment.graphql","CometUFIComment_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i,aa=b("CometFeedVisitationContext").useCometFeedVisitationContext,j=(a=b("CometRelay")).MatchContainer;a.graphql;var ba=a.useFragment,ca=a.useRefetchableFragment,da=a.useRelayEnvironment,k=b("React");c=b("React");var l=c.useCallback,m=c.useContext,n=c.useEffect,o=c.useRef,ea=c.useState,fa=b("useCometScrollAnchor").useCometScrollAnchor,p={behavior:"smooth"},ga={timeoutMs:1e4},ha=b("makeUFI2HighlightedComment")(b("CometUFICommentBody.react")),ia=b("makeUFI2HighlightedComment")(b("CometUFICommentRow.react"));function q(a){var c=a.attached_story,d=a.attachments;a=a.id;if(c!=null)return!b("UFI2Config").shouldUseSimplifiedAttachments;if(d.length===0)return!1;c=d[0].style_list;if(c==null){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",(d=a)!=null?d:"UNKNOWN").mustfix("Encountered a null `style_list` property while trying to determine if a comment attachment is renderable. Investigate why.");return!1}if(c.includes("COMMENT_MESSAGE_INFO"))return!1;if(b("UFI2Config").shouldUseSimplifiedAttachments)for(var a=c,d=Array.isArray(a),c=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(d){if(c>=a.length)break;e=a[c++]}else{c=a.next();if(c.done)break;e=c.value}e=e;if(b("UFI2Config").attachmentStylesToSimplify.includes(e))return!1}return!0}var r={aero:{opacity:"qwwmc0zo"},content:{display:"j83agx80",maxWidth:"bvz0fpym",wordWrap:"c1et5uql"},contentWithMenu:{display:"q9uorilb",verticalAlign:"sf5mxxl7"},fresh:{backgroundColor:"is6700om",bottom:"i09qtzwb",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",width:"dsl5tyj5"},freshDepth1:{start:"ghkatn0t"},freshDepth2:{start:"rn3csqz5"},menu:{display:"q9uorilb",verticalAlign:"sf5mxxl7",width:"pgctjfs5"},root:{position:"l9j0dhe7"}};function s(a){var c=a.comment,d=a.depth,e=a.disableFreshIndicator,f=a.domAttachmentEventEmitter,s=a.feedback,t=a.feedbackSource,u=a.feedLocation,v=a.isFreshIndicatorAlignedAtStart,w=a.isLocallyComposed,x=a.isHighlighted,y=a.logCommentViewportViewDuration,z=a.onEdit,A=a.onReplyToComment,B=a.onTranslated,ja=B===void 0?b("emptyFunction"):B;B=a.onUntranslated;var ka=B===void 0?b("emptyFunction"):B;B=a.popoverPosition;var C=a.showMenu,D=a.showReplyingToHeader,E=a.storyRenderLocation,F=a.topLevelFeedbackID,la=a.translationRequested,G=a.unpinTriggerRef,H=a.viewOption;a=a.xstyle;c=ca(g!==void 0?g:g=b("CometUFIComment_comment.graphql"),c);var I=c[0],ma=c[1],J=ba(h!==void 0?h:h=b("CometUFIComment_feedback.graphql"),s);c=l(function(a){a=k.Children.toArray(a);var c=I.feedback;if(c==null||I.optimistic_action!=null||I.optimistic_error!=null)return a;var d=a.slice(0,-1);a=a.slice(-1);c=k.jsx(b("UFI2CommentTopReactionsWrapper.react"),{avoidableElementBorderingBottom:oa,feedback:c,children:a});return k.Children.toArray([].concat(d,[c]))},[I]);s=b("useSuspenseTransition")(ga);var na=s[0],K=s[1],L=o(!1),M=l(function(a){if((I==null?void 0:I.translation_available_for_viewer)!==!0){b("recoverableViolation")("Unable to translate a comment that has no available translation","ufi2");return}na(function(){ma({translationType:a},{onComplete:function(){a==="MACHINE_TRANSLATION"?ja():(L.current=!0,ka())}})})},[I,ja,ka,ma,na]);n(function(){var a;if(la!==!0||(I==null?void 0:(a=I.preferred_body)==null?void 0:a.translation_type)==="MACHINE_TRANSLATION"||K===!0||L.current||(I==null?void 0:I.translation_available_for_viewer)!==!0)return;M("MACHINE_TRANSLATION")},[la,M,I,K,L]);s=l(function(){var a;a=(a=I.preferred_body)==null?void 0:a.translation_type;a=a==="MACHINE_TRANSLATION"?"ORIGINAL":"MACHINE_TRANSLATION";M(a)},[I.preferred_body,M]);var oa=o(null),N=aa();N=N.feedLastVisitTime;var O=da(),pa=(I==null?void 0:I.id)!=null?"`CometUFIComment` experienced a fatal error rendering a comment with ID "+(I==null?void 0:I.id)+".":"`CometUFIComment` experienced a fatal error rendering a comment without ID.",P=ea(!1),Q=P[0],R=P[1];P=l(function(a){R(!0)},[]);var qa=l(function(a){R(!1)},[]),ra=l(function(a){Q||R(!0)},[Q]),S=b("usePrevious")(I.optimistic_action);n(function(){if(I.client_id!=null&&I.optimistic_action==null&&I.optimistic_error==null&&(S==="ADD"||S==="EDIT")){var a=I.client_id+(S==="ADD"?b("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT:b("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT_EDIT);b("UFICommonInteractionLogger").endInteraction(a)}},[I.client_id,I.optimistic_action,I.optimistic_error,S]);n(function(){t===1&&(d===0?b("UFIODSLogger").bump("comment.newsfeed.toplevel.componentDidMount","comet"):b("UFIODSLogger").bump("comment.newsfeed.replies.componentDidMount","comet"))},[]);n(function(){if(I.client_id!=null&&(I.optimistic_action==="ADD"||I.optimistic_action==="EDIT")){var a=I.client_id;b("UFICommonInteractionLogger").endInteraction(a+(I.optimistic_action==="ADD"?b("UFICommonInteractionEvents").COMET_UFI_OPTIMISTIC_COMMENT:b("UFICommonInteractionEvents").COMET_UFI_OPTIMISTIC_COMMENT_EDIT));I.optimistic_error!=null&&b("UFICommonInteractionLogger").endInteraction(a+(I.optimistic_action==="ADD"?b("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT:b("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT_EDIT),!0)}},[]);var T=m(b("BaseScrollableAreaContext")),U=T.length>0,V=fa("ufi-comment",U?"FIXME_T68750863":I.legacy_fbid,p),sa=o(!1),W=m(b("CometScrollAnchorContext"));n(function(){if(U&&sa.current===!1&&((W==null?void 0:W.key)==="ufi-comment"||(W==null?void 0:W.key)==="ufi-reply")&&(W==null?void 0:W.value)!=null&&(W==null?void 0:W.value)===I.legacy_fbid){var a=V.current;a!=null&&(sa.current=!0,b("scrollIntoView")(a,babelHelpers["extends"]({},p,{verticalAlign:"center"})))}},[I.legacy_fbid,U,V,W]);n(function(){if(I.client_id!=null&&(I.optimistic_action==="ADD"||I.optimistic_action==="EDIT")&&(V.current!=null&&b("gkx")("1347892")&&V.current instanceof Element)){var a=b("getElementRect")(V.current),c=b("getViewportDimensions")();a=a.height>0&&c.height>0&&a.bottom>0&&a.top<c.height;if(!a){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",(c=J.id)!=null?c:"UNKNOWN").warn("Optimistic comment was rendered outside of the viewport on %s!",I.optimistic_action)}}},[]);T=I.author;var X=I.id;if(T==null){var Y;b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",(Y=X)!=null?Y:"UNKNOWN").mustfix("CometUFIComment: Cant render comment without author");return null}if(X==null){b("FBLogger")("ufi2").mustfix("CometUFIComment: Cant render comment without an id");return null}Y=(Y=J.viewer_actor)==null?void 0:Y.id;var Z=x&&!I.preferred_body,$=x?ha:b("CometUFICommentBody.react");Z=Z?ia:b("CometUFICommentRow.react");$=k.jsx($,{comment:I,isHighlighted:x,isLocallyComposed:w,showReplyingToHeader:D},X);x=q(I)&&k.jsx(b("CometPlaceholder.react"),{fallback:b("CometProgressIndicator.react")!=null?k.jsx("div",{style:{paddingLeft:10},children:k.jsx(b("CometProgressIndicator.react"),{})}):null,children:k.jsx(b("CometFeedStoryUFICommentAttachments.react"),{actorID:Y,comment:I,feedbackSource:t,storyRenderLocation:E})},X+"_attachment_placeholder");D=k.jsx(b("CometUFICommentActionLinks.react"),{actionLinksListRef:oa,comment:I,depth:d,environment:O,feedLocation:u,feedback:J,feedbackSource:t,handleOnReply:A,handleTranslationClick:s,hasRemovableAttachment:q(I)&&I.can_viewer_disable_preview===!0,isFetchingTranslation:K,unpinTriggerRef:G,viewOption:H});A=Boolean((E=C)!=null?E:!0)?k.jsx(b("CometUFICommentMenuButton.react"),{comment:I,feedLocation:u,feedbackSource:t,onEdit:z,popoverPosition:B,topLevelFeedbackId:(O=F)!=null?O:null,visible:Q&&!I.optimistic_error}):null;G=e!==!0&&(w||b("isCometCommentFresh")(I,(s=N)!=null?s:void 0));u=(E=I==null?void 0:(H=I.attachments)==null?void 0:(C=H[0])==null?void 0:C.style_list)!=null?E:[];z=!u.some(function(a){return["chat_command_result","TIP_JAR_PAYMENT"].includes(a)});B=z||!I.preferred_body?c([$,x]):[].concat(c([$]),[x]);F=B[0];O=B.slice(1);e=k.jsxs(k.Fragment,{children:[k.jsxs(Z,{actor:T,className:(i||(i=b("stylex")))(r.root,I.spam_display_mode!=="none"&&r.aero,a),comment:I,"data-testid":void 0,depth:d,displayPresence:T.id!==Y,onMouseEnter:P,onMouseLeave:qa,onMouseMove:ra,root:V,showWarning:Boolean(I.optimistic_error),children:[G?k.jsx("div",{className:(i||(i=b("stylex")))(r.fresh,d===1&&v===!0?r.freshDepth1:null,d===2&&v===!0?r.freshDepth2:null)}):null,k.jsxs("div",{children:[k.jsx("div",{className:i(r.content,r.contentWithMenu),children:F}),A!=null&&k.jsx("div",{className:(i||(i=b("stylex")))(r.menu),children:A})]}),O.length>0&&k.jsx("div",{className:(i||(i=b("stylex")))(r.content),children:O}),D,k.jsx(b("CometPlaceholder.react"),{fallback:null,children:k.jsx(j,{match:I.work_answered_event_comment_renderer,props:{data:I}})})]}),k.jsx(b("CometBackupPlaceholder.react"),{fallback:k.jsx("div",{"aria-busy":"true"}),children:k.jsx(j,{match:I.inline_survey_config,props:{inlineSurveyConfig:I.inline_survey_config}})})]});y!=null&&(e=k.jsx(b("UFI2VPVDLoggedComponent.react"),{contentIdentifier:X,domAttachmentEventEmitter:f,onLogDuration:y,children:e}));return k.jsx(b("CometErrorBoundary.react"),{context:{project:"ufi2"},description:pa,children:k.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:25,children:e})})}e.exports=function(a){return k.jsx(b("CometBackupPlaceholder.react"),{fallback:null,children:k.jsx(s,babelHelpers["extends"]({},a))})}}),null);
__d("CometUFIAccessibleCommentsHeading.react",["fbt","BaseAccessibleElement_DEPRECATED.react","BaseHeading.react","React"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(){return h.jsx(b("BaseAccessibleElement_DEPRECATED.react"),{children:h.jsx(b("BaseHeading.react"),{children:g._("Comments")})})}}),null);
__d("CometUFICommentActorAMAQuestionAnswerBadge_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentActorAMAQuestionAnswerBadge_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"question_and_answer_type",storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentActorLinkBadges_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentActorLinkBadges_comment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[{kind:"InlineFragment",selections:a,type:"User",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_constituent_badge",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentActorGroupMemberBadge_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentActorConstituentBadge_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentActorGroupMemberAuthorBadge_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentActorAMAQuestionAnswerBadge_comment"},{args:null,kind:"FragmentSpread",name:"GeminiUFICommentActorDeactivatedAccountBadge_comment"}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentActorName_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentActorName_comment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentActorLink_comment"}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentBodyStandaloneEmoji_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"translationType"}],kind:"Fragment",metadata:null,name:"CometUFICommentBodyStandaloneEmoji_comment",selections:[{alias:null,args:[{kind:"Variable",name:"translation_type",variableName:"translationType"}],concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentBody_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"translation_type",variableName:"translationType"}];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"translationType"}],kind:"Fragment",metadata:null,name:"CometUFICommentBody_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentBodyTextWithEntities_textWithEntities"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextWithEntities",abstractKey:null}],storageKey:null},{alias:"body_renderer",args:a,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[{kind:"InlineFragment",selections:[{documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp_in_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"written_while_video_was_live",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_ama_answer_status",storageKey:null},{args:[{kind:"Variable",name:"translationType",variableName:"translationType"}],kind:"FragmentSpread",name:"CometUFICommentBodyStandaloneEmoji_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentActorName_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentActorLinkBadges_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentWorkActorLinkBadges_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentIdentityBadges_comment"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null}]}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentIdentityBadges_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"feed_location",variableName:"feedLocation"}];return{argumentDefinitions:[{kind:"RootArgument",name:"feedLocation"}],kind:"Fragment",metadata:null,name:"CometUFICommentIdentityBadges_comment",selections:[{alias:null,args:a,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"identity_badge_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometIdentityBadges_identityBadge"},{args:null,kind:"FragmentSpread",name:"CometIdentityBadgeInformationDialog_identityBadge"}],storageKey:null},{alias:null,args:a,kind:"ScalarField",name:"can_show_multiple_identity_badges",storageKey:null}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometFeedStoryUFICommentAttachment_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryUFICommentAttachment_attachment",selections:[{alias:"style_type_renderer_comet",args:[{kind:"Literal",name:"supported",value:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentQuiltImageStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer"]}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnimatedImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentQuiltImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentQuiltImageStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAutoplayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoAutoplayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTipJarPaymentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPlaceInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommentPlaceInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentChatCommandStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPageInCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageInCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesTournamentActivityAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentActivityStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesUpdateCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesUpdateCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFISubscriptionGiftingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSubscriptionGiftStyleRenderer",abstractKey:null}],storageKey:'style_type_renderer(supported:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentQuiltImageStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer"])'}],type:"StoryAttachment",abstractKey:null};e.exports=a}),null);
__d("CometFeedStoryUFICommentAttachments_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryUFICommentAttachments_comment",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedStoryUFICommentAttachment_attachment"}],storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("UFI2PrivateReplyActionLink_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UFI2PrivateReplyActionLink_feedback",selections:[{args:null,kind:"FragmentSpread",name:"UFI2PrivateReplyLink_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("UFI2PrivateReplyLink_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[a];return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"UFI2PrivateReplyLink_feedback",selections:[{alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"page_private_reply",plural:!1,selections:[{alias:null,args:null,concreteType:"PageReplyableActivity",kind:"LinkedField",name:"activity",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:b,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permalink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_reply_permission",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_private_reply_nux",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:b,storageKey:null}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("UFIStopWatch",[],(function(a,b,c,d,e,f){"use strict";var g="COUNTING",h="PAUSED";a=function(){function a(){this.$1=h,this.$2=0,this.$3=0}var b=a.prototype;b.start=function(){if(this.$1===g)return this;this.$1=g;this.$3=Date.now();return this};b.pause=function(){if(this.$1===h)return this;this.$1=h;this.$2+=Date.now()-this.$3;return this};b.reset=function(){this.$2=0;this.$3=0;this.$1==g&&(this.$3=Date.now());return this};b.state=function(){return this.$1};b.milliseconds=function(){var a=0;this.$1===g&&(a=Date.now()-this.$3);return this.$2+a};b.getStartTime=function(){return this.$3};return a}();a.COUNTING=g;a.PAUSED=h;e.exports=a}),null);
__d("CometProgressRing.react",["CometProgressRingUtils","FocusWithinHandler.react","React","ariaGlimmerProps","performanceNavigationStart","recoverableViolation","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=2;function a(a){var c=a.beginningPercentage,d=a.color,e=a.duration,f=a.explicitStartTime,k=a.onComplete,l=a.pause,m=a.percentage,n=a.size,o=a.type;o!=="default"&&m!=null&&b("recoverableViolation")("percentage should only be applied to default type","comet_ui");var p=g.useRef(null),q=g.useRef(null),r=g.useRef(null),s=g.useRef(null),t=g.useRef(null);a=g.useState(!0);var u=a[0],v=a[1];a=i(o,m,c);c=a.completedPercentage;var w=a.finalPercentage;a=a.startPercentage;var x=g.useRef(a),y=g.useRef(w),z=g.useRef(c);a=b("CometProgressRingUtils").getRingColor(d);var A=a.backgroundColor,B=a.foregroundColor,C=b("CometProgressRingUtils").getCubicBezierPercentageFunc(.45,0,.25,.85),D=g.useCallback(function(a){var c=q.current,d=r.current;if(c==null||d==null)return;if(!(c instanceof SVGSVGElement)||!(d instanceof SVGSVGElement))return;if(o==="default"&&l===!0)return;t.current==null&&(t.current=f!=null?f-b("performanceNavigationStart")():a);if(o==="estimated")if(z.current>75)z.current+=.3*Math.pow((100-z.current)/50,2);else{var g=(a-t.current)/e/1e3;g=C(g);z.current=g*75}else if(o==="default"&&z.current<y.current){g=(a-t.current)/1e3/e*100;z.current=Math.min(g,100)}else if(o==="count-down"&&z.current>y.current){g=(a-t.current)/1e3/e*100;z.current=x.current-g;z.current=Math.max(z.current,0)}a=Math.max(0,Math.min(100,z.current))/100*360;c.style.transform="rotate("+Math.min(a,180)+"deg)";d.style.transform="rotate("+Math.max(a-180,0)+"deg)";j(o,z.current,m)?(window.cancelAnimationFrame(s.current),c.style.opacity="0",d.style.opacity="0",t.current=null,s.current=null,p.current instanceof SVGSVGElement&&(p.current.style.opacity="0"),k&&k()):s.current=window.requestAnimationFrame(D)},[e,f,C,k,l,m,o]);g.useLayoutEffect(function(){u&&v(!u)},[u]);g.useEffect(function(){if(window.requestAnimationFrame!=null){s.current=window.requestAnimationFrame(D);return function(){s.current!=null&&(t.current=null,window.cancelAnimationFrame(s.current),s.current=null)}}},[n,D]);var E=(n-h)*Math.PI;return g.useMemo(function(){return g.jsx(b("FocusWithinHandler.react"),{children:function(a,c){return g.jsxs("div",babelHelpers["extends"]({},b("ariaGlimmerProps"),{"aria-valuenow":o==="default"&&m!=null?m:void 0,className:"l9j0dhe7"+(c?"":" lzcic4wl"),style:{height:n,width:n},children:[g.jsx("svg",{className:"kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb",height:n,ref:p,viewBox:"0 0 "+n+" "+n,width:n,children:g.jsx("circle",{cx:n/2,cy:n/2,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:(n-h)/2,stroke:A,strokeLinecap:"round",strokeWidth:h})}),g.jsx("div",{className:"kr520xx4 kfkz5moi pmk7jnqg stjgntxs ni8dbmo4 n7fi1qx3 i09qtzwb",children:g.jsx("svg",{className:"ibn2g74t s084nw3x kr520xx4 pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb",height:n,ref:q,viewBox:"0 0 "+n+" "+n,width:n,children:g.jsx("circle",{cx:n/2,cy:n/2,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:(n-h)/2,stroke:B,strokeDasharray:E/2,strokeDashoffset:3*E/4,strokeWidth:h,style:{visibility:u?"hidden":void 0}})})}),g.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg stjgntxs ni8dbmo4 oi4qjx4h i09qtzwb",children:g.jsx("svg",{className:"ibn2g74t n1wid1uc kr520xx4 j9ispegn pmk7jnqg rq0escxv i09qtzwb",height:n,ref:r,viewBox:"0 0 "+n+" "+n,width:n,children:g.jsx("circle",{cx:n/2,cy:n/2,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:(n-h)/2,stroke:B,strokeDasharray:E/2,strokeDashoffset:E/4,strokeWidth:h,style:{visibility:u?"hidden":void 0}})})})]}))}})},[o,m,n,A,B,E,u])}function i(a,b,c){switch(a){case"default":return{completedPercentage:(a=c)!=null?a:0,finalPercentage:(a=b)!=null?a:100,startPercentage:(b=c)!=null?b:0};case"count-down":return{completedPercentage:100,finalPercentage:0,startPercentage:100};case"estimated":return{completedPercentage:0,finalPercentage:75,startPercentage:0};default:return{completedPercentage:0,finalPercentage:0,startPercentage:0}}}function j(a,b,c){return a==="count-down"?b<=0||b>100:b>=((a=c)!=null?a:100)}}),null);
__d("CometUFICommentActorAMAQuestionAnswerBadge.react",["fbt","CometRelay","React","TetraText.react","recoverableViolation","stylex","CometUFICommentActorAMAQuestionAnswerBadge_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React");function a(a){a=a.comment$key;a=b("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentActorAMAQuestionAnswerBadge_comment.graphql"),a);a=a.question_and_answer_type;if(a==null)return null;return a!=="AUTHOR"?b("recoverableViolation")("AMA comment badge received deprecated value "+a+" rather than 'AUTHOR'","covid19_ama"):i.jsx("div",{className:"b3onmgus e5nlhep0 ph5uu5jm ecm0bbzt kkf49tns q9uorilb bnpdmtie qttc61fc ihh4hy1g kdgqqoy6 jk6sbkaj cwj9ozl2",children:i.jsx(b("TetraText.react"),{color:"secondary",type:"bodyLink4",children:g._("Author")})})}}),null);
__d("CometUFICommentActorLinkBadges.react",["CometPlaceholder.react","CometRelay","deferredLoadComponent","requireDeferred","CometUFICommentActorAMAQuestionAnswerBadge.react","React","CometUFICommentActorLinkBadges_comment.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=(c=b("deferredLoadComponent"))((d=b("requireDeferred"))("CometUFICommentActorGroupMemberBadge.react")),i=c(d("CometUFICommentActorVerifiedBadge.react")),j=c(d("CometUFICommentActorConstituentBadge.react")),k=c(d("CometUFICommentActorGroupMemberAuthorBadge.react")),l=b("React");function a(a){var c;a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometUFICommentActorLinkBadges_comment.graphql"),a.comment);c=(a==null?void 0:(c=a.author)==null?void 0:c.is_verified)===!0;var d=(a==null?void 0:a.has_constituent_badge)===!0;return l.jsxs(l.Fragment,{children:[d&&l.jsx(b("CometPlaceholder.react"),{fallback:l.jsx("span",{}),children:l.jsx(j,{comment:a})},"constituentBadge"),c&&l.jsx(b("CometPlaceholder.react"),{fallback:l.jsx("span",{}),children:l.jsx(i,{})},"verifiedBadge"),a!=null&&l.jsx(b("CometPlaceholder.react"),{fallback:l.jsx("span",{}),children:l.jsx(h,{comment$key:a})},"groupMemberBadge"),l.jsx(b("CometPlaceholder.react"),{fallback:l.jsx("span",{}),children:l.jsx(k,{comment$key:a})},"groupMemberAuthorBadge"),l.jsx(b("CometPlaceholder.react"),{fallback:l.jsx("span",{}),children:l.jsx(b("CometUFICommentActorAMAQuestionAnswerBadge.react"),{comment$key:a})},"amaAnswerBadge")]})}}),null);
__d("CometUFICommentActorName.react",["CometRelay","CometUFICommentActorLink.react","React","TetraText.react","stylex","CometUFICommentActorName_comment.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometUFICommentActorName_comment.graphql"),a.comment);var c=a.author;return c==null||a==null?null:h.jsx(b("CometUFICommentActorLink.react"),{comment$key:a,kind:"link",children:h.jsx("span",{className:"pq6dq46d",children:h.jsx(b("TetraText.react"),{color:(c==null?void 0:(a=c.work_info)==null?void 0:a.is_active_account)===!1?"secondary":void 0,type:"bodyLink4",children:c.name})})})}}),null);
__d("CometUFICommentBodyStandaloneEmoji.react",["CometEmojiTransform","CometEmoticonTransform","CometLineBreakTransform","CometRelay","CometTextWithEntitiesRelay.react","React","stylex","CometUFICommentBodyStandaloneEmoji_comment.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=[b("CometEmoticonTransform")({size:32}),b("CometEmojiTransform")({size:32}),b("CometLineBreakTransform")];function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometUFICommentBodyStandaloneEmoji_comment.graphql"),a.comment);return h.jsx("span",{className:"aahdfvyu q9uorilb","data-testid":void 0,children:a.preferred_body!=null?h.jsx(b("CometTextWithEntitiesRelay.react"),{maxLength:420,maxLines:3,textWithEntities:a.preferred_body,transforms:i,truncationStyle:"see-more",withLineBreaks:!0,withParagraphs:!0}):null})}}),null);
__d("CometUFICommentIdentityBadges.react",["CometIdentityBadges.react","CometLazyDialogTrigger.react","CometLink.react","CometRelay","IdentityBadgeUtils","JSResource","React","gkx","stylex","CometUFICommentIdentityBadges_comment.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=b("JSResource")("CometIdentityBadgeInformationDialog.react").__setRef("CometUFICommentIdentityBadges.react");function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometUFICommentIdentityBadges_comment.graphql"),a.comment);var c=a==null?void 0:a.can_show_multiple_identity_badges;a=a==null?void 0:a.identity_badges_web;if(a==null||c==null)return null;var d=a.filter(function(a){a=a.identity_badge_type;return a==null?!1:b("IdentityBadgeUtils").isBadgeTypeEligible(a)});if(d.length===0)return null;var e=d.length===1||!(c===!0&&b("gkx")("890475"));return h.jsx(b("CometLazyDialogTrigger.react"),{dialogProps:{badges:d},dialogResource:i,children:function(a,f){return h.jsx(b("CometLink.react"),{"aria-label":"Identity Badges",onClick:a,ref:f,children:h.jsx("div",{className:"tvmbv18p j83agx80 bp9cbjyn",children:e?h.jsx(b("CometIdentityBadges.react"),{canShowMultipleBadges:c,extraCount:d.length-1,identityBadge:d[0],shouldAppendText:!0}):d.map(function(a){return h.jsx(b("CometIdentityBadges.react"),{canShowMultipleBadges:c,extraCount:0,identityBadge:a,shouldAppendText:!1},a.identity_badge_type)})})})}})}}),null);
__d("CometUFITimestampedCommentsContext.react",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(null);e.exports=c}),null);
__d("CometUFICommentBody.react",["fbt","CometRelay","CometUFICommentActorLinkBadges.react","CometUFICommentActorName.react","CometUFICommentBodyStandaloneEmoji.react","CometUFICommentBodyTextWithEntities.react","CometUFICommentIdentityBadges.react","CometUFITimestampedCommentsContext.react","React","TetraText.react","isStandaloneEmoji","requireCond","stylex","cr:1347004","CometUFICommentBody_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=b("React");function a(a){var c,d=b("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentBody_comment.graphql"),a.comment),e=a.hasHighlightApplied,f=a.isHighlightable,k=a.isHighlighted,l=a.isLocallyComposed;a=a.showReplyingToHeader;c=b("isStandaloneEmoji")(d==null?void 0:(c=d.preferred_body)==null?void 0:c.text);var m=d.preferred_body;l=c?j.jsx("div",{children:j.jsx(b("CometUFICommentBodyStandaloneEmoji.react"),{comment:d})}):(m==null?void 0:m.__typename)==="TextWithEntities"?j.jsx(b("CometUFICommentBodyTextWithEntities.react"),{isHighlighted:k,isLocallyComposed:l,textWithEntities:m}):j.jsx(b("CometRelay").MatchContainer,{fallback:null,match:d.body_renderer,props:{isHighlighted:k}});k=(m=d==null?void 0:(m=d.comment_parent)==null?void 0:(k=m.author)==null?void 0:k.short_name)!=null?m:d==null?void 0:(k=d.comment_parent)==null?void 0:(m=k.author)==null?void 0:m.name;m=j.useContext(b("CometUFITimestampedCommentsContext.react"));m=m==null?null:j.jsx(m,{timestamp:d.timestamp_in_video,writtenWhileLive:!!d.written_while_video_was_live});var n=Boolean(d.body_renderer),o=d.work_ama_answer_status==="ANSWERED";return j.jsxs("div",{className:(i||(i=b("stylex"))).dedupe({"background-color-1":"b3i9ofy5","border-top-start-radius-1":"e72ty7fz","border-top-end-radius-1":"qlfml3jp","border-bottom-end-radius-1":"inkptoze","border-bottom-start-radius-1":"qmr60zad","box-sizing-1":"rq0escxv","color-1":"oo9gr5id","display-1":"q9uorilb","margin-top-1":"kvgmc6g5","margin-end-1":"cxmmr5t8","margin-bottom-1":"oygrvhab","margin-start-1":"hcukyx3x","max-width-1":"d2edcug0","overflow-wrap-1":"jm1wdb64","position-1":"l9j0dhe7","white-space-1":"l3itjdph","word-break-1":"qv66sw1b"},n?null:{"background-color-1":"g5ia77u1"},f?{"transition-duration-1":"mi9thwiq","transition-property-1":"pnx7fd3z","transition-timing-function-1":"heur4gxb"}:null,e?{"background-color-1":"b8zhkkm9","transition-delay-1":"lxbcnve3","transition-duration-1":"akwz6i9j"}:null,c?{"background-color-1":"g5ia77u1"}:null,d.work_ama_answer_status==="ANSWERING_NOW"?{"background-color-1":"b8zhkkm9","border-top-0.3":"al5e1bck","border-end-0.3":"dnrdovi6","border-bottom-0.3":"i7lnijfl","border-start-0.3":"c31yq5mp"}:null),"data-testid":void 0,children:[j.jsxs("div",{className:"tw6a2znq sj5x9vvc d1544ag0 cxgpxx05",children:[j.jsx(b("CometUFICommentIdentityBadges.react"),{comment:d}),a!==!0||k==null?null:j.jsx("div",{className:"ecm0bbzt e5nlhep0",children:j.jsx(b("TetraText.react"),{numberOfLines:1,type:"meta1",children:g._("Replying to {name}",[g._param("name",k)])})}),j.jsx(b("CometUFICommentActorName.react"),{className:"lrazzd5p"+(d.is_author_weak_reference?" shfzb974":""),comment:d}),j.jsx(b("CometUFICommentActorLinkBadges.react"),{comment:d}),b("cr:1347004")!=null?j.jsx(b("cr:1347004"),{comment:d}):null,m,d.body_renderer!=null?j.jsx("div",{className:"ecm0bbzt e5nlhep0 a8c37x1j",children:j.jsx(b("TetraText.react"),{color:o?"disabled":null,type:"body3",children:(d==null?void 0:d.spam_display_mode)==="none"?l:g._("This comment has been hidden.")})}):null]}),Boolean(d.optimistic_error)?j.jsx("span",{className:"kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 a8c37x1j rm7oo3ik i09qtzwb qmr60zad inkptoze qlfml3jp e72ty7fz czm2i3kx hxpkjkow m2wu88kb pmg7q2s5",children:"\xa0"}):null]})}a.displayName="CometUFICommentBody"}),null);
__d("CometFeedStoryUFICommentAttachment.react",["CometRelay","React","CometFeedStoryUFICommentAttachment_attachment.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function a(a){var c=a.actorID,d=a.attachment;a=a.storyRenderLocation;d=d.style_type_renderer_comet;return d!=null?h.jsx(b("CometRelay").MatchContainer,{match:d,props:{actorID:c,storyRenderLocation:a}}):null}c=b("CometRelay").createSuspenseFragmentContainer_DEPRECATED(a,{attachment:g!==void 0?g:g=b("CometFeedStoryUFICommentAttachment_attachment.graphql")});e.exports=c}),null);
__d("CometFeedStoryUFICommentAttachments.react",["CometFeedStoryUFICommentAttachment.react","CometRelay","React","CometFeedStoryUFICommentAttachments_comment.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function a(a){var c=a.comment;a=babelHelpers.objectWithoutPropertiesLoose(a,["comment"]);c=c.attachments[0];return c==null?null:h.jsx(b("CometFeedStoryUFICommentAttachment.react"),babelHelpers["extends"]({attachment:c},a))}c=b("CometRelay").createSuspenseFragmentContainer_DEPRECATED(a,{comment:g!==void 0?g:g=b("CometFeedStoryUFICommentAttachments_comment.graphql")});e.exports=c}),null);
__d("CloseButton.react",["cx","fbt","CloseButtonIcon","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.size||"medium",d=a.appearance||"normal",e=c==="small";c=c==="huge";var f=d==="dark";d=d==="inverted";var g=a.ajaxify||null,j=a.rel||null;c="uiCloseButton"+(e?" uiCloseButtonSmall":"")+(c?" uiCloseButtonHuge":"")+(e&&f?" uiCloseButtonSmallDark":"")+(e&&d?" uiCloseButtonSmallInverted":"")+(!e&&f?" uiCloseButtonDark":"")+(!e&&d?" uiCloseButtonInverted":"");f=h._("Close");e=Object.assign({},this.props);delete e.size;delete e.appearance;delete e.ajaxify;delete e.tooltip;delete e.ariaLabel;return i.jsx("a",babelHelpers["extends"]({},e,{ajaxify:g,href:"#",role:"button",title:a.ariaLabel||f,"aria-label":a.ariaLabel||f,"data-hover":a.tooltip&&"tooltip","data-skipchecker":null,"data-tooltip-alignh":a.tooltip&&"center","data-tooltip-content":a.tooltip,className:b("joinClasses")(this.props.className,c),rel:j,children:i.jsx(b("Image.react"),{className:"uiCloseButtonHighContrast",src:b("CloseButtonIcon").icon})}))};return c}(i.Component);e.exports=a}),null);
__d("getFBAlphaConsoleSize",["ge"],(function(a,b,c,d,e,f){function a(){var a=b("ge")("alpha_console_container");if(a)return{height:a.offsetHeight,width:a.offsetWidth};else return{height:0,width:0}}e.exports=a}),null);
__d("injectSubscriptionsHandler.react",["React","SubscriptionsHandler","getReactComponentDisplayName"],(function(a,b,c,d,e,f){var g=b("React");function a(a){var c,d,e=b("getReactComponentDisplayName")(a);return d=c=function(c){"use strict";babelHelpers.inheritsLoose(d,c);function d(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.state={subscriptionsHandler:new(b("SubscriptionsHandler"))()},a)||babelHelpers.assertThisInitialized(d)}var e=d.prototype;e.componentWillUnmount=function(){this.state.subscriptionsHandler.release()};e.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.props,{subscriptionsHandler:this.state.subscriptionsHandler}))};return d}(g.Component),c.displayName="injectSubscriptionsHandler("+e+")",d}e.exports=a}),null);
__d("UFI2ComposerAction.react",["requireCond","cr:844029","React","UFI2TooltipCometCompatWrapper.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.state={initializeComponentClicked:!1,popoverShown:!1,shouldBeginBootloading:!1},d.$2=function(a){d.$1=!1,d.props.placeholder.props.onBlur&&d.props.placeholder.props.onBlur(a)},d.$3=function(a){d.$1=!0,d.$4(),d.props.placeholder.props.onFocus&&d.props.placeholder.props.onFocus(a)},d.$5=function(a){d.$4(),d.props.placeholder.props.onMouseUp&&d.props.placeholder.props.onMouseUp(a),d.setState(function(a){a=a.initializeComponentClicked;return{initializeComponentClicked:!a}})},d.$6=function(a){d.$4(),d.props.placeholder.props.onMouseOver&&d.props.placeholder.props.onMouseOver(a)},d.$7=function(a){if(a!=null&&d.$1){d.$1=!1;if(b("cr:844029")!=null)b("cr:844029").set(a,!0);else try{a.focus()}catch(a){}}},d.$8=function(a){d.setState({popoverShown:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(){this.state.shouldBeginBootloading||this.setState({shouldBeginBootloading:!0})};d.render=function(){var a=this.state,c=a.popoverShown;a=a.shouldBeginBootloading;var d=this.props,e=d.resource;d=d.label;var f=g.cloneElement(this.props.placeholder,{hasBeenClicked:this.state.initializeComponentClicked,onBlur:this.$2,onFocus:this.$3,onMouseOver:this.$6,onMouseUp:this.$5});return g.jsx(b("UFI2TooltipCometCompatWrapper.react"),{alignH:"center",delayMountUntilHover:!0,position:"above",tooltip:c?null:d,children:g.jsx(g.Suspense,{fallback:f,children:a?g.jsx(e,babelHelpers["extends"]({onFocusableElementRefChange:this.$7,onTogglePopover:this.$8},this.props.createComponentProps({clicked:this.state.initializeComponentClicked}))):f})})};return c}(g.Component);e.exports=a}),null);
__d("UFI2ComposerActionPlaceholder.react",["cx","requireCond","cr:1232139","React","UFI2LinkWrapper.react","cr:1232140"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=null;if(this.props.hasBeenClicked===!0){b("cr:1232140")!=null?a=h.jsx(b("cr:1232140"),{className:"_2wv6",size:"small"}):b("cr:1232139")!=null&&(a=h.jsx("div",{className:"_2wv6",children:h.jsx(b("cr:1232139"),{color:"disabled",duration:1.2,size:12,type:"estimated"})}));return a}return h.jsx(b("UFI2LinkWrapper.react"),{"aria-label":this.props.label,className:this.props.buttonClassName,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onMouseOver:this.props.onMouseOver,onMouseUp:this.props.onMouseUp,role:"button",children:h.jsx("div",{className:this.props.iconClassName})})};return c}(h.PureComponent);e.exports=a}),null);
__d("UFI2ComposerPreviewArea.react",["cx","CloseButton.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.children,d=a.className,e=a.onRemoveClick,f=a.removeButtonLabel;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","onRemoveClick","removeButtonLabel"]);return h.jsxs("div",babelHelpers["extends"]({},a,{className:b("joinClasses")(d,"_1llh"),children:[c,h.jsx(b("CloseButton.react"),{ariaLabel:f,className:"_1lli",onClick:e,tooltip:f})]}))}e.exports=a}),null);
__d("isUFI2ComposerStateEmpty",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.attachment;a=a.inputState;if(b!=null)return!1;switch(a.__type){case"editor-state-based":return!a.editorState.getCurrentContent().hasText();case"plain-text":return!(a.text&&a.text.trim().length);default:return a.__type}}e.exports=a}),null);
__d("isReactClassComponent",[],(function(a,b,c,d,e,f){function a(a){return Boolean(typeof a==="function"&&a.prototype&&a.prototype.isReactComponent)}e.exports=a}),null);
__d("withReparentingGuard",["React","getReactComponentDisplayName","isReactClassComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){function c(c){var d,e,f=b("isReactClassComponent")(c)?c:function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return g.jsx(c,babelHelpers["extends"]({},this.props))};return b}(g.Component),h;function i(b){b&&(h&&h!==b&&a(c),h=b)}var j=b("getReactComponentDisplayName")(c);return e=d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx(f,babelHelpers["extends"]({},this.props,{ref:i}))};return b}(g.Component),d.displayName="withReparentingGuard("+j+")",e}return c}e.exports=a}),null);
__d("createUFI2ComposerPlugin",["FBLogger","withReparentingGuard"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("withReparentingGuard")(function(a){var c;a=(c=(c=a.displayName)!=null?c:a.name)!=null?c:"Unknown";c="The UFI2 comment composer plugin that wraps the `"+a+"` component caused it to be reparented. Learn how to remedy this mustfix here: https://fburl.com/ufi-composer-plugins-must-never-reparent-wrapped-components";b("FBLogger")("ufi2").blameToPreviousFile().mustfix(c)})(a)}e.exports=a}),null);
__d("UFI2MediaUploadComposerAction.react",["cx","fbt","CometUFIActionsContext","Event","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","UFICommentFileInputAcceptValues","injectSubscriptionsHandler.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("CometUFIActionsContext").CometUFIActionsContext,j=b("React");c=b("React");var k=c.useCallback,l=c.useContext,m=c.useEffect,n=b("lazyLoadComponent")(b("JSResource")("UFI2MediaUploadButton.react").__setRef("UFI2MediaUploadComposerAction.react"));function a(a){var c=a.fileIsHoveringOverDropTarget,d=c===void 0?!1:c;c=a.hasErrored;var e=c===void 0?!1:c,f=a.onComposerStateChange,g=a.subscriptionsHandler,o=a.feedbackID;c=l(i);var p=c.registerUFIActions,q=k(function(a){var b=a.target.files.item(0);f(function(a){return babelHelpers["extends"]({},a,{attachment:{__type:"Media",reference:{__type:"File",file:b}}})})},[f]),r=k(function(){var a=document.createElement("input");a.setAttribute("accept",b("UFICommentFileInputAcceptValues").both);a.setAttribute("type","file");g.addSubscriptions(b("Event").listen(a,"change",q));a.click()},[g,q]);m(function(){if(o==null)return;var a=p(o,{uploadMedia:r});return function(){a&&a.dispose()}},[p,r,o]);var s=e?h._("There was a problem attaching the file, please try again"):h._("Attach a photo or video");return j.jsx(b("UFI2ComposerAction.react"),{createComponentProps:function(a){a=a.clicked;return{feedbackID:o,fileIsHoveringOverDropTarget:d,hasErrored:e,initialUploadDialogIsOpen:a,label:s,onComposerStateChange:f}},label:s,placeholder:j.jsx(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _7ja_",iconClassName:(d?"_3n42":"")+(!d&&!e?" _3n43":"")+(e?" _3nb4":""),label:s,onMouseUp:r}),resource:n})}e.exports=b("injectSubscriptionsHandler.react")(a)}),null);
__d("mimeTypeIsAcceptableToUFI2MediaUploadPlugin",["isMimeTypeForMedia"],(function(a,b,c,d,e,f){"use strict";var g=b("isMimeTypeForMedia").isMimeTypeForPhoto,h=b("isMimeTypeForMedia").isMimeTypeForVideo;function a(a){return g(a)||h(a)}e.exports=a}),null);
__d("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin",["mimeTypeIsAcceptableToUFI2MediaUploadPlugin"],(function(a,b,c,d,e,f){"use strict";function g(a){return a.kind==="file"&&b("mimeTypeIsAcceptableToUFI2MediaUploadPlugin")(a.type)}function a(a){var b=a.items;a=a.types;return b==null||a==null||Array.from(a).includes("Files")===!1?-1:Array.from(b).findIndex(function(a){return g(a)})}e.exports=a}),null);
__d("createUFI2MediaUploadComposerPlugin",["cx","fbt","Bootloader","ProgressBar.react","React","UFI2ComposerPreviewArea.react","UFI2MediaUploadComposerAction.react","createUFI2ComposerPlugin","ifRequired","indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin","injectSubscriptionsHandler.react","mimeTypeIsAcceptableToUFI2MediaUploadPlugin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a,b){a.inputProps.onComposerStateChange(function(){return{attachment:{__type:"Media",reference:{__type:"File",file:b}}}})}function k(a){return((a=a.attachment)==null?void 0:a.__type)==="Media"}function l(a,b,c){if(b==="ufi-commit"){var d=a.inputProps.composerState;d=d&&d.attachment&&d.attachment.__type==="Media"&&d.attachment.reference.__type;if(d==="File"||d==="UploadingFile")return"handled"}return a.inputProps.handleKeyCommand?a.inputProps.handleKeyCommand(b,c):"not-handled"}function a(a){return function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=e.call.apply(e,[this].concat(g))||this,d.$1=0,d.$2=!1,d.state={fileIsHoveringOverDropTarget:!1,upgradedPlugin:b("ifRequired")("getUpgradedUFI2MediaUploadComposerPlugin",function(b){return b(a)},function(){return null}),uploadError:null},d.$4=function(a){d.$1++;var c=a.dataTransfer;if(c==null)return;b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(c)!==-1&&(a.preventDefault(),d.$1>0&&d.setState({fileIsHoveringOverDropTarget:!0}))},d.$5=function(){d.$1--,d.$1===0&&d.setState({fileIsHoveringOverDropTarget:!1})},d.$7=function(a){var b=a.dataTransfer;b!=null&&d.$3(a,b);d.$1=0;d.setState({fileIsHoveringOverDropTarget:!1})},d.$8=function(a){if(a.isDefaultPrevented())return;var b=a.clipboardData;if(b==null)return;d.$3(a,b)},d.$9=function(a){a=a.find(function(a){return b("mimeTypeIsAcceptableToUFI2MediaUploadPlugin")(a.type)});if(a){j(d.props,new Blob([a],{type:a.type}));return"handled"}return"not-handled"},d.$10=function(){d.props.inputProps.onComposerStateChange(function(a){return{attachment:null}})},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.$3=function(a,c){if(c==null)return;var d=b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(c);if(d===-1)return;c=Array.from(c.items);c=d<c.length?c[d].getAsFile():null;c!=null&&(a.preventDefault(),j(this.props,c))};f.$6=function(a){var c=a.dataTransfer;if(c==null)return;b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(c)!==-1&&a.preventDefault()};f.$11=function(){var c=this;if(this.state.upgradedPlugin||this.$2)return;this.$2=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2MediaUploadComposerPlugin"],function(b){c.setState({upgradedPlugin:b(a)})},"createUFI2MediaUploadComposerPlugin"))};f.componentDidMount=function(){this.state.upgradedPlugin?this.state.upgradedPlugin.installPlugin(this.props,this.state,this.setState.bind(this)):this.$12()&&this.$11()};f.$12=function(){if(this.state.upgradedPlugin||this.$2)return!1;var a=this.props.inputProps.composerState;return a.attachment!=null&&a.attachment.__type==="Media"};f.componentDidUpdate=function(a,b){b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props,this.state,this.setState.bind(this)),this.state.upgradedPlugin?this.state.upgradedPlugin.componentDidUpdate(a,this.props,this.state,this.setState.bind(this)):this.$12()&&this.$11()};f.render=function(){var a=this;if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,this.state,this.setState.bind(this),this.$4,this.$5,this.$6,this.$7,l,this.$8,this.$9,c);var d=k(this.props.inputProps.composerState),e=i.jsx(c,babelHelpers["extends"]({},this.props,{actions:this.props.inputProps.composerState.attachment?this.props.actions:[].concat(this.props.actions,[i.jsx(b("UFI2MediaUploadComposerAction.react"),{feedbackID:this.props.inputProps.composerState.feedbackID,fileIsHoveringOverDropTarget:this.state.fileIsHoveringOverDropTarget,hasErrored:!1,onComposerStateChange:this.props.inputProps.onComposerStateChange},"mediaUploadComposerAction")]),inputProps:babelHelpers["extends"]({},this.props.inputProps,{handleKeyCommand:function(b,c){return l(a.props,b,c)},handlePastedFiles:this.$9})})),f=h._("Cancel upload");return i.jsxs("div",{className:"_25-w",onDragEnter:this.$4,onDragLeave:this.$5,onDragOver:this.$6,onDrop:this.$7,children:[e,d?i.jsx(b("UFI2ComposerPreviewArea.react"),{onRemoveClick:this.$10,removeButtonLabel:f,children:i.jsx(b("ProgressBar.react"),{label:h._("{value}\u0025",[h._param("value","0")]),value:0})}):null]})};return d}(i.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("createUFI2ComposerTipPlugin",["cx","React","createUFI2ComposerPlugin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return function(c){var d=function(d){babelHelpers.inheritsLoose(b,d);function b(){return d.apply(this,arguments)||this}var e=b.prototype;e.render=function(){if(this.props.inputProps.commentAction==="EDIT")return h.jsx(c,babelHelpers["extends"]({},this.props));var b=this.props.inputProps.isCommentDenied;return h.jsxs(h.Fragment,{children:[h.jsx(c,babelHelpers["extends"]({},this.props)),b!==!0&&h.jsx("div",{className:"_6g0t fcg fss",children:a.composer_tip})]})};return b}(h.Component);return b("createUFI2ComposerPlugin")(d)}}e.exports=a}),null);
__d("UFI2PrivateReplyLink.react",["fbt","invariant","ActorURI","Bootloader","React","UFI2CometRelayCreateFragmentContainer","UFI2LinkWrapper.react","UFI2PrimerDialogWrapper.react","UFI2TooltipCometCompatWrapper.react","XPagesMessagingPrivateReplyDialogController","UFI2PrivateReplyLink_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var k="private_reply",l=g._("Message");function a(a){var b,c;if(!m(a))return null;var d=(b=a.feedback.page_private_reply)==null?void 0:b.status;if(d==null)return null;b=a.WrapperComponent;switch(d){case"REPLYABLE":var e=(c=a.feedback.page_private_reply)==null?void 0:(c=c.activity)==null?void 0:c.id,f=(c=a.feedback.page_private_reply)==null?void 0:(c=c.activity)==null?void 0:c.type,g=a.feedbackSource,i=(c=a.feedback.page_private_reply)==null?void 0:(c=c.page)==null?void 0:c.id,k=(c=a.feedback.page_private_reply)==null?void 0:c.should_show_private_reply_nux;e!=null||h(0,5847);i!=null||h(0,5848);return j.jsx(b,{children:function(a){a=a.className;return j.jsx(p,{activityID:e,activityType:f,className:a,feedbackSource:g,pageID:i,shouldShowPrivateReplyNux:k})}});case"ALREADY_REPLIED":var l=(c=a.feedback.page_private_reply)==null?void 0:c.permalink;return l==null?null:j.jsx(b,{children:function(b){b=b.className;return j.jsx(q,{className:b,permalink:l,seeResponseLabel:a.seeResponseLabel})}});default:return j.jsx(b,{enabled:!1,children:function(b){var c;b=b.className;return j.jsx(r,{activityType:(c=a.feedback.page_private_reply)==null?void 0:(c=c.activity)==null?void 0:c.type,className:b,status:d})}})}}a.displayName="UFI2PrivateReplyLink";function m(a){var b,c;a=a.feedback;if(!a)return!1;b=(b=a.page_private_reply)==null?void 0:b.has_reply_permission;c=(c=a.viewer_actor)==null?void 0:c.id;a=(a=a.page_private_reply)==null?void 0:(a=a.page)==null?void 0:a.id;return b===!0&&c!=null&&c===a}function n(a){switch(a){case"COMMENT_PAGE_POST":case"COMMENT_WALL_POST":case"COMMENT_CUSTOMER_GROUP_USER_POST":case"COMMENT_REVIEW":return"comments";case"REVIEW":return"reviews";default:return"posts"}}var o=!1;function p(a){var c=a.activityID,d=a.activityType,e=a.className,f=a.feedbackSource,g=a.pageID;a=a.shouldShowPrivateReplyNux;f=b("ActorURI").create(b("XPagesMessagingPrivateReplyDialogController").getURIBuilder().setString("activity_id",c).setInt("feedback_source",f).getURI(),g);a=a!=!1&&!o;a!=!1&&(o=!0);b("Bootloader").loadModules(["PagesLogger"],function(a){a.log(g,"impression","comment_message_button",null,["business_messaging_growth"],{activity_type:d,comment_id:c,messenger_entry_point:k})},"UFI2PrivateReplyLink.react");return j.jsx(b("UFI2PrimerDialogWrapper.react"),{Component:b("UFI2LinkWrapper.react"),props:{children:j.jsxs(j.Fragment,{children:[l,a===!0?j.jsx(s,{}):null]}),className:e,href:f.toString(),onClick:function(){b("Bootloader").loadModules(["PagesLogger"],function(a){a.log(g,"click","comment_message_button",null,["business_messaging_growth"],{activity_type:d,comment_id:c,messenger_entry_point:k})},"UFI2PrivateReplyLink.react")},rel:"dialog"}})}function q(a){var c=a.className,d=a.permalink;a=a.seeResponseLabel;return j.jsx(b("UFI2LinkWrapper.react"),{className:c,href:d||"#",children:a?g._("See Response"):l})}function r(a){var c=a.activityType,d=a.className;a=a.status;var e;switch(a){case"EXPIRED":e=g._({"comments":"You can't send a message in response to comments posted more than 7 days ago.","reviews":"You can't send a message in response to reviews posted more than 7 days ago.","posts":"You can't send a message in response to posts posted more than 7 days ago."},[g._enum(n(c),{comments:"comments",reviews:"reviews",posts:"posts"})]);break;case"NOT_USER_CREATED":e=g._("Pages can't send private messages to other Pages.");break;case"CANNOT_MESSAGE":e=g._("This person can't receive a message reply from your Page.");break}a=j.jsx("span",{className:d,children:l});return e!=null?j.jsx(b("UFI2TooltipCometCompatWrapper.react"),{delayMountUntilHover:!0,tooltip:e,children:a}):a}function s(){return null}d=c(a,{feedback:i!==void 0?i:i=b("UFI2PrivateReplyLink_feedback.graphql")});e.exports=d}),null);
__d("UFI2PrivateReplyActionLink.react",["cx","React","UFI2ActionLink.react","UFI2CometRelayCreateFragmentContainer","UFI2PrivateReplyLink.react","UFI2PrivateReplyActionLink_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;function a(a){var c=a.feedback,d=a.feedbackSource;a=a.seeResponseLabel;return i.jsx(b("UFI2PrivateReplyLink.react"),{WrapperComponent:function(a){return i.jsx(b("UFI2ActionLink.react"),babelHelpers["extends"]({},a,{linkClassName:"_6dc2"}))},feedback:c,feedbackSource:d,seeResponseLabel:a})}a.displayName="UFI2PrivateReplyActionLink";d=c(a,{feedback:h!==void 0?h:h=b("UFI2PrivateReplyActionLink_feedback.graphql")});e.exports=d}),null);
__d("UFI2ReactionUtils",["UFIReactionTypes"],(function(a,b,c,d,e,f){"use strict";var g={checkReactionKey:function(a){return a&&!b("UFIReactionTypes").reactions[a]?0:a||0},getReactionNameFromKey:function(a){a=g.checkReactionKey(a);if(a===0)return"none";else return b("UFIReactionTypes").reactions[a].name}};e.exports=g}),null);
__d("UFI2PrivateReplyIndicator.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("span",{className:a.className,children:g._("Page responded privately")})}a.shouldRender=function(a){return a==="ALREADY_REPLIED"};e.exports=a}),null);
__d("CometAbstractButtonWrapper.react",["BaseButtonOrLink_DEPRECATED.react","React","recoverableViolation","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useMemo,i={root:{cursor:"n05y2jgg",display:"hbms080z",textDecoration:"vul9dhcy",whiteSpace:"f49446kz"}};function a(a,c){var d,e=a.image,f=a.imageRight,j=a.labelIsHidden,k=a.role,l=a.type,m=a.target;a.depressed;a.tabIndex;a.ajaxify;a["data-ft"];a["data-hovercard"];var n=a.title,o=a["aria-label"],p=a.className,q=a.xstyle,r=a["data-testid"],s=a.href,t=a.label,u=a.onClick,v=a.preventLocalNavigation,w=a.testid;a=babelHelpers.objectWithoutPropertiesLoose(a,["image","imageRight","labelIsHidden","role","type","target","depressed","tabIndex","ajaxify","data-ft","data-hovercard","title","aria-label","className","xstyle","data-testid","href","label","onClick","preventLocalNavigation","testid"]);s=s;typeof s==="object"&&(s=s.toString());w=w!=null?w:r;(e!=null||f!=null)&&b("recoverableViolation")("CometAbstractButtonWrapper received image or imageRight prop, please pass these images as children","ufi2");j===!0&&b("recoverableViolation")("CometAbstractButtonWrapper received labelIsHidden prop, please pass these images as children or wrap as BaseAccessibleElement_DEPRECATED","ufi2");l!=null&&b("recoverableViolation")("CometAbstractButtonWrapper received type prop, please make sure to use idiomatic BaseAccessibleElement_DEPRECATED","ufi2");m!=null&&b("recoverableViolation")("CometAbstractButtonWrapper received target prop, this is currently unsupported, to make it supported please update tpyes for BaseButtonOrLink_DEPRECATED","ufi2");r=h(function(){return u==null?null:function(a){u(a)}},[u]);return g.jsx(b("BaseButtonOrLink_DEPRECATED.react"),babelHelpers["extends"]({},a,{className_DEPRECATED:p,href:(w=s)!=null?w:void 0,label:(e=o)!=null?e:n,onClick:(f=r)!=null?f:void 0,preventLocalNavigation:v,ref:c,role:k,testid:void 0,xstyle:[i.root,q],children:t}))}e.exports=g.forwardRef(a)}),null);
__d("UFI2AbstractButtonWrapper.react",["requireCond","cr:829648"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:829648")}),null);
__d("getScrollableAreaContainingNode",["DataStore","Parent"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("Parent").byClass(a,"uiScrollableArea");return a?b("DataStore").get(a,"ScrollableArea"):null}e.exports=a}),null);
__d("lastx",["invariant"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=null;if(Array.isArray(a))a.length&&(b={value:a[a.length-1]});else for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b=b||{};b.value=e}if(b)return b.value;g(0,1145)}e.exports=a}),null);
__d("MultiKeyMap",["invariant","lastx"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof WeakMap==="function";a=function(){function a(){this.$1=this.$2(),this.$3=null}var c=a.prototype;c.set=function(a,b){this.$4(a);var c=this.$1;for(var d=0;d<a.length-1;d++){var e=a[d],f=this.$5(c,e).get(e);f==null&&(f=this.$2(),this.$5(c,e).set(e,f));f.type==="map"||g(0,1732);c=f}e=a[a.length-1];this.$5(c,e).set(e,{type:"value",value:b})};c.get=function(a){this.$4(a);var c=this.$6(a);c=c&&c.get(b("lastx")(a));return c==null||c.type!=="value"?void 0:c.value};c["delete"]=function(a){this.$4(a);var c=this.$6(a);return c?c["delete"](b("lastx")(a)):!1};c.$5=function(a,b){return i(b)?a.cache:a.weakCache};c.$6=function(a){var c=this.$1;for(var d=0;d<a.length-1;d++){var e,f=a[d];if(((e=c)==null?void 0:e.type)==="map")c=this.$5(c,f).get(f);else return void 0}e=b("lastx")(a);f=c&&this.$5(c,e);return f};c.$2=function(){return{type:"map",cache:new Map(),weakCache:h?new WeakMap():new Map()}};c.$4=function(a){this.$3==null&&(this.$3=a.length);if(this.$3!==a.length)throw new Error("MultiKeyMap called with different number of keys");if(a.length<1)throw new Error("MultiKeyMap called with empty array of keys")};return a}();function i(a){var b=typeof a;return b==="number"||b==="string"||b==="boolean"||a==null}e.exports=a}),null);
__d("memoizeWithArgsWeak",["MemoizationInstrumentation","MultiKeyMap"],(function(a,b,c,d,e,f){"use strict";function a(a,c){c===void 0&&(c="");var d=new(b("MultiKeyMap"))(),e=c||a.name||"unknown";c=function(){var c=b("MemoizationInstrumentation").onFunctionCall("memoizeWithArgsWeak",e);for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];var i=d.get(g);if(i!==void 0){c&&c(!0);return i}var j=a.apply(void 0,g);d.set(g,j);c&&c(!1);return j};return c}e.exports=a}),null);
__d("queryThenMutateDOM",["ErrorUtils","Run","TimeSlice","emptyFunction","gkx","requestAnimationFrame"],(function(a,b,c,d,e,f){var g,h,i,j=[],k={};function l(a,c,d){if(!a&&!c)return{cancel:b("emptyFunction")};if(d&&Object.prototype.hasOwnProperty.call(k,d))return{cancel:b("emptyFunction")};else d&&(k[d]=1);c=b("TimeSlice").guard(c||b("emptyFunction"),"queryThenMutateDOM mutation callback",{propagationType:b("TimeSlice").PropagationType.CONTINUATION,registerCallStack:!0});a=b("TimeSlice").guard(a||b("emptyFunction"),"queryThenMutateDOM query callback",{propagationType:b("TimeSlice").PropagationType.CONTINUATION,registerCallStack:!0});var e={queryFunction:a,mutateFunction:c,output:null,deleted:!1};j.push(e);n();h||(h=!0,b("gkx")("708253")||b("Run").onLeave(function(){h=!1,i=!1,k={},j.length=0}));return{cancel:function(){b("TimeSlice").cancel(e.queryFunction),b("TimeSlice").cancel(e.mutateFunction),e.deleted=!0,d&&delete k[d]}}}l.prepare=function(a,b,c){return function(){for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];e.unshift(this);var g=Function.prototype.bind.apply(a,e),h=b.bind(this);l(g,h,c)}};var m=b("TimeSlice").guard(function(){while(j.length){k={};var a=[];window.document.body.getClientRects();while(j.length){var b=j.shift();b.deleted||(b.output=o(b.queryFunction),a.push(b))}while(a.length){b=a.shift();b.deleted||o(b.mutateFunction,null,[b.output])}}i=!1},"queryThenMutateDOM runScheduledQueriesAndMutations",{propagationType:b("TimeSlice").PropagationType.ORPHAN});function n(){!i&&j.length&&(i=!0,b("requestAnimationFrame")(m,{priority:"QUERY_THEN_MUTATE"}))}function o(a,c,d,e,f){return(g||(g=b("ErrorUtils"))).applyWithGuard(a,c,d,e,f)}e.exports=l}),null);
__d("getNodeForCharacterOffset",[],(function(a,b,c,d,e,f){"use strict";var g=3;function h(a){while(a&&a.firstChild)a=a.firstChild;return a}function i(a){while(a){if(a.nextSibling)return a.nextSibling;a=a.parentNode}}function a(a,b){a=h(a);var c=0,d;while(a){if(a.nodeType===g){d=c+a.textContent.length;if(c<=b&&d>=b)return{node:a,offset:b-c};c=d}a=h(i(a))}}e.exports=a}),null);
__d("getTextContentAccessor",["fbjs/lib/ExecutionEnvironment"],(function(a,b,c,d,e,f){"use strict";var g=null;function a(){!g&&b("fbjs/lib/ExecutionEnvironment").canUseDOM&&(g="textContent"in document.documentElement?"textContent":"innerText");return g}e.exports=a}),null);
__d("ReactDOMSelection",["getNodeForCharacterOffset","getTextContentAccessor"],(function(a,b,c,d,e,f){"use strict";function g(a,b,c,d){return a===c&&b===d}function a(a){var b=window.getSelection&&window.getSelection();if(!b||b.rangeCount===0)return null;var c=b.anchorNode,d=b.anchorOffset,e=b.focusNode,f=b.focusOffset,h=b.getRangeAt(0);try{h.startContainer.nodeType,h.endContainer.nodeType}catch(a){return null}b=g(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset);b=b?0:h.toString().length;var i=h.cloneRange();i.selectNodeContents(a);i.setEnd(h.startContainer,h.startOffset);a=g(i.startContainer,i.startOffset,i.endContainer,i.endOffset);h=a?0:i.toString().length;a=h+b;i=document.createRange();i.setStart(c,d);i.setEnd(e,f);b=i.collapsed;return{start:b?a:h,end:b?h:a}}function c(a,c){if(!window.getSelection)return;var d=window.getSelection(),e=a[b("getTextContentAccessor")()].length,f=Math.min(c.start,e);c=c.end===void 0?f:Math.min(c.end,e);if(!d.extend&&f>c){e=c;c=f;f=e}e=b("getNodeForCharacterOffset")(a,f);a=b("getNodeForCharacterOffset")(a,c);if(e&&a){var g=document.createRange();g.setStart(e.node,e.offset);d.removeAllRanges();f>c?(d.addRange(g),d.extend(a.node,a.offset)):(g.setEnd(a.node,a.offset),d.addRange(g))}}d={getOffsets:a,setOffsets:c};e.exports=d}),null);
__d("getContextualParent",["ge"],(function(a,b,c,d,e,f){function a(a,c){c===void 0&&(c=!1);var d=!1;a=a;do{if(a instanceof Element){var e=a.getAttribute("data-ownerid");if(e){a=b("ge")(e);d=!0;continue}}a=a.parentNode}while(c&&a&&!d);return a}e.exports=a}),null);
__d("collectDataAttributes",["DataAttributeUtils","getContextualParent"],(function(a,b,c,d,e,f){var g="normal";function a(a,c,d){var e={},f=[],h=c.length,i;for(i=0;i<h;++i)e[c[i]]={},f.push("data-"+c[i]);if(d){e[g]={};for(i=0;i<(d||[]).length;++i)f.push(d[i])}d={tn:"","tn-debug":","};a=a;while(a){if(a.getAttribute)for(i=0;i<f.length;++i){var j=f[i],k=b("DataAttributeUtils").getDataAttribute(a,j);if(k){if(i>=h){e[g][j]===void 0&&(e[g][j]=k);continue}j=JSON.parse(k);for(var l in j)d[l]!==void 0?(e[c[i]][l]===void 0&&(e[c[i]][l]=[]),e[c[i]][l].push(j[l])):e[c[i]][l]===void 0&&(e[c[i]][l]=j[l])}}a=b("getContextualParent")(a)}for(var m in e)for(var n in d)e[m][n]!==void 0&&(e[m][n]=e[m][n].join(d[n]));return e}e.exports=a}),null);
__d("CometUFICommentGroup_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentGroup_feedback",selections:[{args:null,kind:"FragmentSpread",name:"CometUFICommentInGroup_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentInGroup_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentInGroup_feedback",selections:[{alias:"threading_config_type",args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[{kind:"InlineFragment",selections:[{documentName:"CometUFICommentInGroup_feedback",fragmentName:"CometUFIFullThreadedTopLevelCommentContainer_config",fragmentPropName:"config",kind:"ModuleImport"}],type:"FullThreadingFeedbackConfig",abstractKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:["DefaultRepliesListRenderer","FullThreadedRepliesListRenderer"]}],concreteType:null,kind:"LinkedField",name:"replies_list_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{documentName:"CometUFICommentInGroup_feedback__replies_list_renderer",fragmentName:"CometUFIDefaultRepliesListRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"DefaultRepliesListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentInGroup_feedback__replies_list_renderer",fragmentName:"CometUFIFullThreadedRepliesListRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"FullThreadedRepliesListRenderer",abstractKey:null}],storageKey:'replies_list_renderer(supported:["DefaultRepliesListRenderer","FullThreadedRepliesListRenderer"])'}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIComposer_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"__false"}],kind:"Fragment",metadata:null,name:"CometUFIComposer_actor",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentRow_actor"}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometUFIComposer_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIComposer_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIRepliesExpander_highlightedComments.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{plural:!0},name:"CometUFIRepliesExpander_highlightedComments",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"profilePictureForReplyExpander",args:[{kind:"Literal",name:"height",value:24},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("isCommentTokenOrFBID_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"isCommentTokenOrFBID_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("UFI2CommentTranslateAllButton.react",["cx","fbt","React","UFI2LinkWrapper.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){return i.jsx(b("UFI2LinkWrapper.react"),{className:"_6srr",onClick:a.onClick,children:h._("Translate All Comments")})}e.exports=a}),null);
__d("getViewportViewDurationPropertiesFromTrackingData",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;a=a(["ft"],["data-referrer"]);return{isPageComment:(a==null?void 0:(b=a.ft)==null?void 0:b.page_id)!=null,isSponsored:!!(a==null?void 0:(b=a.ft)==null?void 0:b.is_sponsored),mfStoryKey:(a==null?void 0:(b=a.ft)==null?void 0:b.mf_story_key)||void 0,pageInsights:(a==null?void 0:(b=a.ft)==null?void 0:b.page_insights)||void 0,qid:(a==null?void 0:(b=a.ft)==null?void 0:b.qid)||void 0,referrerSource:(a==null?void 0:(b=a.normal)==null?void 0:b["data-referrer"])||void 0}}e.exports=a}),null);
__d("isCommentTokenOrFBID",["relay-runtime","isCommentTokenOrFBID_comment.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("relay-runtime").graphql;g!==void 0?g:g=b("isCommentTokenOrFBID_comment.graphql");function a(a,b){return a!=null&&(a===b.id||a===b.legacy_fbid)}e.exports=a}),null);
__d("logCommentViewportViewDuration",["Banzai","ScriptPath","WebSession","gkx"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.commentID,d=a.endpoint,e=a.isLivePinnedComment,f=a.isPageComment,g=a.isReply,h=a.isSponsored,i=a.milliseconds,j=a.storyRenderLocation,k=a.visibleStartTime;a=babelHelpers.objectWithoutPropertiesLoose(a,["commentID","endpoint","isLivePinnedComment","isPageComment","isReply","isSponsored","milliseconds","storyRenderLocation","visibleStartTime"]);if(i<100)return;var l=a.referrerSource!=null?{referrer_source:a.referrerSource}:null,m=a.pageInsights!=null?{page_insights:a.pageInsights}:null,n=a.qid!=null?a.qid:null,o=a.xt!=null&&a.xt!==""?a.xt:null;a=a.mfStoryKey!=null?{mf_story_key:a.mfStoryKey}:null;i={container_module:j,duration_ms:i,endpoint:(j=d)!=null?j:b("ScriptPath").getScriptPath(),is_live_pinned_comment:e,is_on_sponsored_story:h,is_page_comment:f,is_reply:g,mfStoryKey:a,node_token:c,pageInsights:m,qid:n,referrerSource:l,sid_raw:b("WebSession").getId(),visible_start_time_ms:k,xt:o};b("Banzai").post("comment_vpvd",i)}e.exports=a}),null);
__d("useUFIVPVDEndpoint",["ScriptPath","useCurrentRoute"],(function(a,b,c,d,e,f){"use strict";function a(){var a;return(a=(a=b("useCurrentRoute")())==null?void 0:a.tracePolicy)!=null?a:b("ScriptPath").getScriptPath()}e.exports=a}),null);
__d("CometUFICommentInGroup.react",["CometFeedStoryEncryptedTrackingContext","CometPlaceholder.react","CometRelay","CometUFIComment.react","CometUFICommentList.react","JSResourceForInteraction","React","UFI2CommentTranslateAllButton.react","getViewportViewDurationPropertiesFromTrackingData","lazyLoadComponent","isCommentTokenOrFBID","logCommentViewportViewDuration","stylex","unrecoverableViolation","useUFIVPVDEndpoint","CometUFICommentInGroup_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=b("lazyLoadComponent")(b("JSResourceForInteraction")("CometUFICommentEditor.react",{"class":"fluid",name:"Comet UFI Comment Editor",oncall:"ufight_club"}).__setRef("CometUFICommentInGroup.react")),j={commentRow:{paddingTop:"ecm0bbzt",paddingEnd:"hv4rvrfc",paddingBottom:"qt6c0cv9",paddingStart:"dati1w0a"},commentRowNested:{paddingTop:"ecm0bbzt",paddingEnd:"hv4rvrfc",paddingBottom:"qt6c0cv9",paddingStart:"scb9dxdr"},firstCommentRow:{paddingTop:"ecm0bbzt"}};function a(a){var c=b("CometRelay").useFragment(g!==void 0?g:g=b("CometUFICommentInGroup_feedback.graphql"),a.feedback),d=a.actor,e=a.comment,f=a.commentsListRenderProps,k=a.composerPluginProps,l=a.editingCommentID,m=a.feedbackSource,n=a.feedLocation,o=a.focusCommentID,p=a.isFirstRow,q=a.locallyComposedCommentIds,r=a.onCommitCommentCreate,s=a.onEditCommentError,t=a.onTranslateAllClick,u=a.renderedTranslationCommentID,v=a.setEditingCommentID,w=a.setRenderedTranslationCommentID,x=a.shouldRequestTranslationForAllComments,y=a.storyRenderLocation,z=a.viewOption,A=f.addRepliesListRenderedCallback;a=f.depth;var B=f.getCommentEditorProps,C=f.getCommentProps,D=f.getTotalRepliesCountForComment,E=f.isReplyComposerVisibleForComment,F=e.id,G=e.optimistic_action==null&&e.optimistic_error==null;C=C(e);C.key;C=babelHelpers.objectWithoutPropertiesLoose(C,["key"]);var H=h.useContext(b("CometFeedStoryEncryptedTrackingContext")),I=b("useUFIVPVDEndpoint")(),J=h.useCallback(function(a,c,d){if(!G)return;b("logCommentViewportViewDuration")(babelHelpers["extends"]({commentID:F,endpoint:I,isLivePinnedComment:!1,isReply:!1,milliseconds:c,storyRenderLocation:y},b("getViewportViewDurationPropertiesFromTrackingData")(d),{visibleStartTime:a,xt:H}))},[F,G,y,I,H]),K=h.useCallback(function(){return v(F)},[F,v]),L=h.useCallback(function(){return w(F)},[F,w]),M=h.useCallback(function(){u===F&&w(null)},[F,u,w]);C=h.jsx(b("CometUFIComment.react"),babelHelpers["extends"]({},C,{feedLocation:n,feedbackSource:m,isHighlighted:b("isCommentTokenOrFBID")(o,e),isLocallyComposed:e.client_id!=null&&q!=null&&q.has(e.client_id),logCommentViewportViewDuration:J,onEdit:K,onTranslated:L,onUntranslated:M,storyRenderLocation:y,translationRequested:x,xstyle:[a===0&&j.commentRow,a>0&&j.commentRowNested,p&&j.firstCommentRow]}));J=null;if(f.depth===0){if((c==null?void 0:c.threading_config)!=null&&(c==null?void 0:(K=c.threading_config_type)==null?void 0:K.__typename)==="FullThreadingFeedbackConfig"){L={children:C,comment:e,config:c.threading_config,getTotalRepliesCountForComment:D,isReplyComposerVisibleForComment:E,onRepliesListRendered:function(a){return A(e.id,a)},replyComposerVisible:E(e),totalRepliesCount:D(e)};C=L!=null?h.jsx(b("CometRelay").MatchContainer,{fallback:C,match:c.threading_config,props:L}):C}var N=c==null?void 0:c.replies_list_renderer;if(N==null)throw b("unrecoverableViolation")("CometUFICommentGroup: Tried to render nested comment list without a valid renderer!","multithreading");M=f.getNestedCommentsListProps;J=h.jsx(b("CometUFICommentList.react"),babelHelpers["extends"]({},M(F),{children:function(a){var c={actor:d,composerPluginProps:k,editingCommentID:l,feedLocation:n,feedbackSource:m,focusCommentID:o,locallyComposedCommentIds:q,onCommitCommentCreate:r,onEditCommentError:s,onTranslateAllClick:t,renderedTranslationCommentID:u,repliesListRenderProps:a,setEditingCommentID:v,setRenderedTranslationCommentID:w,shouldRequestTranslationForAllComments:x,storyRenderLocation:y,viewOption:z};return h.jsx("div",{"data-testid":void 0,onMouseEnter:a.onCommentsListMouseEnter,onMouseLeave:a.onCommentsListMouseLeave,children:h.jsx(b("CometPlaceholder.react"),{fallback:h.jsx("div",{}),children:h.jsx(b("CometRelay").MatchContainer,{match:N,props:c})})})}}))}return h.jsxs(h.Fragment,{children:[F===l?h.jsx(b("CometPlaceholder.react"),{fallback:h.jsx("div",{"aria-busy":"true",className:"aero",children:C}),children:h.jsx(i,babelHelpers["extends"]({},k,B(),{comment:e,commentId:F,depth:a,feedbackSource:m,onError:s,onFinishEdit:function(){return v(null)},storyRenderLocation:y}))}):C,F===u&&!x?h.jsx(b("UFI2CommentTranslateAllButton.react"),{onClick:t}):null,J]})}}),null);
__d("CometUFIHiddenCommentsPlaceholder.react",["ix","fbt","CometPressable.react","CometTooltip.react","React","TetraIcon.react","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=a.commentIDs,d=a.expandHiddenComments;return i.jsx(b("CometTooltip.react"),{tooltip:h._({"*":"{count} hidden"},[h._param("count",c.length),h._plural(c.length)]),children:i.jsx(b("CometPressable.react"),{"aria-label":h._("Show comments marked as spam"),display:"inline",onPress:i.useCallback(function(){return d(c)},[c,d]),role:"button",children:i.jsx(b("TetraIcon.react"),{color:"secondary",icon:b("fbicon")._(g("484388"),24)})})})}}),null);
__d("CometUFICommentGroup.react",["CometRelay","CometUFICommentInGroup.react","CometUFIHiddenCommentsPlaceholder.react","React","stylex","CometUFICommentGroup_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function a(a){var c=a.commentsListRenderProps,d=a.feedback,e=a.groupedComments,f=a.locallyComposedCommentIds,i=babelHelpers.objectWithoutPropertiesLoose(a,["commentsListRenderProps","feedback","groupedComments","locallyComposedCommentIds"]),j=b("CometRelay").useFragment(g!==void 0?g:g=b("CometUFICommentGroup_feedback.graphql"),d),k=c.depth;a=c.getHiddenCommentsPlaceholderProps;if(e.state==="COLLAPSED")return h.jsx("li",{className:"dati1w0a qt6c0cv9 hv4rvrfc ecm0bbzt taijpn5t j83agx80 bp9cbjyn",children:h.jsx(b("CometUFIHiddenCommentsPlaceholder.react"),babelHelpers["extends"]({},a(),{commentIDs:e.comments.map(function(a){return a.id})}))});return e.state!=="VISIBLE"?null:e.comments.map(function(a,d){return h.jsx("li",{"data-testid":void 0,children:h.jsx(b("CometUFICommentInGroup.react"),babelHelpers["extends"]({},i,{comment:a,commentsListRenderProps:c,feedback:j,isFirstRow:k===0&&d===0,locallyComposedCommentIds:f}))},a.client_id!=null&&a.client_id!==""?a.client_id:a.id)})}c=h.memo(a);e.exports=c}),null);
__d("CometUFICommentsFilterFallbackWarning.react",["fbt","React","TetraText.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React");function a(a){var c=a.Selectors,d=a.depth,e=a.direction,f=a.listState,j=a.totalCount,k=a.unfilteredTotalCount,l=a.viewOption;a=a.xstyle;var m=c.isPagerLoading({depth:d,direction:e,state:f});if(m)return null;m=c.hasMoreInDirection({depth:d,direction:e,state:f,totalCount:j});if(m)return null;j=c.getVisibleCommentsCount({depth:d,state:f});m=k===j;if(m)return null;if(j===0&&e==="backward")return null;var n;switch(l){case"RANKED_THREADED":n=d>0?g._("Most Relevant is selected, so some replies may have been filtered out."):g._("Most Relevant is selected, so some comments may have been filtered out.");break;default:n=d>0?g._("Some replies may have been filtered out by the selected ordering mode"):g._("Some comments may have been filtered out by the selected ordering mode")}return i.jsx("div",{className:(h||(h=b("stylex")))(a),children:i.jsx(b("TetraText.react"),{type:"meta4",children:n})})}}),null);
__d("CometUFICommentsPagerErrorIcon.react",["ix","fbt","CometImage.react","CometTooltip.react","React","asset","useCometUFICodedErrorDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){return Object.prototype.hasOwnProperty.call(a,"code")&&Object.prototype.hasOwnProperty.call(a,"description")&&Object.prototype.hasOwnProperty.call(a,"summary")}var k="Couldn't load comments. Try again in a few moments.";function a(a){var c=a.error,d=j(c);a=k;var e=b("useCometUFICodedErrorDialog")(),f=e.errorDialog,l=e.setError;i.useEffect(function(){d&&l(c)},[c,d,l]);return i.jsxs(i.Fragment,{children:[i.jsx(b("CometTooltip.react"),{tooltip:h._("{comment pagination error icon tooltip message}",[h._param("comment pagination error icon tooltip message",i.jsx("span",{children:a}))]),children:i.jsx(b("CometImage.react"),{src:g("1334173")})}),f]})}c=a;e.exports=c}),null);
__d("CometUFICommentsPagerBase.react",["CometPressable.react","CometProgressRingIndeterminate.react","CometTrackingNodeProvider.react","CometUFICommentsPagerErrorIcon.react","React","TetraIcon.react","TetraText.react","gkx","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i={consolidatingStyle:{backgroundColor:"b3i9ofy5",borderTopStartRadius:"emml16de",borderTopEndRadius:"gmcszhul",borderBottomEndRadius:"ols5edhi",borderBottomStartRadius:"gob819ct",flexGrow:"kb5gq1qc",height:"k7cz35w2",marginBottom:"w0hvl6rk",marginTop:"qjjbsfad",paddingEnd:"p8fzw8mz",paddingStart:"tw6a2znq"},disableExtraMargin:{marginStart:"hcukyx3x"},fresh:{backgroundColor:"is6700om",bottom:"i09qtzwb",opacity:"b5wmifdl",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",transitionDuration:"ms05siws",transitionProperty:"art1omkt",transitionTimingFunction:"heur4gxb",width:"dsl5tyj5"},freshDepth1:{start:"ghkatn0t"},freshDepth2:{start:"rn3csqz5"},freshVisible:{opacity:"pedkr2u6"},icon:{display:"j83agx80",filter:"a5y0qf1c",marginEnd:"fv0vnmcu",marginStart:"ozuftl9m"},item:{display:"j83agx80",marginEnd:"fv0vnmcu",minWidth:"hpfvmrgz"},pagerBasePressable:{alignItems:"bp9cbjyn",flexGrow:"buofh1pr",flexShrink:"g5gj957u",paddingEnd:"p8fzw8mz"},root:{display:"j83agx80",flexGrow:"buofh1pr",minHeight:"jklb3kyz"}};function a(a){var c=a.children,d=a.depth,e=a.error,f=a.freshIndicatorVisible,j=a.icon,k=a.isFreshIndicatorAlignedAtStart,l=a.isLoading,m=a.onMouseEnter;a=a.onPress;var n=b("gkx")("1533489");return h.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:24,children:h.jsxs("div",{className:(g||(g=b("stylex")))(i.root),children:[h.jsx("div",{className:g(i.fresh,d===1&&k?i.freshDepth1:null,d===2&&k?i.freshDepth2:null,f?i.freshVisible:null)}),h.jsxs(b("CometPressable.react"),{disabled:l,onHoverIn:m,onPress:a,overlayDisabled:!0,testid:void 0,xstyle:[i.pagerBasePressable,n&&i.consolidatingStyle],children:[j?h.jsx("span",{className:(g||(g=b("stylex")))(i.icon,n?i.disableExtraMargin:null),children:h.jsx(b("TetraIcon.react"),{color:"secondary",icon:j})},"icon"):null,h.jsx("span",{className:g(i.item),children:h.jsx(b("TetraText.react"),{color:"secondary",type:"button2",children:c})},"text"),l&&h.jsx("div",{className:(g||(g=b("stylex")))(i.item),children:h.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:16})}),e!=null&&b("gkx")("1585174")?h.jsx("div",{className:(g||(g=b("stylex")))(i.item),children:h.jsx(b("CometUFICommentsPagerErrorIcon.react"),{error:e})}):null]})]})})}}),null);
__d("getUFI2CommentsPagerLabel",["fbt","NumberFormat"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.labelType;a=a.numCommentsToShow;switch(c){case"view_one":return g._("View 1 comment");case"view_more":return g._("View more comments");case"view_one_more":return g._("View 1 more comment");case"view_more_explicit":return g._({"*":{"*":"View {count} more comments","_1":"View {count} more comment"}},[g._param("count",b("NumberFormat").formatInteger(a),[0,a]),g._plural(a)]);case"view_previous":return g._("View previous comments");case"view_previous_explicit":return g._({"*":{"*":"View {count} previous comments","_1":"View {count} previous comment"}},[g._param("count",b("NumberFormat").formatInteger(a),[0,a]),g._plural(a)]);default:c;return g._("View comments")}}e.exports=a}),null);
__d("getUFI2RepliesPagerLabel",["fbt","NumberFormat"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.labelType,d=a.numCommentsToShow;a=a.numCommentsTotal;switch(c){case"view_one":return g._("View 1 reply");case"view_more":return g._("View more replies");case"view_one_more":return g._("View 1 more reply");case"view_more_explicit":return g._({"*":{"*":"View {count} more replies","_1":"View {count} more reply"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_previous":return g._("View previous replies");case"view_previous_explicit":return g._({"*":{"*":"View {count} previous replies","_1":"View {count} previous reply"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_comments_indeterminate":return g._("View replies");case"view_all":default:return g._({"*":"View all {count} replies"},[g._param("count",b("NumberFormat").formatInteger(a),[0,a])])}}e.exports=a}),null);
__d("getCometUFIPagerLabel",["ErrorGuard","FBLogger","UFI2ViewOption","getUFI2CommentsPagerLabel","getUFI2RepliesPagerLabel"],(function(a,b,c,d,e,f){"use strict";var g;function h(a){var c=a.Selectors,d=a.depth,e=a.direction,f=a.listState,g=a.pagerCount,h=a.pageSize,i=a.summaryTotalNumComments,j=a.totalCount;a=a.viewOption;var k=c.getVisibleCommentsCount({depth:d,state:f});c=c.hasLastPageLeftInDirection({depth:d,direction:e,pageSize:h,state:f,totalCount:j});f=b("UFI2ViewOption").isChronologicalOrder(a);j=f&&e==="backward"||!f&&e==="forward";if(k===0){if(g===1&&i===1)return"view_one";if(d>0)return"view_all";else return"view_comments_indeterminate"}else if(c&&g<=h)if(g===1)return"view_one_more";else return"view_more_explicit";if(j)return"view_more";else return"view_previous"}function a(a){var c=a.Selectors,d=a.depth,e=a.direction,f=a.listState,i=a.totalCount,j=c.isPagerVisible({depth:d,direction:e,state:f});if(!j)return null;j=c.getPagerCount({depth:d,direction:e,state:f});if(j==null){b("FBLogger")("ufi2").addMetadata("UFI","RAW_DATA",(c=(g||(g=b("ErrorGuard"))).applyWithGuard(JSON.stringify,JSON,[f]))!=null?c:"FAILED_TO_SERIALIZE_COMPOSERSTATE").mustfix("CometUFICommentsPager: Expected to have a pager count if pager was rendered");return null}e=h(babelHelpers["extends"]({},a,{pagerCount:j}));f=d>0;return f?b("getUFI2RepliesPagerLabel")({labelType:e,numCommentsToShow:j,numCommentsTotal:i}):b("getUFI2CommentsPagerLabel")({labelType:e,numCommentsToShow:j})}e.exports=a}),null);
__d("CometUFICommentsPager.react",["ix","CometUFICommentsPagerBase.react","React","UFICommonInteractionEvents","UFICommonInteractionLogger","clearTimeout","fbicon","getCometUFIPagerLabel","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.Selectors,d=a.depth,e=a.direction,f=a.isFreshIndicatorAlignedAtStart,i=a.listState,j=a.loadMoreComments,k=a.onMouseEnter,l=h.useState(!1),m=l[0],n=l[1];l=c.isPagerLoading({depth:d,direction:e,state:i});var o=c.getPagerError({depth:d,direction:e,state:i}),p=h.useCallback(function(){var a=b("UFICommonInteractionLogger").startInteraction(d===0?b("UFICommonInteractionEvents").COMET_UFI_TOP_LEVEL_COMMENTS_PAGINATION:b("UFICommonInteractionEvents").COMET_UFI_REPLY_COMMENTS_PAGINATION);j({onCommentsRendered:function(){return b("UFICommonInteractionLogger").endInteraction(a)}})},[d,j]),q=c.getPagerCount({depth:d,direction:e,state:i}),r=c.pagerHasRealtimeComments({direction:e,state:i}),s=h.useRef(!1);h.useEffect(function(){if(r===!1){n(!1);return}if(!s.current){s.current=!0;n(!0);return}n(!1);var a=b("setTimeout")(function(){n(!0)},200);return function(){return b("clearTimeout")(a)}},[q,r]);c=b("getCometUFIPagerLabel")(a);return c==null?null:h.jsx(b("CometUFICommentsPagerBase.react"),{depth:d,freshIndicatorVisible:m,icon:d!==0?b("fbicon")._(g("1602003"),16):void 0,isFreshIndicatorAlignedAtStart:f,isLoading:l,onMouseEnter:k,onPress:p,error:o,children:c})}}),null);
__d("CometUFIComposerActions.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){return g.jsx("ul",{className:"fop5sh7t oi9244e8 kn9t4qvh btwxx1t3 j83agx80 c4hnarmi",children:g.Children.map(a.children,function(a){return g.jsx("li",{className:"bdca9zbp j83agx80 nhd2j8a9",children:a})})})}}),null);
__d("CometUFIComposerOnBeforeUnloader.react",["fbt","React","useOnBeforeUnload"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;b("React");function a(a){b("useOnBeforeUnload")(function(){if(a.isUnfinished())return{warnMessage:g._("You haven't finished your comment yet. Do you want to leave without finishing?")}});return null}}),null);
__d("CometUFIProgressiveComposerInput.react",["Promise","CometProgressivelyEnhancedComponent.react","Event","FBLogger","Keys","requireDeferred","React","ReactDOMSelection","SubscriptionsHandler","deferredLoadComponent","clearImmediate","clearTimeout","emptyFunction","getActiveElement","getPlainTextFromUFI2InputState","ifRequireable","isSoftNewlineEvent","isUFI2ComposerStateEmpty","setImmediateAcrossTransitions","setTimeoutAcrossTransitions","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("Keys").BACKSPACE,h=b("Keys").DELETE,i=b("Keys").RETURN,j=b("React"),k=b("requireDeferred")("UFI2RichComposerInput.react"),l=b("deferredLoadComponent")(k),m=b("requireDeferred")("getEditorStateFromUFI2ComposerState");function n(a){a=a.innerText||"";a.replace(/(\r\n|\r|\n)/g,"")===""&&(a="");return a}function o(){return b("ifRequireable")("EditorState",function(a){var b=k.getModuleIfRequireable();return b!=null?{EditorState:a,UFI2RichComposerInput:b}:null},function(){return null})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),j=0;j<e;j++)f[j]=arguments[j];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.$2=!1,d.$3=null,d.$4=new(b("SubscriptionsHandler"))(),d.state={proxyIsInCompositionMode:!1},d.$7=function(a){d.$8()},d.$9=function(a){d.setState({proxyIsInCompositionMode:!0})},d.$10=function(a){d.setState({proxyIsInCompositionMode:!1})},d.$11=function(a){d.$8()},d.$12=function(a){d.$13(a.target)},d.$14=function(a){d.$3=a,d.props.onInputRefUpdated&&d.props.onInputRefUpdated(a)},d.$15=function(a){a.keyCode===i&&!b("isSoftNewlineEvent")(a)?(a.preventDefault(),d.props.onCommit()):(a.keyCode===g||a.keyCode===h)&&d.$8()},d.$16=function(a){d.$2=!0;var c=b("setTimeoutAcrossTransitions")(function(){b("FBLogger")("ufi2").warn("_handleProxyMouseDown had no corresonding mouseup event for 30s.")},3e4);d.$4.addSubscriptions({remove:function(){b("clearTimeout")(c)}});var e=b("Event").listen(document,"mouseup",function(){b("clearTimeout")(c),d.$2=!1,d.$4.releaseOne(e),d.$3!=null&&d.$3===b("getActiveElement")()&&d.$5()});d.$4.addSubscriptions(e)},d.$17=function(a){var b=d.props.handlePastedFiles;if(b){var c=a.clipboardData;c=c.items!=null?Array.from(c.items):[];c=c.map(function(a){return a.getAsFile()}).filter(Boolean);c.length&&(b(c)==="handled"&&a.preventDefault())}a.isDefaultPrevented()===!1&&d.$8()},d.$19=function(a){var c=function(){d.$2===!1&&d.$5()};m.getModuleIfRequired()==null?m.loadImmediately(function(){return c()}):c();var e=o();(e==null?void 0:e.UFI2RichComposerInput)==null&&k.loadImmediately(b("emptyFunction"));d.props.onFocus&&d.props.onFocus(a)},c)||babelHelpers.assertThisInitialized(d)}c.createEmptyComposerState=function(){var a=o();a=a==null?void 0:a.EditorState;return a!=null?{__type:"editor-state-based",editorState:a.createEmpty()}:{__type:"plain-text",selectionOffsets:null,text:""}};var d=c.prototype;d.$5=function(){var a=this,c=m.getModuleIfRequireable();if(c==null||this.state.proxyIsInCompositionMode===!0||this.props.composerState.inputState.__type!=="plain-text")return;this.props.onComposerStateChange(function(d){var e=d.inputState;if(e.__type!=="plain-text"){b("FBLogger")("ufi2").warn("We were asked to commit the text and selection state of the proxy input, but the current input state is of type `%s` when we expected it to be of type `plain-text`. Investigate why a reference to the proxy input existed when the input state was of this type.",e.__type);return d}e=babelHelpers["extends"]({},d,{inputState:babelHelpers["extends"]({},e,{selectionOffsets:b("getActiveElement")()===a.$3?b("ReactDOMSelection").getOffsets(a.$3):e.selectionOffsets})});return babelHelpers["extends"]({},d,{inputState:{__type:"editor-state-based",editorState:c(e)}})})};d.$6=function(){b("isUFI2ComposerStateEmpty")(this.props.composerState)!==!0&&this.$5()};d.$13=function(a){this.$1=!1;var c=n(a);this.props.onComposerStateChange(function(a){var d=a.inputState;if(d.__type!=="plain-text"){b("FBLogger")("ufi2").warn("We were asked to handle an input event for the proxy input, but the current input state is of type `%s` when we expected it to be of type `plain-text`. Investigate why a reference to the proxy input existed when the input state was of this type.",d.__type);return a}return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},d,{text:c})})})};d.$18=function(a){if(a.composerState.inputState.__type!=="plain-text")return;var c=this.$3;if(c){a=a.composerState.inputState;var d,e;switch(a.__type){case"plain-text":d=a.text;e=a.selectionOffsets;break;case"editor-state-based":default:d=a.editorState.getCurrentContent().getBlockMap().map(function(a){return a?a.getText():""}).join("\n");b("FBLogger")("ufi2").warn("Unimplemented: tried to update the UFI2 proxy input's selection using an `EditorState` but we have not yet implemented a function that maps from an `EditorState` to selection offsets.");break}e==null&&(e=b("getActiveElement")()===c?b("ReactDOMSelection").getOffsets(c):null);a=n(c);d!==a&&(c.textContent=d,e!=null&&(d===""?(c.innerText="\xa0",b("ReactDOMSelection").setOffsets(c,{end:1,start:1}),document.execCommand("delete",!1,null)):b("ReactDOMSelection").setOffsets(c,e)))}};d.$8=function(){var a=this;if(this.$1)return;this.$1=!0;var c=b("setImmediateAcrossTransitions")(function(){a.$1&&(a.$1=!1,a.$3&&a.$13(a.$3))});this.$4.addSubscriptions({remove:function(){b("clearImmediate")(c)}})};d.componentDidMount=function(){var a=this,b=this.props.composerState.inputState;this.$3&&b.__type==="plain-text"&&this.$18(this.props);b=o();(b==null?void 0:b.UFI2RichComposerInput)==null&&this.$4.addSubscriptions(k.onReady(function(b){a.props.composerState.inputState.__type==="editor-state-based"&&a.forceUpdate()}))};d.componentDidUpdate=function(a,b){this.props.composerState.inputState.__type==="plain-text"&&this.$6(),this.$18(this.props)};d.componentWillUnmount=function(){this.$4.release()};d.execCommand=function(a){this.props.handleCommand&&(a.__type==="PrefillMention"&&(k.loadImmediately(b("emptyFunction")),this.$5()),this.props.handleCommand(a))};d.render=function(){var a=b("getPlainTextFromUFI2InputState")(this.props.composerState.inputState).trim()!=="",c=this.props.depth?"UFI2ComposerInput/reply":"UFI2ComposerInput/comment";a=j.jsx("div",{className:this.props.className,onClick:this.props.onClick,role:"none",children:j.jsxs("div",{className:"l9j0dhe7 datstx6m",children:[j.jsx("div",{className:(this.props.composerState.isLocked?"bnpdmtie":"")+" tkr6xdv7 qv66sw1b ieid39z1 datstx6m r7d6kgcz e9989ue4 esr5mh6w qu0x051f g5ia77u1",contentEditable:this.props.composerState.isLocked===!1,"data-testid":void 0,onBeforeInput:this.$7,onBlur:this.props.onBlur,onCompositionEnd:this.$10,onCompositionStart:this.$9,onCut:this.$11,onFocus:this.$19,onInput:this.$12,onKeyDown:this.$15,onMouseDown:this.$16,onPaste:this.$17,ref:this.$14,role:"textbox",tabIndex:0}),a?null:j.jsx("div",{className:"du4w35lb kr520xx4 ltmttdrg j9ispegn pmk7jnqg stjgntxs ni8dbmo4 n7fi1qx3 pipptul6 i09qtzwb",children:this.props.placeholder})]})});return j.jsxs(b("CometProgressivelyEnhancedComponent.react"),{fallback:a,forceFallback:this.state.proxyIsInCompositionMode,shouldStartEnhanced:!!k.getModuleIfRequired(),children:[j.jsx(p,{shouldSuspend:this.state.proxyIsInCompositionMode}),j.jsx(l,babelHelpers["extends"]({},this.props,{className:this.props.className,composerState:this.props.composerState,onClick:this.props.onClick,onCommit:this.props.onCommit,onComposerStateChange:this.props.onComposerStateChange,onInputRefUpdated:this.props.onInputRefUpdated,placeholder:this.props.placeholder,webDriverTestID:c+":rich-input"}))]})};return c}(j.Component);e.exports=a;function p(a){a=a.shouldSuspend;if(a)throw new(b("Promise"))(function(){});return null}}),null);
__d("composeUFI2Plugins",[],(function(a,b,c,d,e,f){"use strict";function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.reduce(function(a,b){return function(){return a(b.apply(void 0,arguments))}})}e.exports=a}),null);
__d("createUFI2ComposerPluginPipeline",["React","composeUFI2Plugins"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){if(a.length===0)return function(a){var b=a.render;a=babelHelpers.objectWithoutPropertiesLoose(a,["render"]);return g.jsx(b,babelHelpers["extends"]({},a))};var c=a;return function(a){babelHelpers.inheritsLoose(d,a);function d(){var d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.state={Pipeline:b("composeUFI2Plugins").apply(void 0,c)(e.props.render),mirroredRenderProp:e.props.render},d)||babelHelpers.assertThisInitialized(e)}d.getDerivedStateFromProps=function(a,d){return d.mirroredRenderProp!==a.render?{Pipeline:b("composeUFI2Plugins").apply(void 0,c)(a.render),mirroredRenderProp:a.render}:null};var e=d.prototype;e.render=function(){var a=this.props;a.render;a=babelHelpers.objectWithoutPropertiesLoose(a,["render"]);var b=this.state.Pipeline;return g.jsx(b,babelHelpers["extends"]({},a))};return d}(g.Component)}e.exports=a}),null);
__d("getCommentDataFromComposerState",["UnicodeUtils","emptyFunction","textProbablyWritingMarkdown"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){var c=a.attachmentMappers,d=a.composerState,e=a.contentBlockToTextWithEntitiesInputMessageMappers,f=d.attachment;a=d.feedbackID;var h=d.inputState,i=d.commentAssociatedWithReply,j=d.replyTargetClicked,k=d.usedWritingHelpToCompose,l=d.formattingStyle;c=f&&(f.__type==="ExistingAttachment"?[]:c.map(function(a){return a(f)}).filter(Boolean));var m={};switch(h.__type){case"plain-text":l==null&&b("textProbablyWritingMarkdown")(h.text)&&(l="MARKDOWN");return{commentData:{attachments:c,feedback_id:a,formatting_style:l,message:{text:h.text},reply_comment_parent_fbid:i==null?void 0:i.id,reply_target_clicked:j},entitiesByID:m,usedWritingHelpToCompose:k===!0};case"editor-state-based":default:h=h.editorState;var n=[],o=[],p=0,q=h.getCurrentContent();q.getBlockMap().forEach(function(a){var c="",d=0;a.findEntityRanges(b("emptyFunction").thatReturnsTrue,function(f,h){var i=e.some(function(e){e=e(a,q,f,h);var i=a.getText().slice(0,f),j=Math.max(0,i.length-(g||(g=b("UnicodeUtils"))).strlen(i));if(e!=null){i=e.entitiesByID;e=e.message;Object.assign(m,i);c+=e.text;e.ranges&&o.push.apply(o,e.ranges.map(function(a){return a?babelHelpers["extends"]({},a,{offset:a.offset+p-j+d}):a}));d+=e.text.length-(h-f);return!0}return!1});i===!1&&(c+=a.getText().slice(f,h).replace("@[","@ ["))});p+=(g||(g=b("UnicodeUtils"))).strlen(c)+1;n.push(c)});h=n.join("\n");if(h.trim()===""&&f==null)return null;l==null&&b("textProbablyWritingMarkdown")(h)&&(l="MARKDOWN");return{commentData:{attachments:c,feedback_id:a,file_marker:d.fileMarker,formatting_style:l,inline_annotation_data:d.inlineAnnotationData,insights_point_json:d.insightsPoint,message:{ranges:o,text:h},reply_comment_parent_fbid:i==null?void 0:i.id,reply_target_clicked:j},entitiesByID:m,usedWritingHelpToCompose:k===!0}}}e.exports=a}),null);
__d("makeUFI2ClientID",[],(function(a,b,c,d,e,f){"use strict";var g=0;function a(a){return a!=null&&a.startsWith("client:")?a:a!=null?"client:"+a:"client:feedback_comment:"+g++}e.exports=a}),null);
__d("setFocusOnUFI2ComposerInputState",["FBLogger","ifRequired"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.inputState;switch(c.__type){case"editor-state-based":return b("ifRequired")("EditorState",function(b){return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},c,{editorState:b.moveFocusToEnd(c.editorState)})})},function(){b("FBLogger")("ufi2").mustfix("Tried to set focus on a composer state whose inputState was of type `editor-state-based` but the EditorState module has not yet been defined. It should not be possible to produce a composer state of that type without the `EditorState` module being defined. Investigate why.");return a});case"plain-text":default:var d=c.text.length;return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},c,{selectionOffsets:{end:d,start:d}})})}}e.exports=a}),null);
__d("CometUFIComposer.react",["cx","invariant","CometErrorBoundary.react","CometRelay","CometTooltipGroup.react","CometTrackingNodeProvider.react","CometUFICommentRow.react","CometUFIComposerActions.react","CometUFIComposerOnBeforeUnloader.react","CometUFIProgressiveComposerInput.react","FBLogger","Random","React","UFI2Config","UFICommonInteractionEvents","UFICommonInteractionLogger","UFIODSLogger","Vector","WebFunnelLogger","collectDataAttributes","createUFI2ComposerPluginPipeline","getActiveElement","getCommentDataFromComposerState","getPlainTextFromUFI2InputState","getScrollableAreaContainingNode","gkx","ifRequireable","isUFI2ComposerStateEmpty","joinClasses","makeUFI2ClientID","memoize","nullthrows","requestAnimationFrameAcrossTransitions","setFocusOnUFI2ComposerInputState","stylex","useMergeRefs","CometUFIComposer_actor.graphql","CometUFIComposer_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;b("CometRelay").graphql;var l=b("CometRelay").useFragment,m=b("CometRelay").useRelayEnvironment,n=b("React"),o=b("UFI2Config").composerInputSamplingRateDenominator,p=[],q=b("memoize")(function(){var a=o||100;return b("Random").coinflip(a)&&b("gkx")("678290")}),r=function(c){babelHelpers.inheritsLoose(a,c);function a(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=[],d.$2=[],d.$3=n.createRef(),d.$4=n.createRef(),d.$6=!1,d.$7=null,d.$8=null,d.state={UFI2ComposerPluginPipeline:b("createUFI2ComposerPluginPipeline")(d.props.initialPlugins||p),composerState:d.props.initialComposerState||{attachment:null,commentAssociatedWithReply:null,feedbackID:b("nullthrows")(d.props.feedback.id,"A `CometUFIComposer` was mounted without a feedback target ID. This is a fatal error, since there's nothing useful a composer can do without one. Please check why the GraphQL query for this feedback object failed to materialize an ID."),formattingStyle:void 0,inputDecorators:[],inputState:b("CometUFIProgressiveComposerInput.react").createEmptyComposerState(),isLocked:!1}},d.$9=null,d.$10=function(a,c){var e=d.$7;return e?b("collectDataAttributes")(e,a,c):null},d.$12=function(){var a=d.props,c=a.actor,e=a.environment,f=a.feedLocation,g=a.onCommit,i=a.topLevelFeedbackID,j=a.useDefaultActor,k=b("makeUFI2ClientID")(b("UFICommonInteractionLogger").makeTrackingID()),l=c.id;l!=null||h(0,4686);var m=d.state.composerState.usedWritingHelpToCompose,n=function(a,b){b===void 0&&(b={}),g({actorID:l,clientID:k,commentData:a,entitiesByID:b,environment:e,feedLocation:f,feedbackSource:d.props.feedbackSource,focusCommentID:d.props.focusCommentID,getTrackingDataFn:d.$10,topLevelFeedbackID:i,useDefaultActor:j,usedWritingHelpToCompose:m})};a=d.state.composerState.inputState;if(a.__type==="plain-text"){if(a.text.trim()===""&&d.state.composerState.attachment==null)return;d.$13();d.$11(k);c=d.state.composerState;var o=c.attachment,p=c.commentAssociatedWithReply;c=c.replyTargetClicked;n({attachments:o&&(o.__type==="ExistingAttachment"?[]:d.$1.map(function(a){return a(o)}).filter(Boolean)),feedback_id:d.state.composerState.feedbackID,formatting_style:d.state.composerState.formattingStyle,message:{text:a.text},reply_comment_parent_fbid:p==null?void 0:p.id,reply_target_clicked:c});d.setState(function(a){return{composerState:babelHelpers["extends"]({},a.composerState,{attachment:null,formattingStyle:void 0,inputState:{__type:"plain-text",selectionOffsets:{end:0,start:0},text:""},replyTargetClicked:!1,usedWritingHelpToCompose:!1})}})}else{d.$11(k);a=function(){var a=b("getCommentDataFromComposerState")({attachmentMappers:d.$1,composerState:d.state.composerState,contentBlockToTextWithEntitiesInputMessageMappers:d.$2});if(a==null){d.setState(function(a){if(a.composerState.isLocked)return{composerState:babelHelpers["extends"]({},a.composerState,{isLocked:!1})};else return a});d.props.commentAction==="EDIT"&&n(null,{});return}d.$13();n(a.commentData,a.entitiesByID);d.setState(function(a){var c=a.composerState.inputState,d=c;switch(c.__type){case"editor-state-based":b("ifRequireable")("EditorState",function(a){d=babelHelpers["extends"]({},c,{editorState:a.moveFocusToEnd(a.createEmpty())})},function(){b("FBLogger")("ufi2").warn("Someone made a comment and we tried to clear the input. The `inputState` was `editor-state-based` but the `EditorState` module was not available on the client. This should be impossible, but here we are. The comment was made but the input was not cleared.")});break;case"plain-text":d=babelHelpers["extends"]({},c,{selectionOffsets:{end:0,start:0},text:""});break;default:c}return{composerState:babelHelpers["extends"]({},a.composerState,{attachment:null,formattingStyle:void 0,inputState:d,isLocked:!1,replyTargetClicked:!1,usedWritingHelpToCompose:!1})}})};d.setState(function(a){return{composerState:babelHelpers["extends"]({},a.composerState,{isLocked:!0})}},a)}},d.$14=function(){d.$5&&!d.$6&&(new(b("WebFunnelLogger"))("CometUFIComposerWebFunnelDefinition").setSessionKey(d.$5).setAction("first_input").log(),d.$6=!0);q()&&(d.$8=b("UFICommonInteractionLogger").startInteraction(b("UFICommonInteractionEvents").COMET_UFI_COMPOSER_KEYPRESS_LATENCY));return"not-handled"},d.$15=function(a){d.setState(function(b){b=b.composerState;if(b.isLocked)return{};var c=a(b);if(c){b=babelHelpers["extends"]({},b,c);return{composerState:b}}else return null})},d.$16=function(a){d.$7=a,d.props.onInputRefUpdated&&d.props.onInputRefUpdated(a)},d.$17=function(){d.props.onFocus!=null&&d.props.onFocus();if(!d.$5){var a=d.props.actor.id;a&&(d.$5=a+"_"+Date.now(),new(b("WebFunnelLogger"))("CometUFIComposerWebFunnelDefinition").setSessionKey(d.$5).setAction("focus").setFunnelTags(["depth_"+d.props.depth]).markStart().log())}},d.$18=function(a){var c=d.state.composerState.inputState;switch(c.__type){case"editor-state-based":a.preventDefault();d.setState(function(a){var c=a.composerState.inputState;if(c.__type!=="editor-state-based"){b("FBLogger")("ufi2").warn("While handling a focus trigger click on an editor-state-based input the `inputState` type unexpectedly changed to `%s`.",c.__type);return null}var d=c.editorState,e=d.getSelection();if(e.getHasFocus()===!1){var f=e.set("hasFocus",!0);return b("ifRequireable")("EditorState",function(b){return{composerState:babelHelpers["extends"]({},a.composerState,{inputState:babelHelpers["extends"]({},c,{editorState:b.forceSelection(d,f)})})}},function(){return null})}else return null});break;case"plain-text":default:a.preventDefault(),b("getActiveElement")()!==d.$7&&d.focus()}},d.$19=function(a){a.target===d.$4.current&&d.$18(a)},d.$20=function(){var a;for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];(a=d.$1).push.apply(a,c);var f=!1;return{remove:function(){if(f)return;f=!0;this.$1=this.$1.filter(function(a){return c.includes(a)===!1})}}},d.$21=function(){var a;for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];(a=d.$2).push.apply(a,c);var f=!1;return{remove:function(){if(f)return;f=!0;this.$2=this.$2.filter(function(a){return c.includes(a)===!1})}}},d.isUnfinished=function(){if(d.props.initialComposerState){if(d.props.initialComposerState!==d.state.composerState)return!0}else if(!b("isUFI2ComposerStateEmpty")(d.state.composerState))return!0;return!1},d.$22=function(a){var c=a.actions;a=a.inputProps;var e=d.props,f=e.depth;e=e.placeholder;var g=a.composerState,h=a.isCommentDenied,i=b("getPlainTextFromUFI2InputState")(g.inputState).trim()!=="";return n.jsxs("form",{className:b("joinClasses")((h?"_882o":"")+(g.isLocked?" _4w75":"")+" _129h"+(i?" _7c_q":""),(k||(k=b("stylex"))).dedupe(g.isLocked?{"cursor-1":"bnpdmtie"}:{},{"cursor-1":"o6r2urh6","position-1":"l9j0dhe7"}),a.formClassName),onClick:d.$19,ref:d.$4,role:"presentation",children:[n.jsx(b("CometUFIProgressiveComposerInput.react"),{ariaDescribedBy:d.props.ariaDescribedBy,ariaLabel:d.props.ariaLabel,className:b("joinClasses")((i===!1?"_7c_r":"")+" _4w79",a.className),composerState:a.composerState,depth:f,handleBeforeInput:d.$14,handleCommand:a.handleCommand,handleKeyCommand:a.handleKeyCommand,handlePastedFiles:a.handlePastedFiles,keyBindingFn:a.keyBindingFn,onBlur:a.onBlur,onClick:a.onClick,onCommit:a.onCommit,onComposerStateChange:a.onComposerStateChange,onFocus:a.onFocus,onInputRefUpdated:a.onInputRefUpdated,placeholder:a.placeholder||e,ref:d.$3,webDriverTestID:a.webDriverTestID}),c?n.jsx(b("CometTooltipGroup.react"),{children:n.jsx(b("CometUFIComposerActions.react"),{children:c})}):null]})},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.$11=function(a){var c=this.props.commentAction,d=c==="ADD"?b("UFICommonInteractionEvents").COMET_UFI_OPTIMISTIC_COMMENT:b("UFICommonInteractionEvents").COMET_UFI_OPTIMISTIC_COMMENT_EDIT;b("UFICommonInteractionLogger").startInteraction(d,a+d);d=c==="ADD"?b("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT:b("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT_EDIT;b("UFICommonInteractionLogger").startInteraction(d,a+d)};d.componentDidUpdate=function(a,c){a=this.$8;a&&c.composerState!==this.state.composerState&&(this.$8=null,b("UFICommonInteractionLogger").endInteractionAtEndOfFrame(a))};d.$13=function(){this.$5&&(new(b("WebFunnelLogger"))("CometUFIComposerWebFunnelDefinition").setSessionKey(this.$5).setAction("commit").markEnd().log(),delete this.$5,this.$6=!1)};d.componentDidMount=function(){var a=this.props,c=a.depth;a=a.feedbackSource;a===1&&(c===0?b("UFIODSLogger").bump("composer.newsfeed.toplevel.componentDidMount","comet"):b("UFIODSLogger").bump("composer.newsfeed.replies.componentDidMount","comet"))};d.componentWillUnmount=function(){window.cancelAnimationFrame(this.$9)};d.execCommand=function(a){this.$3.current?this.$3.current.execCommand(a):b("FBLogger")("ufi2").warn("Someone tried to run a `%s` command, but a ref to the composer was not yet available.",a.__type)};d.getElementToScrollTo=function(){return this.$7};d.focus=function(){var a=this.$7;if(!a)return;if(this.state.composerState.inputState.__type==="plain-text"&&!this.state.composerState.isLocked){var c=b("getScrollableAreaContainingNode")(a);if(c){var d=c.getScrollTop();this.$9=b("requestAnimationFrameAcrossTransitions")(function(){c.setScrollTop(d,!1)})}else{var e=b("Vector").getScrollPosition();this.$9=b("requestAnimationFrameAcrossTransitions")(function(){window.scrollTo(e.x,e.y)})}a.focus({preventScroll:!0})}this.$15(function(a){return b("setFocusOnUFI2ComposerInputState")(a)})};d.render=function(){var a=this.props,c=a.actor,d=a.className,e=a.depth;a=a.forceLargeAvatar;a=a===void 0?!1:a;var f=this.state.UFI2ComposerPluginPipeline;return n.jsx(b("CometErrorBoundary.react"),{context:{project:"ufi2"},children:n.jsxs(b("CometTrackingNodeProvider.react"),{trackingNode:34,children:[n.jsx(b("CometUFIComposerOnBeforeUnloader.react"),{isUnfinished:this.isUnfinished}),n.jsx(b("CometUFICommentRow.react"),{actor:c,className:d,"data-testid":void 0,depth:e,displayPresence:!0,forceLargeAvatar:a,isComposer:!0,onAvatarClick:this.$18,children:n.jsx(f,{actions:this.props.actions||p,initialComposerState:this.props.initialComposerState,inputProps:{commentAction:this.props.commentAction,composerState:this.state.composerState,depth:e,formClassName:this.props.formClassName,onClick:this.$18,onCommit:this.$12,onComposerStateChange:this.$15,onFocus:this.$17,onInputRefUpdated:this.$16},onInstallAttachmentMappers:this.$20,onInstallContentBlockToTextWithEntitiesInputMessageMappers:this.$21,render:this.$22})})]})})};return a}(n.Component);function a(a,c){var d=a.actor,e=a.componentRef,f=a.feedback;a=babelHelpers.objectWithoutPropertiesLoose(a,["actor","componentRef","feedback"]);d=l(i!==void 0?i:i=b("CometUFIComposer_actor.graphql"),d);f=l(j!==void 0?j:j=b("CometUFIComposer_feedback.graphql"),f);var g=m();return n.jsx(r,babelHelpers["extends"]({},a,{actor:d,environment:g,feedback:f,ref:b("useMergeRefs")(c,e)}))}c=n.forwardRef(a);e.exports=c}),null);
__d("CometUFIRepliesCollapser.react",["ix","fbt","CometUFICommentsPagerBase.react","NumberFormat","React","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=a.Selectors,d=a.collapseList,e=a.depth;a=a.listState;if(e!==1){b("recoverableViolation")("CometUFIRepliesExpander: Can only render replies expander at depth 1","ufi2");return null}if(!c.isRepliesCollapserVisible({depth:e,state:a}))return null;c=c.getVisibleCommentsCount({depth:e,state:a});a=h._({"*":{"*":"Hide {count} Replies","_1":"Hide {count} Reply"}},[h._param("count",b("NumberFormat").formatInteger(c),[0,c]),h._plural(c)]);return i.jsx(b("CometUFICommentsPagerBase.react"),{depth:e,freshIndicatorVisible:!1,icon:b("fbicon")._(g("505579"),16),isFreshIndicatorAlignedAtStart:!1,isLoading:!1,onPress:d,children:a})}}),null);
__d("CometUFIRepliesExpander.react",["ix","fbt","CometMiddot.react","CometRelativeTimestamp.react","CometRow.react","CometRowItem.react","CometUFICommentsPagerBase.react","DateConsts","GraphQLGender","NumberFormat","React","RelayHooks","TetraProfilePhoto.react","TetraText.react","UFI2SilhouetteConfig","fbicon","recoverableViolation","stylex","useServerTime","CometUFIRepliesExpander_highlightedComments.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React"),k={ellipsisText:{display:"q9uorilb",overflowX:"ni8dbmo4",overflowY:"stjgntxs",textOverflow:"ltmttdrg"},item:{whiteSpace:"g0qnabr5"}};function l(a){var c=a.timestamp;a=j.useMemo(function(){return new Date(c*b("DateConsts").MS_PER_SEC)},[c]);return j.jsx(b("TetraText.react"),{numberOfLines:1,type:"meta3",children:j.jsx(b("CometRelativeTimestamp.react"),{date:a,format:"minimized"})})}function a(a){var c=b("RelayHooks").useFragment(i!==void 0?i:i=b("CometUFIRepliesExpander_highlightedComments.graphql"),a.highlightedComments),d=b("useServerTime")(),e=a.Selectors,f=a.depth,m=a.expandList,n=a.listState,o=a.onMouseEnter;a=a.viewOption;if(f!==1){b("recoverableViolation")("CometUFIRepliesExpander: Can only render replies expander at depth 1","ufi2");return null}if(!e.isRepliesExpanderVisible({depth:f,state:n}))return null;var p=e.getRepliesExpanderCount({depth:f,state:n});if(p==null){b("recoverableViolation")("CometUFIRepliesExpander: Tried rendering a visible replies expander without a count","ufi2");return null}var q=e.isRepliesExpanderLoading({depth:f,state:n});c=c||[];c=c[0];e=e.getRepliesExpanderError({depth:f,state:n});n=h._({"*":{"*":"{count} Replies","_1":"{count} Reply"}},[h._param("count",b("NumberFormat").formatInteger(p),[0,p]),h._plural(p)]);p=n;if(c&&c.author){var r,s=c.author,t=s.name;c=c.created_time;r=(r=s.profilePictureForReplyExpander)==null?void 0:r.uri;var u=new(b("GraphQLGender"))(s.gender);if(t!=null&&r!=null&&c!=null){d=d.getTime();d=d/1e3-c<43200||a==="RECENT_ACTIVITY";p=j.jsxs(b("CometRow.react"),{paddingHorizontal:0,paddingVertical:0,spacing:4,verticalAlign:"center",children:[j.jsx(b("CometRowItem.react"),{children:j.jsx(b("TetraProfilePhoto.react"),{addOn:s.availability==="ACTIVE"?{type:"availabilityBadge"}:void 0,size:24,source:{uri:(a=r)!=null?a:b("UFI2SilhouetteConfig").neutralSilhouette24}})}),j.jsx(b("CometRowItem.react"),{xstyle:[k.item,k.ellipsisText],children:h._({"*":"{actor} replied"},[h._name("actor",t,u.toIntlVariationsEnum())])}),j.jsx(b("CometRowItem.react"),{children:j.jsx(b("CometMiddot.react"),{})}),j.jsx(b("CometRowItem.react"),{xstyle:k.item,children:n}),d?j.jsx(b("CometRowItem.react"),{xstyle:k.item,children:j.jsx(l,{timestamp:c})}):null]})}}return j.jsx(b("CometUFICommentsPagerBase.react"),{depth:f,error:e,freshIndicatorVisible:!1,icon:b("fbicon")._(g("1602003"),16),isFreshIndicatorAlignedAtStart:!1,isLoading:q,onMouseEnter:o,onPress:function(){return m({focusComposer:!0})},children:p})}}),null);
__d("CometUFIReactionLinkWithError.react",["CometUFIReactionLink.react","React","useCometUFICodedErrorDialog"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=b("useCometUFICodedErrorDialog")(),d=c.errorDialog;c=c.setError;return g.jsxs(g.Fragment,{children:[g.jsx(b("CometUFIReactionLink.react"),babelHelpers["extends"]({},a,{onReactionError:c})),d]})}}),null);
__d("useNoopNUX",["emptyFunction"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return[b("emptyFunction"),b("emptyFunction")]}e.exports=a}),null);
__d("CometUFICommentDisabledNotice_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentDisabledNotice_feedback",selections:[{alias:"display_comments_count",args:null,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"comments_disabled_notice",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentRow_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"scale",variableName:"scale"},b=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometUFICommentRow_actor",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"profile_picture_depth_0",args:[{kind:"Literal",name:"height",value:32},a,{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:b,storageKey:null},{alias:"profile_picture_depth_1",args:[{kind:"Literal",name:"height",value:24},a,{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:b,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}}();e.exports=a}),null);
__d("CometUFICommentRow_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentRow_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentActorLink_comment"}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentTopReactions_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentTopReactions_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count_reduced",storageKey:null}],storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIComposerWrapperUseComposerPluginProps_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFIComposerWrapperUseComposerPluginProps_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_see_voice_switcher",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_file",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_gif",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_insight_point",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_photo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_sticker",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_stars",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_bot_mention",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_marker",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_comment_markdown_eligible",storageKey:null},{alias:"flat_threading_config",args:[{kind:"Literal",name:"type",value:"FLAT_THREADING"}],concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'threading_config(type:"FLAT_THREADING")'},a,{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Avatar",kind:"LinkedField",name:"user_avatar",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_fb_app_avatar",storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"composer_tip",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mentions_datasource_js_constructor_args_json",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_interruptive_rules_in_composer",storageKey:null},{alias:null,args:null,concreteType:"GroupMentionsSectionsInfo",kind:"LinkedField",name:"group_mentions_sections_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"member_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"member_aux",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nonmember_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nonmember_aux",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bot_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bot_aux",storageKey:null}],storageKey:null},a,{args:null,kind:"FragmentSpread",name:"GroupsCometRules_group"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometUFIComposerPlugins_feedback"}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFIComposerWrapper_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIComposerWrapper_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"constituent_badge_banner_link",storageKey:null},{alias:"composer_renderer",args:null,concreteType:null,kind:"LinkedField",name:"content_based_comment_list_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{documentName:"CometUFIComposerWrapper_feedback",fragmentName:"CometDefaultCommentListComposer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"DefaultContentBasedCommentListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFIComposerWrapper_feedback",fragmentName:"CometLiveCommentListComposer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"LiveContentBasedCommentListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFIComposerWrapper_feedback",fragmentName:"CometLiveVODCommentListComposer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"LiveVODContentBasedCommentListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFIComposerWrapper_feedback",fragmentName:"CometLivingRoomCommentListComposer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"LivingRoomContentBasedCommentListRenderer",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"have_comments_been_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_muted",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentDisabledNotice_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("getCometUFIComposerPlugins_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:{mask:!1},name:"getCometUFIComposerPlugins_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_see_voice_switcher",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_file",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_gif",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_insight_point",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_photo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_sticker",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_stars",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_bot_mention",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_marker",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_comment_markdown_eligible",storageKey:null},{alias:"flat_threading_config",args:[{kind:"Literal",name:"type",value:"FLAT_THREADING"}],concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'threading_config(type:"FLAT_THREADING")'},a,{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Avatar",kind:"LinkedField",name:"user_avatar",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_fb_app_avatar",storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"composer_tip",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mentions_datasource_js_constructor_args_json",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_interruptive_rules_in_composer",storageKey:null},{alias:null,args:null,concreteType:"GroupMentionsSectionsInfo",kind:"LinkedField",name:"group_mentions_sections_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"member_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"member_aux",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nonmember_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nonmember_aux",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bot_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bot_aux",storageKey:null}],storageKey:null},a,{args:null,kind:"FragmentSpread",name:"GroupsCometRules_group"}],storageKey:null}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("UFI2BanActorLink_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UFI2BanActorLink_comment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_author_banned_by_content_owner",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"viewer_acts_as_page",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("useCometTrackingCodeForMutationProperties",["CometRouteURL","CometTrackingCodeContext","React","getReferrerURI"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=b("CometRouteURL").useRouteURLParams(),c=b("getReferrerURI")(),d=c?c.getPath():void 0,e=g.useContext(b("CometTrackingCodeContext")),f=a.notif_id,h=a.notif_t;c=g.useMemo(function(){var a=null;f!=null&&(a=JSON.stringify({alert_id:f,notif_source:"notif_tab",notif_type:h}));a=a!=null?[a].concat(e.encrypted_tracking):e.encrypted_tracking;return{feedback_referrer:d,is_tracking_encrypted:!0,tracking:a}},[d,f,h,e]);return c}}),null);
__d("CometStarsVirtualGiftView.react",["ix","CometImage.react","React","TetraText.react","asset","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j={giftImage:{marginTop:"kvgmc6g5",marginEnd:"ad2k81qe",marginBottom:"oygrvhab",marginStart:"f9o22wc5"},largeGift:{height:"mosphszs",width:"izv4vf8l"},largeGiftImage:{width:"qddtkmgn"},largeTierPillColor:{backgroundColor:"mlc9a98j"},mediumGift:{height:"mosphszs",width:"izv4vf8l"},mediumGiftImage:{width:"g5mibhkg"},root:{display:"j83agx80",flexDirection:"cbu4d94t",justifyContent:"i1fnvgqd",paddingTop:"pybr56ya",paddingEnd:"rz4wbd8a",paddingBottom:"f10w8fjw",paddingStart:"a8nywdso"},selectedCard:{boxShadow:"hrm8yls5"},smallGift:{height:"pe468gzs",width:"tuwtu1qs"},smallGiftImage:{width:"r1eg49ei"},starsIconRightMargin:{display:"pq6dq46d",marginEnd:"qq4y78aw"},starsPill:{alignItems:"bp9cbjyn",backgroundColor:"d1q1lyhi",borderTopStartRadius:"lit7pgxp",borderTopEndRadius:"o3c63hce",borderBottomEndRadius:"hqlzco19",borderBottomStartRadius:"lsl2245n",display:"j83agx80",height:"rgmg9uty",justifyContent:"gt1oanoe",marginTop:"kvgmc6g5",marginEnd:"ad2k81qe",marginBottom:"oygrvhab",marginStart:"f9o22wc5",paddingTop:"jb3vyjys",paddingEnd:"d1544ag0",paddingBottom:"qt6c0cv9",paddingStart:"tw6a2znq"}};function a(a){var c=a.giftAnimatedImage,d=a.isSelected,e=a.starsAmount;a=a.tier;return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root,a==="LARGE"&&j.largeGift,a==="MEDIUM"&&j.mediumGift,a==="SMALL"&&j.smallGift,d&&j.selectedCard),children:[i.jsx(b("CometImage.react"),{src:c,xstyle:[j.giftImage,a==="LARGE"&&j.largeGiftImage,a==="MEDIUM"&&j.mediumGiftImage,a==="SMALL"&&j.smallGiftImage]}),i.jsxs("div",{align:"center",className:h(j.starsPill,a==="LARGE"&&j.largeTierPillColor),justify:"evenly",children:[i.jsx("span",{className:h(j.starsIconRightMargin),children:i.jsx(b("CometImage.react"),{src:a==="LARGE"?g("647916"):g("852669")})}),i.jsx(b("TetraText.react"),{color:a==="LARGE"?"white":"secondary",type:"bodyLink3",children:e})]})]})}}),null);
__d("UFI2ViewOption",["qex"],(function(a,b,c,d,e,f){"use strict";a={isChronologicalOrder:function(a){var c=b("qex");if(a==="FRIENDS_COMMENTS"&&!c._("1080217"))return!1;switch(a){case"RECENT_ACTIVITY":case"RANKED_THREADED":case"RANKED_UNFILTERED":case"LIVE_STREAMING":case"RANKED_SUB_REPLIES":case"RANKED_REPLIES":case"MOST_VOTED":case"MOST_REACCS":case"ANSWERED":case"UNANSWERED":case"MOST_ENGAGEMENT":return!1}return!0}};e.exports=a}),null);
__d("CometUFICommentDisabledNotice.react",["CometEmojiTransform","CometEmoticonTransform","CometLineBreakTransform","CometLinkedEntityRenderer","CometRelay","CometShortenedExternalUrlEntityRenderer","CometTextWithEntitiesRelay.react","React","TetraText.react","UFI2ViewOption","stylex","CometUFICommentDisabledNotice_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=b("React"),j={"*":[b("CometLinkedEntityRenderer")],ExternalUrl:[b("CometShortenedExternalUrlEntityRenderer")]},k=[b("CometEmoticonTransform")(),b("CometEmojiTransform")(),b("CometLineBreakTransform")];function a(a){var c=a.feedback;a=a.viewOption;c=b("CometRelay").useFragment(g!==void 0?g:g=b("CometUFICommentDisabledNotice_feedback.graphql"),c);var d=c.comments_disabled_notice;if(d==null)return null;a=b("UFI2ViewOption").isChronologicalOrder(a);d=i.jsx(b("TetraText.react"),{align:"center",type:"meta1",children:i.jsx(b("CometTextWithEntitiesRelay.react"),{renderers:j,textWithEntities:d,transforms:k})});c=c.display_comments_count!=null&&c.display_comments_count.count!=null&&c.display_comments_count.count>0;return i.jsx("div",{className:(h||(h=b("stylex"))).dedupe({"align-items-1":"bp9cbjyn","background-color-1":"b3i9ofy5","border-top-0.3":"l6v480f0","display-1":"j83agx80","justify-content-1":"taijpn5t","padding-top-1":"discj3wi","padding-bottom-1":"ihqw7lf3","word-wrap-1":"c1et5uql"},c?{"margin-top-1":"aov4n071","margin-bottom-1":"bi6gxh9e"}:{"margin-bottom-1":"enqfppq2"},a?{"border-bottom-end-radius-1":"ihh4hy1g","border-bottom-start-radius-1":"qttc61fc","margin-bottom-1":"enqfppq2"}:null),children:d})}}),null);
__d("CometUFICommentRow.react",["ix","fbt","CometPressable.react","CometRelativeTimestamp.react","CometRelay","CometUFICommentActorLink.react","GraphQLGender","React","TetraIcon.react","TetraProfilePhoto.react","UFI2SilhouetteConfig","fbicon","gkx","joinClasses","stylex","useServerTime","CometUFICommentRow_actor.graphql","CometUFICommentRow_comment.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;b("CometRelay").graphql;var l=b("CometRelay").useFragment,m=b("React"),n=b("gkx")("1638988");function a(a){var c=a.actor,d=a.children,e=a.className,f=a.comment,o=a.depth,p=a.displayPresence;p=p===void 0?!1:p;var q=a.forceLargeAvatar;q=q===void 0?!1:q;var r=a.isComposer;r=r===void 0?!1:r;var s=a.onAvatarClick,t=a.root,u=a.showWarning;u=u===void 0?!1:u;a=babelHelpers.objectWithoutPropertiesLoose(a,["actor","children","className","comment","depth","displayPresence","forceLargeAvatar","isComposer","onAvatarClick","root","showWarning"]);c=l(i!==void 0?i:i=b("CometUFICommentRow_actor.graphql"),c);f=l(j!==void 0?j:j=b("CometUFICommentRow_comment.graphql"),f);var v;u?v={icon:m.jsx(b("TetraIcon.react"),{color:"negative",icon:b("fbicon")._(g("681770"),16)}),size:16,type:"activityBadge"}:p&&c.availability==="ACTIVE"&&(v={type:"availabilityBadge"});u=o===0||q?m.jsx(b("TetraProfilePhoto.react"),{addOn:v,size:32,source:{uri:(p=(u=c.profile_picture_depth_0)==null?void 0:u.uri)!=null?p:b("UFI2SilhouetteConfig").neutralSilhouette32}}):m.jsx(b("TetraProfilePhoto.react"),{addOn:v,size:24,source:{uri:(p=(u=c.profile_picture_depth_1)==null?void 0:u.uri)!=null?p:b("UFI2SilhouetteConfig").neutralSilhouette24}});r===!1&&c.id!=null&&(u=m.jsx(b("CometUFICommentActorLink.react"),{"aria-hidden":!0,comment$key:f,kind:"profilePhoto",children:u}));r&&(u=m.jsx(b("CometPressable.react"),{"aria-label":o===0?h._("Write a comment\u2026"):h._("Write a reply\u2026"),onPress:s,overlayRadius:"50%",children:u}));u=m.jsx("div",{className:(k||(k=b("stylex"))).dedupe({"align-self-1":"nqmvxvec","border-top-start-radius-1":"s45kfl79","border-top-end-radius-1":"emlxlaya","border-bottom-end-radius-1":"bkmhp75w","border-bottom-start-radius-1":"spb7xbtv","display-1":"a8c37x1j","margin-end-1":"fv0vnmcu","margin-top-1":"rs0gx3tq","position-1":"l9j0dhe7"},o===1&&!q?{"margin-top-1":"qjjbsfad"}:null),children:u});p=new(b("GraphQLGender"))(c.gender).toIntlVariationsEnum();q=f==null?void 0:(s=f.comment_parent)==null?void 0:s.author;s=b("useServerTime")();s=(f==null?void 0:f.created_time)!=null?b("CometRelativeTimestamp.react").getRelativeTimestamp(s,new Date(f.created_time*1e3)):"";f=r?{}:{"aria-label":o===0?h._({"*":"Comment by {commenterName} {relativeTimestamp}"},[h._param("commenterName",c.name,[1,p]),h._param("relativeTimestamp",s)]):h._({"*":{"*":"Reply by {commenterName} to {parentCommenterName}'s comment {relativeTimestamp}"}},[h._param("commenterName",c.name,[1,p]),h._param("parentCommenterName",q==null?void 0:q.name,[1,new(b("GraphQLGender"))(q==null?void 0:q.gender).toIntlVariationsEnum()]),h._param("relativeTimestamp",s)]),role:"article",tabIndex:"-1"};return m.jsxs("div",babelHelpers["extends"]({},a,f,{className:b("joinClasses")(e,"lzcic4wl btwxx1t3 j83agx80"+(n?" tkr6xdv7":"")),ref:t,children:[u,m.jsx("div",{className:"stjgntxs ni8dbmo4 g3eujd1d",children:d})]}))}e.exports=a}),null);
__d("CometUFICommentTopReactions.react",["CometPressable.react","CometReactionIcon.react","CometRelay","CometUFIReactionsDialog.entrypoint","CometUFITooltip.react","JSResource","React","recoverableViolation","stylex","unrecoverableViolation","useCometEntryPointDialog","useCometInteractionTracing","CometUFICommentTopReactions_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=b("React"),j=b("JSResource")("CometUFICommentReactionIconTooltipContent.react").__setRef("CometUFICommentTopReactions.react"),k={count:{color:"m9osqain",fontSize:"e9vueds3",fontWeight:"knj5qynh",lineHeight:"j5wam9gi",paddingTop:"jb3vyjys",paddingEnd:"n8tt0mok",paddingBottom:"qt6c0cv9",paddingStart:"hyh9befq",whiteSpace:"g0qnabr5"},reaction:{borderEnd:"nl6bj373",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",marginStart:"rl04r1d5",outline:"lzcic4wl",position:"l9j0dhe7"},reactionsContainer:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"rl25f0pe",paddingStart:"b3onmgus"},root:{alignItems:"bp9cbjyn",backgroundColor:"hn33210v",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",boxShadow:"jkio9rs9",display:"j83agx80",fontSize:"r9r71o1u",paddingTop:"jwdofwj8",paddingEnd:"n8tt0mok",paddingBottom:"r8blr3vg",paddingStart:"hyh9befq"}};function a(a){var c=b("CometRelay").useFragment(g!==void 0?g:g=b("CometUFICommentTopReactions_feedback.graphql"),a.feedback),d=c.id;if(d==null)throw b("unrecoverableViolation")("CometUFICommentTopReactions: Expected feedback id","ufi2");var e=b("useCometEntryPointDialog")(b("CometUFIReactionsDialog.entrypoint"),{feedbackTargetID:d}),f=e[0];e=e[1];var l=b("useCometInteractionTracing")(30605374,"fluid","INTERACTION"),m=i.useCallback(function(){l(function(){f({})})},[f,l]),n=c.reactors,o=c.top_reactions;n=n==null?void 0:n.count_reduced;o=o==null?void 0:o.edges;if(o==null)return b("recoverableViolation")("CometUFICommentTopReactions: Expected reaction edges","ufi2");if(o.length===0)return null;if(n==null){return b("recoverableViolation")("CometUFICommentTopReactions: Expected a reaction count, targetID: "+((c=c==null?void 0:c.id)!=null?c:"UNKNOWN"),"ufi2")}c=o.slice(0,3);o=i.jsxs("div",{className:(h||(h=b("stylex")))(k.root),children:[i.jsx("div",{className:h(k.reactionsContainer),children:c.reverse().map(function(a){a=(a=a.node)==null?void 0:a.reaction_type;return a==null?b("recoverableViolation")("CometUFICommentTopReactions: Expected reaction_type on reaction","ufi2"):i.jsx(b("CometReactionIcon.react"),{reactionType:a,size:16,xstyle:k.reaction},"UFIReactionIcon:"+a)})}),i.jsx("span",{className:h(k.count),children:n},"count_reduced")]});return i.jsx("div",{ref:a.rootRef,children:i.jsx(b("CometUFITooltip.react"),{tooltipContentComponent:j,tooltipContentProps:{feedbackTargetID:d},children:i.jsx(b("CometPressable.react"),{display:"inline",onPress:m,ref:e,children:o})})})}}),null);
__d("CometUFIComposerWrapper.react",["CometPlaceholder.react","CometRelay","CometUFICommentDisabledNotice.react","JSResource","React","lazyLoadComponent","recoverableViolation","requireCond","cr:1534597","cr:1506743","CometUFIComposerWrapperUseComposerPluginProps_feedback.graphql","CometUFIComposerWrapper_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";f.useComposerPluginProps=a;f.CometUFIComposerWrapper=c;var g,h,i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("UFI2CommentingAsConstituentHeader.react").__setRef("CometUFIComposerWrapper.react"));function a(a,c){var d=b("CometRelay").useRelayEnvironment(),e=b("CometRelay").useFragment(g!==void 0?g:g=b("CometUFIComposerWrapperUseComposerPluginProps_feedback.graphql"),c),f=b("cr:1506743")(e);return i.useMemo(function(){if(e==null){b("recoverableViolation")("Unable to create initial plugins for composer pipeline because feedback is null","ufi2");return{initialPlugins:[]}}var a=f!=null&&f.length>0?f:b("cr:1534597")!==null?b("cr:1534597")({environment:d,feedback:e,pluginsToInsertBeforePositions:null}):[];return{initialPlugins:a.filter(Boolean)}},[d,e,f])}function c(a){var c=b("CometRelay").useFragment(h!==void 0?h:h=b("CometUFIComposerWrapper_feedback.graphql"),a.feedback),d=a.className,e=a.commentsListRenderProps,f=a.composerPluginProps;a=a.onCommitCommentCreate;var g=c.composer_renderer,k=c.constituent_badge_banner_link,l=c.have_comments_been_disabled,m=c.is_viewer_muted,n=e.Selectors,o=e.depth,p=e.getComposerProps,q=e.listState;e=e.viewOption;n=n.isComposerVisible({depth:o,state:q});q={className:d,commentAction:"ADD",composerPluginProps:f,depth:o,getComposerProps:p,onCommit:a,viewOption:e};return l===!0||m===!0?i.jsx(b("CometUFICommentDisabledNotice.react"),{feedback:c,viewOption:e}):n&&g!=null?i.jsxs(i.Fragment,{children:[k!=null?i.jsx(b("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{uri:k})}):null,i.jsx(b("CometRelay").MatchContainer,{match:g,props:q})]}):null}}),null);
__d("createCometUFILiveTypingBroadcastComposerPlugin",["Bootloader","React","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){return function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=e.call.apply(e,[this].concat(g))||this,d.$1=!1,d.$2=!1,d.state={upgradedPlugin:b("ifRequired")("getUpgradedCometUFILiveTypingBroadcastComposerPlugin",function(b){return b(a)},function(){return null})},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.componentWillUnmount=function(){this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.componentWillUnmount()};f.$3=function(){var c=this;if(this.state.upgradedPlugin||this.$1)return;this.$1=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedCometUFILiveTypingBroadcastComposerPlugin"],function(b){b=b(a);b.onBootload(c.props,c.state,c.$2);c.setState({upgradedPlugin:b})},"createCometUFILiveTypingBroadcastComposerPlugin"))};f.render=function(){var a=this;if(this.state.upgradedPlugin!=null)return this.state.upgradedPlugin.render(this.props,this.state,c);else return g.jsx(c,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{onBlur:function(b){a.props.inputProps.onBlur&&a.props.inputProps.onBlur(b);if(b.isDefaultPrevented())return;a.$2=!1},onFocus:function(b){a.props.inputProps.onFocus&&a.props.inputProps.onFocus(b);if(b.isDefaultPrevented())return;a.$2=!0;a.$3()}})}))};return d}(g.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}}),null);
__d("createUFI2AssociateReplyWithParentComposerPlugin",["React","createUFI2ComposerPlugin"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(){return function(a){var c=function(c){babelHelpers.inheritsLoose(b,c);function b(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=function(a){var c=b.props.inputProps;if(a.__type==="SetReplyAssociation"){var d=a.commentAssociatedWithReply;c.onComposerStateChange(function(a){return babelHelpers["extends"]({},a,{commentAssociatedWithReply:d})})}else if(a.__type==="SetReplyAssociationLegacy"){var e=a.commentBeingRepliedTo,f=e==null?void 0:e.id;e!=null&&f!=null?c.onComposerStateChange(function(a){return babelHelpers["extends"]({},a,{commentAssociatedWithReply:{commentComposerPlaceholderText:(a=e.feedback)==null?void 0:a.comment_composer_placeholder,id:f}})}):c.onComposerStateChange(function(a){return babelHelpers["extends"]({},a,{commentAssociatedWithReply:void 0})})}c.handleCommand&&c.handleCommand(a)},a)||babelHelpers.assertThisInitialized(b)}var d=b.prototype;d.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{handleCommand:this.$1})}))};return b}(g.Component);return b("createUFI2ComposerPlugin")(c)}}e.exports=a}),null);
__d("getComposerStateSnapshotter",["CometLruCache","memoizeWithArgsWeak"],(function(a,b,c,d,e,f){"use strict";var g=b("CometLruCache").create(20);function h(a){a=a.inputProps;var b=a.depth;a=a.composerState.feedbackID;return JSON.stringify({depth:b,feedback:{id:a}})}function a(a){var b=h(a);return{clear:function(){g["delete"](b)},get:function(){return g.get(b)},set:function(a){g.set(b,a)}}}e.exports=b("memoizeWithArgsWeak")(a)}),null);
__d("createUFI2ComposerStateSnapshotComposerPlugin",["React","createUFI2ComposerPlugin","getComposerStateSnapshotter","killswitch"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(){return function(a){var c=function(c){babelHelpers.inheritsLoose(b,c);function b(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=!1,b.$2=function(a){b.props.snapshotter.set(b.props.inputProps.composerState),b.props.inputProps.onComposerStateChange(a)},b.$3=function(){b.$1=!1,b.props.snapshotter.clear(),b.props.inputProps.onCommit()},a)||babelHelpers.assertThisInitialized(b)}var d=b.prototype;d.componentDidMount=function(){var a=this.props,b=a.snapshotter,c=a.initialComposerState;a=a.inputProps;if(c!=null)return;var d=b.get();d!=null&&a.onComposerStateChange(function(){return d})};d.render=function(){var b=this.props;b.snapshotter;var c=b.inputProps;b=babelHelpers.objectWithoutPropertiesLoose(b,["snapshotter","inputProps"]);return g.jsx(a,babelHelpers["extends"]({},b,{inputProps:babelHelpers["extends"]({},c,{onCommit:this.$3,onComposerStateChange:this.$2})}))};return b}(g.Component);function d(a){return g.jsx(c,babelHelpers["extends"]({},a,{snapshotter:b("getComposerStateSnapshotter")(a)}))}return b("createUFI2ComposerPlugin")(d)}}e.exports=b("killswitch")("UFI2_COMPOSER_STATE_SNAPSHOT_PLUGIN")?function(){return null}:a}),null);
__d("invokeDeferredFunctionIfRequired",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.getModuleIfRequired();for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return b?b.apply(void 0,d):null}e.exports=a}),null);
__d("createUFI2EmoticonsComposerPlugin",["requireDeferred","React","createUFI2ComposerPlugin","injectSubscriptionsHandler.react","invokeDeferredFunctionIfRequired"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("requireDeferred")("getUpgradedUFI2EmoticonsComposerPlugin");function a(a){return function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var c,d;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(c=d=e.call.apply(e,[this].concat(g))||this,d.state={upgradedPlugin:b("invokeDeferredFunctionIfRequired")(h,a)},d.$1=function(a){h.loadImmediately(d.$2),d.props.inputProps.onFocus&&d.props.inputProps.onFocus(a)},d.$2=function(b){d.state.upgradedPlugin||d.setState({upgradedPlugin:b(a)})},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.componentDidMount=function(){this.state.upgradedPlugin?this.state.upgradedPlugin.installPlugin(this.props):this.props.subscriptionsHandler.addSubscriptions(h.onReady(this.$2))};f.componentDidUpdate=function(a,b){b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props)};f.render=function(){if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,c);else return g.jsx(c,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{onFocus:this.$1})}))};return d}(g.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("createUFI2HashtagComposerPlugin",["requireDeferred","React","createUFI2ComposerPlugin","injectSubscriptionsHandler.react","invokeDeferredFunctionIfRequired"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("requireDeferred")("getUpgradedUFI2HashtagComposerPlugin");function a(){return function(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){var a,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=c=d.call.apply(d,[this].concat(f))||this,c.state={upgradedPlugin:b("invokeDeferredFunctionIfRequired")(h)},c.$1=function(a){h.loadImmediately(c.$2),c.props.inputProps.onFocus&&c.props.inputProps.onFocus(a)},c.$2=function(a){c.state.upgradedPlugin||c.setState({upgradedPlugin:a()})},a)||babelHelpers.assertThisInitialized(c)}var e=c.prototype;e.componentDidMount=function(){this.state.upgradedPlugin||this.props.subscriptionsHandler.addSubscriptions(h.onReady(this.$2))};e.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{composerState:this.state.upgradedPlugin?this.state.upgradedPlugin.installHashtagInputDecorator(this.props.inputProps.composerState):this.props.inputProps.composerState,onFocus:this.$1})}))};return c}(g.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(c))}}e.exports=a}),null);
__d("createUFI2MentionsComposerPlugin",["Bootloader","React","Run","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return function(c){var d=!1,e=function(f){babelHelpers.inheritsLoose(e,f);function e(){var c,e;for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];return(c=e=f.call.apply(f,[this].concat(h))||this,e.state={characterOffset:0,mentionableEntities:[],selectedMentionableEntity:null,upgradedPlugin:b("ifRequired").call(b("ifRequired"),a.upgradedPluginResource.getModuleId(),function(b){return b(a,d)},function(){return null})},e.$1=!1,e.$3=function(a){d=!1,e.props.inputProps.onBlur&&e.props.inputProps.onBlur(a)},e.$4=function(a){d=!0,e.$2(),e.props.inputProps.onFocus&&e.props.inputProps.onFocus(a)},c)||babelHelpers.assertThisInitialized(e)}var h=e.prototype;h.componentDidMount=function(){var a=this;this.state.upgradedPlugin!=null?this.state.upgradedPlugin.installPlugin(this.props,this.state,this.setState.bind(this)):this.props.subscriptionsHandler.addSubscriptions(b("Run").onAfterLoad(function(){return a.$2()}))};h.componentDidUpdate=function(a,b){b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props,this.state,this.setState.bind(this)),this.state.upgradedPlugin&&this.state.upgradedPlugin.componentDidUpdate(a,b,this.props,this.state,this.setState.bind(this))};h.componentWillUnmount=function(){this.state.upgradedPlugin&&this.state.upgradedPlugin.componentWillUnmount()};h.$2=function(){var c=this;if(this.$1||this.state.upgradedPlugin)return;this.$1=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules.call(b("Bootloader"),[a.upgradedPluginResource.getModuleId()],function(b){c.setState({upgradedPlugin:b(a,d)})},"createUFI2MentionsComposerPlugin"))};h.render=function(){var a=this.props;a.subscriptionsHandler;a=babelHelpers.objectWithoutPropertiesLoose(a,["subscriptionsHandler"]);if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,this.state,this.setState.bind(this),c);else return g.jsx(c,babelHelpers["extends"]({},a,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{onBlur:this.$3,onFocus:this.$4})}))};return e}(g.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(e))}}e.exports=a}),null);
__d("createUFI2PrefillMentionComposerPlugin",["requireDeferred","FBLogger","React","UFIODSLogger","createUFI2ComposerPlugin","injectSubscriptionsHandler.react","invokeDeferredFunctionIfRequired"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("requireDeferred")("getUpgradedUFI2PrefillMentionComposerPlugin");function a(){return function(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){var a,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=c=d.call.apply(d,[this].concat(f))||this,c.state={upgradedPlugin:b("invokeDeferredFunctionIfRequired")(h)},c.$1=function(a){var d=c.state.upgradedPlugin;d?(a.__type==="PrefillMention"&&b("UFIODSLogger").bump("prefill_mention_plugin.prefill_requested.with_implementation","relay"),d.handleCommand(a,c.props.inputProps)):(a.__type==="PrefillMention"&&(b("UFIODSLogger").bump("prefill_mention_plugin.prefill_requested.without_implementation","relay"),b("FBLogger")("ufi2").warn("Someone called for the composer to be prefilled with a mention before the prefill code had loaded. Nothing fatal happened, but the users involved experienced a degraded experience; the original author of the comment that was being replied to was likely not mentioned, hence they might not have been notified of the reply.")),c.props.inputProps.handleCommand&&c.props.inputProps.handleCommand(a))},a)||babelHelpers.assertThisInitialized(c)}var e=c.prototype;e.componentDidMount=function(){var a=this;this.state.upgradedPlugin||this.props.subscriptionsHandler.addSubscriptions(h.onReady(function(b){a.setState({upgradedPlugin:b()})}))};e.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{handleCommand:this.$1})}))};return c}(g.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(c))}}e.exports=a}),null);
__d("createUFI2SetReplyClickedComposerPlugin",["React","createUFI2ComposerPlugin"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(){return function(a){var c=function(c){babelHelpers.inheritsLoose(b,c);function b(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=function(a){var c=b.props.inputProps;a.__type==="SetReplyClicked"&&c.onComposerStateChange(function(a){return babelHelpers["extends"]({},a,{replyTargetClicked:!0})});c.handleCommand&&c.handleCommand(a)},a)||babelHelpers.assertThisInitialized(b)}var d=b.prototype;d.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{handleCommand:this.$1})}))};return b}(g.Component);return b("createUFI2ComposerPlugin")(c)}}e.exports=a}),null);
__d("getCometUFIComposerPlugins",["requireCond","CometRelay","JSResource","UFI2Config","cr:1638944","cr:1614564","cr:1540105","cr:1589159","createUFI2AssociateReplyWithParentComposerPlugin","cr:1515183","cr:1300886","createUFI2ComposerStateSnapshotComposerPlugin","createUFI2ComposerTipPlugin","cr:1300887","createUFI2EmoticonsComposerPlugin","cr:1300888","cr:1330087","cr:1300889","createUFI2HashtagComposerPlugin","cr:1329998","cr:1300890","cr:1645541","cr:1300892","cr:1300893","createUFI2MentionsComposerPlugin","createUFI2PrefillMentionComposerPlugin","createUFI2SetReplyClickedComposerPlugin","cr:1101374","cr:1300894","cr:1300895","cr:1300896","cr:1300897","cr:1004783","gkx","getCometUFIComposerPlugins_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("JSResource")("createUpgradedUFI2GroupMentionsComposerPlugin").__setRef("getCometUFIComposerPlugins"),i=b("JSResource")("createUpgradedUFI2MentionsComposerPlugin").__setRef("getCometUFIComposerPlugins");g!==void 0?g:g=b("getCometUFIComposerPlugins_feedback.graphql");function a(a){var c,d,e=a.environment,f=a.feedback;a=a.pluginsToInsertBeforePositions;var g=f.associated_group,j=f.id,k=f.mentions_datasource_js_constructor_args_json,l=b("gkx")("1224637");c=(f==null?void 0:(c=f.viewer_actor)==null?void 0:(c=c.user_avatar)==null?void 0:c.has_fb_app_avatar)===!0;return[g!=null&&g.id!=null&&g.can_viewer_see_interruptive_rules_in_composer===!0&&b("cr:1638944")!=null?b("cr:1638944")({environment:e,groupID:g.id}):null,b("cr:1645541")!=null?b("cr:1645541")():null,f.can_viewer_comment_with_marker===!0&&b("cr:1330087")!=null?b("cr:1330087")():null,f.composer_tip!=null?b("createUFI2ComposerTipPlugin")({composer_tip:f.composer_tip}):null,b("cr:1329998")!=null?b("cr:1329998")({environment:e}):null,b("cr:1004783")&&b("UFI2Config").shouldShowWritingHelp?b("cr:1004783")({environment:e,isAutoEnabled:!1}):null,g?b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:k,typeaheadViewProps:{__type:"GroupMentions",sortFn:function(a,b){var c=a.getAuxiliaryData().renderType,d=b.getAuxiliaryData().renderType;if(c===d){var e=a.getAuxiliaryData().indexRank,f=b.getAuxiliaryData().indexRank;if(e===-1&&f!==-1)return-1;else if(e!==-1&&f===-1)return 1;else return a.getOrder()-b.getOrder()}e={bot:1,member:0,non_member:2,place:3};return e[c]-e[d]},viewProps:{bot:{aux:(d=g.group_mentions_sections_info)==null?void 0:d.bot_aux,title:(d=g.group_mentions_sections_info)==null?void 0:d.bot_title},member:{aux:(d=g.group_mentions_sections_info)==null?void 0:d.member_aux,title:(d=g.group_mentions_sections_info)==null?void 0:d.member_title},nonMember:{aux:(d=g.group_mentions_sections_info)==null?void 0:d.nonmember_aux,title:(d=g.group_mentions_sections_info)==null?void 0:d.nonmember_title}}},upgradedPluginResource:h}):b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:k,typeaheadViewProps:{},upgradedPluginResource:i})].concat(f.can_viewer_comment_with_stars===!0&&b("cr:1300894")!=null?b("cr:1300894")({environment:e,feedbackID:f.id}):[],[f.can_viewer_comment_with_bot_mention===!0&&g!=null&&g.id!=null&&b("cr:1300886")!=null?b("cr:1300886")({groupID:g.id}):null,b("createUFI2HashtagComposerPlugin")()],a?a["1"]||[]:[],[b("cr:1515183")!=null&&(c||b("gkx")("1537561"))?b("cr:1515183")({hasAvatar:c}):null],b("cr:1300887")!=null?b("cr:1300887")({size:16}):[],a?a["2"]||[]:[],[b("createUFI2EmoticonsComposerPlugin")({size:16}),f.is_comment_markdown_eligible===!0&&j!=null&&b("cr:1300892")!=null?b("cr:1300892")({topLevelFeedbackTargetID:j}):null,f.can_viewer_comment_with_photo===!0&&f.can_viewer_comment_with_video===!0&&b("cr:1300888")!=null?b("cr:1300888")({allowFileUpload:f.can_viewer_comment_with_file===!0,feedback:{viewer_actor:f.viewer_actor}}):null,f.can_viewer_comment_with_insight_point===!0&&b("cr:1300890")!=null?b("cr:1300890")():null,b("cr:1540105")!=null?b("cr:1540105")({feedback:f,relayEnvironment:e}):null],a?a["3"]||[]:[],[f.can_viewer_comment_with_photo===!0&&f.can_viewer_comment_with_video===!0&&b("cr:1300893")!=null?b("cr:1300893")({feedback:f}):null],a?a["4"]||[]:[],f.can_viewer_comment_with_gif===!0&&b("cr:1300889")!=null?b("cr:1300889")({ftentidentifier:f==null?void 0:f.id}):[],a?a["5"]||[]:[],f.can_viewer_comment_with_sticker===!0&&b("cr:1300895")!=null?b("cr:1300895")({environment:e,targetID:(d=f.owning_profile)==null?void 0:d.id}):[],[b("createUFI2PrefillMentionComposerPlugin")(),b("createUFI2AssociateReplyWithParentComposerPlugin")(),b("createUFI2SetReplyClickedComposerPlugin")(),b("createUFI2ComposerStateSnapshotComposerPlugin")(),b("cr:1300896")!=null&&b("gkx")("779036")?b("cr:1300896")():null],b("cr:1300897")!=null?b("cr:1300897")({allowGifAttachments:(k=f.can_viewer_comment_with_gif)!=null?k:!1,allowStickerAttachments:(g=f.can_viewer_comment_with_sticker)!=null?g:!1,environment:e,targetID:f==null?void 0:(c=f.owning_profile)==null?void 0:c.id}):[],[l&&b("cr:1101374")!=null&&b("cr:1589159")==null?b("cr:1101374")({environment:e,ftentidentifier:f==null?void 0:f.id,surface:"workplace_comment_www"}):null,b("cr:1589159")!=null&&f.composer_tip==null?b("cr:1589159")({environment:e,ftentidentifier:f==null?void 0:f.id,surface:l?"workplace_comment_www":"newsfeed_comment_www_comet"}):null,b("cr:1614564")!=null?b("cr:1614564")():null,b("cr:1645541")!=null?b("cr:1645541")():null]).filter(Boolean)}e.exports=a}),null);
__d("LoadingIndicator.react",["cx","ix","Image.react","React","joinClasses","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=b("keyMirror")({white:!0,blue:!0,black:!0});c=b("keyMirror")({small:!0,medium:!0,large:!0});var j={white:{large:h("85426"),medium:h("85427"),small:h("85428")},blue:{large:h("85429"),small:h("85430")},black:{large:h("85423")}};d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.color;a=a.size;c=j[c];if(!c)return i.jsx("span",{});c=Object.prototype.hasOwnProperty.call(c,a)?c[a]:null;if(!c)return i.jsx("span",{});a=this.props.showonasync===!0?"uiLoadingIndicatorAsync":"";return i.jsx(b("Image.react"),babelHelpers["extends"]({},this.props,{src:c,className:b("joinClasses")(this.props.className,a)}))};return c}(i.Component);d.SIZES=c;d.COLORS=a;e.exports=d}),null);
__d("textProbablyWritingMarkdown",["CurrentUser"],(function(a,b,c,d,e,f){"use strict";var g=1e3;function a(a){a.length>g&&(a=a.slice(0,g));var c=a.match(/^[*+-] /gm);if(c&&c.length>1)return!0;c=a.match(/^[\t ]*[>+-]/gm);if(c!=null)return!0;c=a.match(/`/);if(c)return!0;c=a.match(/\$([^ \t\n\$]([^\$]*[^ \t\n\$])?)\$/);if(c)return!0;c=a.match(/__([\s\S]+?)__(?!_)|\*\*([\s\S]+?)\*\*(?!\*)/);if(c)return!0;c=a.match(/(^\s{0,3}#{2,6}[^#])|(^\s*[-=]{5,}\s*$)/m);if(c)return!0;c=a.match(/\]\(|\]\[/);if(c)return!0;if(!b("CurrentUser").isEmployee())return!1;c=a.match(/\b[sS]\d{5,6}\b/);if(c)return!0;c=a.match(/\b[tT]\d{7,8}\b/);if(c)return!0;c=a.match(/\b[dD]\d{6,8}\b/);if(c)return!0;c=a.match(/\b[qQ]\d{1,8}\b/);if(c)return!0;c=a.match(/\b[pP]\d{7,9}\b/);if(c)return!0;c=a.match(/\b(cms|CMS)\d\b/);if(c)return!0;c=a.match(/\b[aA]\d{4,}\b/);if(c)return!0;c=a.match(/\b[zZ][0-9]{4,}\b/);if(c)return!0;c=a.match(/\b(NT|nt)\d{4,}\b/);if(c)return!0;c=a.match(/\b(re|RE)\d{4,16}\b/);if(c)return!0;c=a.match(/\b(s2p|S2P)\s?\d{4,16}\b/);if(c)return!0;c=a.match(/\b(pr|PR)\d{4,16}\b/);if(c)return!0;c=a.match(/\b(po|PO)\d{4,16}\b/);if(c)return!0;c=a.match(/\b(inv|INV)\d{4,16}\b/);if(c)return!0;c=a.match(/\b(inb|INB)\d{4,16}\b/);if(c)return!0;c=a.match(/\b(out|OUT)\d{4,16}\b/);if(c)return!0;c=a.match(/\b(nda|NDA)\d{4,16}\b/);if(c)return!0;c=a.match(/\b(set|SET)\d{4,16}\b/);if(c)return!0;c=a.match(/\b(contract|CONTRACT)\d{4,16}\b/);if(c)return!0;c=a.match(/\b(ie|IE)\d{3,15}\b/);if(c)return!0;c=a.match(/\b[lL][0-9]{5,11}(?:[a-zA-Z]{1,5}\d{0,2})?\b/);if(c)return!0;c=a.match(/\b(C|C#|CASE)\d{3,}\b/);if(c)return!0;c=a.match(/\b[Nn](\d{4,10})\b/);if(c)return!0;c=a.match(/\b(nwt|NWT)\d{4,16}\b/);if(c)return!0;c=a.match(/\b(oa|OA)\d{1,16}\b/);if(c)return!0;c=a.match(/\b(rid|RID)\d{4,16}\b/);if(c)return!0;c=a.match(/\b(PD|pd|M|m)\d{6,11}\b/);if(c)return!0;c=a.match(/\b(ME|Me|mE|me)[0-9]{3,11}\b/);if(c)return!0;c=a.match(/\b(K|k)[0-9]{3,}\b/);if(c)return!0;c=a.match(/\b(G|g)(\d{1,})\b/);return c?!0:!1}e.exports=a}),null);
__d("UFI2BanActorLink.react",["fbt","requireDeferred","React","UFI2CometRelayCreateFragmentContainer","UFI2CommentActionLinks.react","UFI2LinkWrapper.react","UFI2BanActorLink_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=b("requireDeferred")("UFI2BanActorMutation");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var k=b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem;function a(a){var c,d=a.relay,e=a.comment,f=a.feedbackSource;a=a.className;var h=e==null?void 0:(c=e.parent_feedback)==null?void 0:c.id,l=e==null?void 0:(c=e.parent_feedback)==null?void 0:(c=c.viewer_acts_as_page)==null?void 0:c.id,m=e==null?void 0:(c=e.author)==null?void 0:c.id;return l==null||m==null?null:i.jsx(k,{children:i.jsx(b("UFI2LinkWrapper.react"),{className:a,href:"#",onClick:function(){return j.onReadyImmediately(function(a){a.commit(d.environment,{actorId:l,feedbackId:h,feedbackSource:f,pageId:l,targetUserId:m,undoBan:Boolean(e.is_author_banned_by_content_owner)})})},role:"button",children:(e==null?void 0:e.is_author_banned_by_content_owner)?g._("Unban {name}",[g._param("name",(c=e.author)==null?void 0:c.name)]):g._("Ban {name}",[g._param("name",(a=e.author)==null?void 0:a.name)])})})}e.exports=c(a,{comment:h!==void 0?h:h=b("UFI2BanActorLink_comment.graphql")})}),null);
__d("UFI2AvatarComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("UFI2InsertAvatarButton.react").__setRef("UFI2AvatarComposerAction.react"));function a(a){var c=h._("Post an Avatar Sticker");return i.jsx(b("UFI2ComposerAction.react"),{createComponentProps:function(b){b=b.clicked;return{buttonClassName:"_1t9_ _8rl6",hasAvatar:a.hasAvatar,iconActiveClassName:"_8rl7",iconClassName:"InsertAvatar",initiallyVisible:b,onComposerStateChange:a.onComposerStateChange}},label:c,placeholder:i.jsx(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _8rl6",iconClassName:"InsertAvatar",label:c}),resource:j})}e.exports=a}),null);
__d("createUFI2AvatarComposerPlugin",["React","UFI2AvatarComposerAction.react","createUFI2ComposerPlugin"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){return e.apply(this,arguments)||this}var f=d.prototype;f.render=function(){return g.jsx(c,babelHelpers["extends"]({},this.props,{actions:[].concat(this.props.actions,[g.jsx(b("UFI2AvatarComposerAction.react"),{hasAvatar:a.hasAvatar,onComposerStateChange:this.props.inputProps.onComposerStateChange},"avatarComposerAction")])}))};return d}(g.Component);return b("createUFI2ComposerPlugin")(d)};return c}e.exports=a}),null);
__d("UFI2InsertEmojiComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("UFI2EmojiInputButton.react").__setRef("UFI2InsertEmojiComposerAction.react"));function a(a){var c=h._("Insert an emoji");return i.jsx(b("UFI2ComposerAction.react"),{createComponentProps:function(b){b=b.clicked;return{buttonClassName:"_1t9_ _1ta3",iconActiveClassName:"UFICommentEmojiIconActive",iconClassName:"InsertEmoji",initiallyVisible:b,onComposerStateChange:a.onComposerStateChange}},label:c,placeholder:i.jsx(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _1ta3",iconClassName:"InsertEmoji",label:c}),resource:j})}e.exports=a}),null);
__d("createUFI2EmojiComposerActionComponentPlugin",["requireDeferred","React","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("requireDeferred")("getUpgradedUFI2EmojiComposerPlugin");function a(a){return function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var c,d;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(c=d=e.call.apply(e,[this].concat(g))||this,d.state={upgradedPlugin:b("ifRequired").call(null,"getUpgradedUFI2EmojiComposerPlugin",function(b){return b(a)})},d.$1=function(a,b){if(d.state.upgradedPlugin!=null)return d.state.upgradedPlugin.handleKeyCommand(d.props.inputProps,a,b);else return d.props.inputProps.handleKeyCommand?d.props.inputProps.handleKeyCommand(a,b):"not-handled"},d.$2=function(a){h.loadImmediately(d.$3),d.props.inputProps.onFocus&&d.props.inputProps.onFocus(a)},d.$3=function(b){d.state.upgradedPlugin||d.setState({upgradedPlugin:b(a)})},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.componentDidMount=function(){this.state.upgradedPlugin||this.props.subscriptionsHandler.addSubscriptions(h.onReady(this.$3))};f.render=function(){return g.jsx(c,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{composerState:this.state.upgradedPlugin?this.state.upgradedPlugin.installEmojiInputDecorator(this.props.inputProps.composerState):this.props.inputProps.composerState,handleKeyCommand:this.$1,onFocus:this.$2})}))};return d}(g.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("createUFI2EmojiComposerPlugin",["React","UFI2InsertEmojiComposerAction.react","createUFI2ComposerPlugin","createUFI2EmojiComposerActionComponentPlugin","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=function(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){return d.apply(this,arguments)||this}var e=c.prototype;e.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.props,{actions:[].concat(this.props.actions,[g.jsx(b("UFI2InsertEmojiComposerAction.react"),{onComposerStateChange:this.props.inputProps.onComposerStateChange},"emojiComposerAction")])}))};return c}(g.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(c))};return[c,b("createUFI2EmojiComposerActionComponentPlugin")(a)]}e.exports=a}),null);
__d("UFI2InsertGIFComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("UFI2InsertGIFButtonWrapper.react").__setRef("UFI2InsertGIFComposerAction.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.onComposerStateChange,d=a.ftentidentifier,e=h._("Post a GIF");return i.jsx(b("UFI2ComposerAction.react"),{createComponentProps:function(a){a=a.clicked;return{buttonClassName:"_1t9_ _1ny6",ftentidentifier:d,iconActiveClassName:"_1ny9",iconClassName:"_1nyp",initiallyVisible:a,label:e,onComposerStateChange:c}},label:e,placeholder:i.jsx(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _1ny6",iconClassName:"_1nyp",label:e}),resource:j})};return c}(i.PureComponent);e.exports=a}),null);
__d("createUFI2GIFComposerActionComposerPlugin",["cx","fbt","UFI2NUXConfig","React","UFI2ComposerPreviewArea.react","Image.react","createUFI2ComposerPlugin"],(function(a,b,c,d,e,f,g,h){"use strict";b("UFI2NUXConfig");var i=b("React"),j="GIF";function k(a){return a.attachment&&a.attachment.__type===j?a.attachment.data:null}function a(){return function(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){var a,b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(a=b=d.call.apply(d,[this].concat(e))||this,b.$1=function(a){b.props.inputProps.onComposerStateChange(function(a){return{attachment:null}})},a)||babelHelpers.assertThisInitialized(b)}var e=c.prototype;e.componentDidMount=function(){this.props.onInstallAttachmentMappers(function(a){return a.__type===j?{link:{external:{url:a.data.source.url}}}:null})};e.componentDidUpdate=function(a){var b=this.props.inputProps.composerState;a=a.inputProps.composerState;var c=k(b);if(a.attachment==null&&c&&k(a)==null){c=b.inputState;a=!1;switch(c.__type){case"plain-text":a=c.text.trim()!=="";break;case"editor-state-based":a=c.editorState.getCurrentContent().getPlainText().trim()!=="";break;default:c.__type}a===!1&&this.props.inputProps.onCommit()}};e.render=function(){var c=this.props.inputProps.composerState;c=k(c);return i.jsxs("div",{className:"_17pg",children:[i.jsx(a,babelHelpers["extends"]({},this.props)),c?i.jsx(b("UFI2ComposerPreviewArea.react"),{onRemoveClick:this.$1,removeButtonLabel:h._("Remove GIF"),children:i.jsx(b("Image.react"),{className:"_17pj mas",height:c.media.preview.height,src:c.media.preview.url,width:c.media.preview.width})}):null]})};return c}(i.Component);return b("createUFI2ComposerPlugin")(c)}}e.exports=a}),null);
__d("createUFI2GIFComposerPlugin",["cx","React","UFI2InsertGIFComposerAction.react","createUFI2ComposerPlugin","createUFI2GIFComposerActionComposerPlugin","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var a,b;for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];return(a=b=e.call.apply(e,[this].concat(d))||this,b.action=h.createRef(),a)||babelHelpers.assertThisInitialized(b)}var f=d.prototype;f.render=function(){var d=this.props.inputProps.composerState;return h.jsx("div",{className:"_17pg",children:h.jsx(c,babelHelpers["extends"]({},this.props,{actions:d.attachment?this.props.actions:[].concat(this.props.actions,[h.jsx(b("UFI2InsertGIFComposerAction.react"),{ftentidentifier:b("qex")._("1000665")?a.ftentidentifier:null,onComposerStateChange:this.props.inputProps.onComposerStateChange,ref:this.action},"gifComposerAction")])}))})};return d}(h.Component);return b("createUFI2ComposerPlugin")(d)};return[c,b("createUFI2GIFComposerActionComposerPlugin")()]}e.exports=a}),null);
__d("UFI2InsertStarsComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("UFI2InsertStarsButton.react").__setRef("UFI2InsertStarsComposerAction.react"));function a(a){var c=h._("Attach Stars");return i.jsx(b("UFI2ComposerAction.react"),{createComponentProps:function(b){b=b.clicked;return{buttonClassName:"_1t9_ _88o2 UFICommentSupportButton",feedbackID:a.feedbackID,iconActiveClassName:"_88o3",iconClassName:"_88o4",initiallyVisible:b,label:c,onComposerStateChange:a.onComposerStateChange}},label:c,placeholder:i.jsx(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _88o2 UFICommentSupportButton",iconClassName:"_88o4",label:c}),resource:j})}e.exports=a}),null);
__d("createUFI2StarsComposerActionComposerPlugin",["ix","cx","fbt","CometStarsVirtualGiftView.react","FlexLayout.react","Image.react","React","TetraText.react","UFI2ComposerPreviewArea.react","asset","createUFI2ComposerPlugin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a){return a.attachment&&a.attachment.__type==="Stars"?{amount:a.attachment.amount,gift:a.attachment.gift}:null}function a(){return function(a){var c=function(d){babelHelpers.inheritsLoose(c,d);function c(){var a,b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(a=b=d.call.apply(d,[this].concat(e))||this,b.$1=function(a){b.props.inputProps.onComposerStateChange(function(a){return{attachment:null}})},a)||babelHelpers.assertThisInitialized(b)}var e=c.prototype;e.componentDidMount=function(){this.props.onInstallAttachmentMappers(function(a){if(a.__type==="Stars"){return{stars:{amount:a.amount,gift_id:(a=a.gift)==null?void 0:a.id}}}return null})};e.render=function(){var c=k(this.props.inputProps.composerState);return j.jsxs("div",{children:[j.jsx(a,babelHelpers["extends"]({},this.props)),c!=null?j.jsx(b("UFI2ComposerPreviewArea.react"),{onRemoveClick:this.$1,removeButtonLabel:i._("Remove stars"),children:j.jsx(l,{gift:c.gift,starAmount:c.amount})}):null]})};return c}(j.Component);return b("createUFI2ComposerPlugin")(c)}}function l(a){var c=a.gift;a=a.starAmount;return c!=null?j.jsx(b("CometStarsVirtualGiftView.react"),babelHelpers["extends"]({},c,{isSelected:!1})):j.jsxs(b("FlexLayout.react"),{align:"center",className:"_3-8i",children:[j.jsx(b("Image.react"),{className:"_3-8s",src:g("647932")}),j.jsx(b("TetraText.react"),{type:"bodyLink4",children:i._("{star quantity} Stars",[i._param("star quantity",a)])})]})}e.exports=a}),null);
__d("createUFI2StarsComposerPlugin",["React","UFI2InsertStarsComposerAction.react","createUFI2ComposerPlugin","createUFI2StarsComposerActionComposerPlugin"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){return e.apply(this,arguments)||this}var f=d.prototype;f.render=function(){return g.jsx(c,babelHelpers["extends"]({},this.props,{actions:this.props.inputProps.composerState.attachment||this.props.inputProps.depth>0||this.props.inputProps.commentAction!=="ADD"?this.props.actions:[].concat(this.props.actions,[g.jsx(b("UFI2InsertStarsComposerAction.react"),{feedbackID:a.feedbackID,onComposerStateChange:this.props.inputProps.onComposerStateChange},"starsComposerAction")])}))};return d}(g.Component);return b("createUFI2ComposerPlugin")(d)};return[c,b("createUFI2StarsComposerActionComposerPlugin")()]}e.exports=a}),null);
__d("UFI2InsertStickerComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("UFI2InsertStickerButton.react").__setRef("UFI2InsertStickerComposerAction.react"));function a(a){var c=h._("Post a sticker");return i.jsx(b("UFI2ComposerAction.react"),{createComponentProps:function(b){b=b.clicked;return{buttonClassName:"_1t9_ _2r-o",feedbackID:a.feedbackID,iconActiveClassName:"_2r-q",iconClassName:"_2r-r",initiallyVisible:b,label:c,onComposerStateChange:a.onComposerStateChange,targetID:a.targetID}},label:c,placeholder:i.jsx(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _2r-o",iconClassName:"_2r-r",label:c}),resource:j})}e.exports=a}),null);
__d("createUFI2StickersComposerActionComposerPlugin",["cx","fbt","Bootloader","FBLogger","LoadingIndicator.react","React","UFI2ComposerPreviewArea.react","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){return a.attachment&&a.attachment.__type==="Sticker"?a.attachment.id:null}function a(a){return function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=e.call.apply(e,[this].concat(g))||this,d.$1=!1,d.state={upgradedPlugin:b("ifRequired")("getUpgradedUFI2StickersComposerPlugin",function(b){return b(a)},function(){return null})},d.$2=function(a){d.props.inputProps.onComposerStateChange(function(a){return{attachment:null}})},d.$3=function(a){d.props.inputProps.onComposerStateChange(function(){return{attachment:null}}),b("FBLogger")("ufi2").catching(a).mustfix("Encountered an error while rendering a sticker.")},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.$4=function(c){var d=i.jsx(b("LoadingIndicator.react"),{className:"_1rwi mal",color:"blue",size:"small"});if(this.state.upgradedPlugin)return this.state.upgradedPlugin.renderSticker(a.environment,d,this.$3,c);else return d};f.$5=function(){if(this.state.upgradedPlugin||this.$1)return!1;var a=this.props.inputProps.composerState;return a.attachment!=null&&a.attachment.__type==="Sticker"};f.$6=function(){var c=this;if(this.state.upgradedPlugin||this.$1)return;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2StickersComposerPlugin"],function(b){c.setState({upgradedPlugin:b(a)})},"createUFI2StickersComposerActionComposerPlugin"))};f.componentDidMount=function(){this.props.onInstallAttachmentMappers(function(a){return a.__type==="Sticker"?{media:{id:a.id}}:null}),this.$5()&&this.$6()};f.componentDidUpdate=function(a){var b=this.props.inputProps.composerState;a=a.inputProps.composerState;var c=j(b);if(this.props.inputProps.commentAction==="ADD"&&b.updateSource==="UFI2InsertStickerButton"&&a.attachment==null&&c!=null&&j(a)==null){c=b.inputState;a=!1;switch(c.__type){case"plain-text":a=c.text.trim()!=="";break;case"editor-state-based":a=c.editorState.getCurrentContent().getPlainText().trim()!=="";break;default:c.__type}a===!1&&this.props.inputProps.onCommit()}this.$5()&&this.$6()};f.render=function(){var a=j(this.props.inputProps.composerState);return i.jsxs("div",{className:"_1rwk",children:[i.jsx(c,babelHelpers["extends"]({},this.props)),a!=null?i.jsx(b("UFI2ComposerPreviewArea.react"),{onRemoveClick:this.$2,removeButtonLabel:h._("Remove sticker"),children:this.$4(a)}):null]})};return d}(i.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("createUFI2StickersComposerPlugin",["React","UFI2InsertStickerComposerAction.react","createUFI2ComposerPlugin","createUFI2StickersComposerActionComposerPlugin"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){return e.apply(this,arguments)||this}var f=d.prototype;f.render=function(){return g.jsx(c,babelHelpers["extends"]({},this.props,{actions:this.props.inputProps.composerState.attachment?this.props.actions:[].concat(this.props.actions,[g.jsx(b("UFI2InsertStickerComposerAction.react"),{feedbackID:this.props.inputProps.composerState.feedbackID,onComposerStateChange:this.props.inputProps.onComposerStateChange,targetID:a.targetID},"stickersComposerAction")])}))};return d}(g.Component);return b("createUFI2ComposerPlugin")(d)};return[c,b("createUFI2StickersComposerActionComposerPlugin")({environment:a.environment,targetID:a.targetID})]}e.exports=a}),null);
__d("UFI2RealtimeContext",["React","warning"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(function(){b("warning")(!1,"UFI2RealtimeContext: Using default context. Put an instance of `UFI2RealtimeRoot` in the tree.");return{dispose:function(){}}});e.exports=c}),null);
__d("UFI2RealtimeContainer.react",["React","UFI2RealtimeContext"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useContext,i=c.useEffect;function a(a){var c=a.children;a=a.subscribe;var d=h(b("UFI2RealtimeContext"));return g.jsx(j,{factory:d,subscribe:a,children:c})}var j=function(a){var b=a.factory,c=a.subscribe;a=a.children;i(function(){var a=b(new k(c));return function(){a.dispose()}},[b,c]);return(a=a)!=null?a:null},k=function(){function a(a){this.$1=a}var b=a.prototype;b.subscribe=function(){this.$2||(this.$2=this.$1())};b.unsubscribe=function(){this.$2&&(this.$2.dispose(),this.$2=null)};return a}();e.exports=a}),null);
__d("useTrackingCodeFnForComet",["React","useCometTrackingCodeForMutationProperties"],(function(a,b,c,d,e,f){"use strict";a=b("React");var g=a.useCallback;c=function(){var a=b("useCometTrackingCodeForMutationProperties")(),c=g(function(){return a},[a]);return c};e.exports=c}),null);